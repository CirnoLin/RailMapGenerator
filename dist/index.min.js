/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 	};
/******/
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"index": 0
/******/ 	};
/******/
/******/
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"LineGZ":"LineGZ","LineSH":"LineSH"}[chunkId]||chunkId) + ".min.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "./dist/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@material/base/component.js":
/*!**************************************************!*\
  !*** ./node_modules/@material/base/component.js ***!
  \**************************************************/
/*! exports provided: MDCComponent, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCComponent", function() { return MDCComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/base/foundation.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */


var MDCComponent = /** @class */ (function () {
    function MDCComponent(root, foundation) {
        var args = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            args[_i - 2] = arguments[_i];
        }
        this.root_ = root;
        this.initialize.apply(this, tslib__WEBPACK_IMPORTED_MODULE_0__["__spread"](args));
        // Note that we initialize foundation here and not within the constructor's default param so that
        // this.root_ is defined and can be used within the foundation class.
        this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;
        this.foundation_.init();
        this.initialSyncWithDOM();
    }
    MDCComponent.attachTo = function (root) {
        // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and
        // returns an instantiated component with its root set to that element. Also note that in the cases of
        // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized
        // from getDefaultFoundation().
        return new MDCComponent(root, new _foundation__WEBPACK_IMPORTED_MODULE_1__["MDCFoundation"]({}));
    };
    /* istanbul ignore next: method param only exists for typing purposes; it does not need to be unit tested */
    MDCComponent.prototype.initialize = function () {
        var _args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            _args[_i] = arguments[_i];
        }
        // Subclasses can override this to do any additional setup work that would be considered part of a
        // "constructor". Essentially, it is a hook into the parent constructor before the foundation is
        // initialized. Any additional arguments besides root and foundation will be passed in here.
    };
    MDCComponent.prototype.getDefaultFoundation = function () {
        // Subclasses must override this method to return a properly configured foundation class for the
        // component.
        throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +
            'foundation class');
    };
    MDCComponent.prototype.initialSyncWithDOM = function () {
        // Subclasses should override this method if they need to perform work to synchronize with a host DOM
        // object. An example of this would be a form control wrapper that needs to synchronize its internal state
        // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM
        // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.
    };
    MDCComponent.prototype.destroy = function () {
        // Subclasses may implement this method to release any resources / deregister any listeners they have
        // attached. An example of this might be deregistering a resize event from the window object.
        this.foundation_.destroy();
    };
    MDCComponent.prototype.listen = function (evtType, handler, options) {
        this.root_.addEventListener(evtType, handler, options);
    };
    MDCComponent.prototype.unlisten = function (evtType, handler, options) {
        this.root_.removeEventListener(evtType, handler, options);
    };
    /**
     * Fires a cross-browser-compatible custom event from the component root of the given type, with the given data.
     */
    MDCComponent.prototype.emit = function (evtType, evtData, shouldBubble) {
        if (shouldBubble === void 0) { shouldBubble = false; }
        var evt;
        if (typeof CustomEvent === 'function') {
            evt = new CustomEvent(evtType, {
                bubbles: shouldBubble,
                detail: evtData,
            });
        }
        else {
            evt = document.createEvent('CustomEvent');
            evt.initCustomEvent(evtType, shouldBubble, false, evtData);
        }
        this.root_.dispatchEvent(evt);
    };
    return MDCComponent;
}());

// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (MDCComponent);
//# sourceMappingURL=component.js.map

/***/ }),

/***/ "./node_modules/@material/base/foundation.js":
/*!***************************************************!*\
  !*** ./node_modules/@material/base/foundation.js ***!
  \***************************************************/
/*! exports provided: MDCFoundation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCFoundation", function() { return MDCFoundation; });
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var MDCFoundation = /** @class */ (function () {
    function MDCFoundation(adapter) {
        if (adapter === void 0) { adapter = {}; }
        this.adapter_ = adapter;
    }
    Object.defineProperty(MDCFoundation, "cssClasses", {
        get: function () {
            // Classes extending MDCFoundation should implement this method to return an object which exports every
            // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}
            return {};
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCFoundation, "strings", {
        get: function () {
            // Classes extending MDCFoundation should implement this method to return an object which exports all
            // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}
            return {};
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCFoundation, "numbers", {
        get: function () {
            // Classes extending MDCFoundation should implement this method to return an object which exports all
            // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}
            return {};
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCFoundation, "defaultAdapter", {
        get: function () {
            // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient
            // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter
            // validation.
            return {};
        },
        enumerable: true,
        configurable: true
    });
    MDCFoundation.prototype.init = function () {
        // Subclasses should override this method to perform initialization routines (registering events, etc.)
    };
    MDCFoundation.prototype.destroy = function () {
        // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)
    };
    return MDCFoundation;
}());

// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (MDCFoundation);
//# sourceMappingURL=foundation.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip-set/component.js":
/*!************************************************************!*\
  !*** ./node_modules/@material/chips/chip-set/component.js ***!
  \************************************************************/
/*! exports provided: MDCChipSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCChipSet", function() { return MDCChipSet; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/component */ "./node_modules/@material/base/component.js");
/* harmony import */ var _chip_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chip/component */ "./node_modules/@material/chips/chip/component.js");
/* harmony import */ var _chip_foundation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chip/foundation */ "./node_modules/@material/chips/chip/foundation.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/chips/chip-set/foundation.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */





var _a = _chip_foundation__WEBPACK_IMPORTED_MODULE_3__["MDCChipFoundation"].strings, INTERACTION_EVENT = _a.INTERACTION_EVENT, SELECTION_EVENT = _a.SELECTION_EVENT, REMOVAL_EVENT = _a.REMOVAL_EVENT, NAVIGATION_EVENT = _a.NAVIGATION_EVENT;
var CHIP_SELECTOR = _foundation__WEBPACK_IMPORTED_MODULE_4__["MDCChipSetFoundation"].strings.CHIP_SELECTOR;
var idCounter = 0;
var MDCChipSet = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCChipSet, _super);
    function MDCChipSet() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MDCChipSet.attachTo = function (root) {
        return new MDCChipSet(root);
    };
    Object.defineProperty(MDCChipSet.prototype, "chips", {
        get: function () {
            return this.chips_.slice();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChipSet.prototype, "selectedChipIds", {
        /**
         * @return An array of the IDs of all selected chips.
         */
        get: function () {
            return this.foundation_.getSelectedChipIds();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param chipFactory A function which creates a new MDCChip.
     */
    MDCChipSet.prototype.initialize = function (chipFactory) {
        if (chipFactory === void 0) { chipFactory = function (el) { return new _chip_component__WEBPACK_IMPORTED_MODULE_2__["MDCChip"](el); }; }
        this.chipFactory_ = chipFactory;
        this.chips_ = this.instantiateChips_(this.chipFactory_);
    };
    MDCChipSet.prototype.initialSyncWithDOM = function () {
        var _this = this;
        this.chips_.forEach(function (chip) {
            if (chip.id && chip.selected) {
                _this.foundation_.select(chip.id);
            }
        });
        this.handleChipInteraction_ = function (evt) { return _this.foundation_.handleChipInteraction(evt.detail.chipId); };
        this.handleChipSelection_ = function (evt) {
            _this.foundation_.handleChipSelection(evt.detail.chipId, evt.detail.selected, evt.detail.shouldIgnore);
        };
        this.handleChipRemoval_ = function (evt) { return _this.foundation_.handleChipRemoval(evt.detail.chipId); };
        this.handleChipNavigation_ = function (evt) { return _this.foundation_.handleChipNavigation(evt.detail.chipId, evt.detail.key, evt.detail.source); };
        this.listen(INTERACTION_EVENT, this.handleChipInteraction_);
        this.listen(SELECTION_EVENT, this.handleChipSelection_);
        this.listen(REMOVAL_EVENT, this.handleChipRemoval_);
        this.listen(NAVIGATION_EVENT, this.handleChipNavigation_);
    };
    MDCChipSet.prototype.destroy = function () {
        this.chips_.forEach(function (chip) {
            chip.destroy();
        });
        this.unlisten(INTERACTION_EVENT, this.handleChipInteraction_);
        this.unlisten(SELECTION_EVENT, this.handleChipSelection_);
        this.unlisten(REMOVAL_EVENT, this.handleChipRemoval_);
        this.unlisten(NAVIGATION_EVENT, this.handleChipNavigation_);
        _super.prototype.destroy.call(this);
    };
    /**
     * Adds a new chip object to the chip set from the given chip element.
     */
    MDCChipSet.prototype.addChip = function (chipEl) {
        chipEl.id = chipEl.id || "mdc-chip-" + ++idCounter;
        this.chips_.push(this.chipFactory_(chipEl));
    };
    MDCChipSet.prototype.getDefaultFoundation = function () {
        var _this = this;
        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.
        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.
        var adapter = {
            focusChipPrimaryActionAtIndex: function (index) {
                _this.chips_[index].focusPrimaryAction();
            },
            focusChipTrailingActionAtIndex: function (index) {
                _this.chips_[index].focusTrailingAction();
            },
            getChipListCount: function () { return _this.chips_.length; },
            getIndexOfChipById: function (chipId) {
                return _this.findChipIndex_(chipId);
            },
            hasClass: function (className) { return _this.root_.classList.contains(className); },
            isRTL: function () { return window.getComputedStyle(_this.root_).getPropertyValue('direction') === 'rtl'; },
            removeChipAtIndex: function (index) {
                if (index >= 0 && index < _this.chips_.length) {
                    _this.chips_[index].destroy();
                    _this.chips_[index].remove();
                    _this.chips_.splice(index, 1);
                }
            },
            removeFocusFromChipAtIndex: function (index) {
                _this.chips_[index].removeFocus();
            },
            selectChipAtIndex: function (index, selected, shouldNotifyClients) {
                if (index >= 0 && index < _this.chips_.length) {
                    _this.chips_[index].setSelectedFromChipSet(selected, shouldNotifyClients);
                }
            },
        };
        return new _foundation__WEBPACK_IMPORTED_MODULE_4__["MDCChipSetFoundation"](adapter);
    };
    /**
     * Instantiates chip components on all of the chip set's child chip elements.
     */
    MDCChipSet.prototype.instantiateChips_ = function (chipFactory) {
        var chipElements = [].slice.call(this.root_.querySelectorAll(CHIP_SELECTOR));
        return chipElements.map(function (el) {
            el.id = el.id || "mdc-chip-" + ++idCounter;
            return chipFactory(el);
        });
    };
    /**
     * Returns the index of the chip with the given id, or -1 if the chip does not exist.
     */
    MDCChipSet.prototype.findChipIndex_ = function (chipId) {
        for (var i = 0; i < this.chips_.length; i++) {
            if (this.chips_[i].id === chipId) {
                return i;
            }
        }
        return -1;
    };
    return MDCChipSet;
}(_material_base_component__WEBPACK_IMPORTED_MODULE_1__["MDCComponent"]));

//# sourceMappingURL=component.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip-set/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/@material/chips/chip-set/constants.js ***!
  \************************************************************/
/*! exports provided: strings, cssClasses */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var strings = {
    CHIP_SELECTOR: '.mdc-chip',
};
var cssClasses = {
    CHOICE: 'mdc-chip-set--choice',
    FILTER: 'mdc-chip-set--filter',
};
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip-set/foundation.js":
/*!*************************************************************!*\
  !*** ./node_modules/@material/chips/chip-set/foundation.js ***!
  \*************************************************************/
/*! exports provided: MDCChipSetFoundation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCChipSetFoundation", function() { return MDCChipSetFoundation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/foundation */ "./node_modules/@material/base/foundation.js");
/* harmony import */ var _chip_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chip/constants */ "./node_modules/@material/chips/chip/constants.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/chips/chip-set/constants.js");
/**
 * @license
 * Copyright 2017 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */




var MDCChipSetFoundation = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCChipSetFoundation, _super);
    function MDCChipSetFoundation(adapter) {
        var _this = _super.call(this, tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, MDCChipSetFoundation.defaultAdapter, adapter)) || this;
        /**
         * The ids of the selected chips in the set. Only used for choice chip set or filter chip set.
         */
        _this.selectedChipIds_ = [];
        return _this;
    }
    Object.defineProperty(MDCChipSetFoundation, "strings", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_3__["strings"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChipSetFoundation, "cssClasses", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_3__["cssClasses"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChipSetFoundation, "defaultAdapter", {
        get: function () {
            return {
                focusChipPrimaryActionAtIndex: function () { return undefined; },
                focusChipTrailingActionAtIndex: function () { return undefined; },
                getChipListCount: function () { return -1; },
                getIndexOfChipById: function () { return -1; },
                hasClass: function () { return false; },
                isRTL: function () { return false; },
                removeChipAtIndex: function () { return undefined; },
                removeFocusFromChipAtIndex: function () { return undefined; },
                selectChipAtIndex: function () { return undefined; },
            };
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Returns an array of the IDs of all selected chips.
     */
    MDCChipSetFoundation.prototype.getSelectedChipIds = function () {
        return this.selectedChipIds_.slice();
    };
    /**
     * Selects the chip with the given id. Deselects all other chips if the chip set is of the choice variant.
     * Does not notify clients of the updated selection state.
     */
    MDCChipSetFoundation.prototype.select = function (chipId) {
        this.select_(chipId, false);
    };
    /**
     * Handles a chip interaction event
     */
    MDCChipSetFoundation.prototype.handleChipInteraction = function (chipId) {
        var index = this.adapter_.getIndexOfChipById(chipId);
        this.removeFocusFromChipsExcept_(index);
        if (this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_3__["cssClasses"].CHOICE) || this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_3__["cssClasses"].FILTER)) {
            this.toggleSelect_(chipId);
        }
    };
    /**
     * Handles a chip selection event, used to handle discrepancy when selection state is set directly on the Chip.
     */
    MDCChipSetFoundation.prototype.handleChipSelection = function (chipId, selected, shouldIgnore) {
        // Early exit if we should ignore the event
        if (shouldIgnore) {
            return;
        }
        var chipIsSelected = this.selectedChipIds_.indexOf(chipId) >= 0;
        if (selected && !chipIsSelected) {
            this.select(chipId);
        }
        else if (!selected && chipIsSelected) {
            this.deselect_(chipId);
        }
    };
    /**
     * Handles the event when a chip is removed.
     */
    MDCChipSetFoundation.prototype.handleChipRemoval = function (chipId) {
        var index = this.adapter_.getIndexOfChipById(chipId);
        this.deselectAndNotifyClients_(chipId);
        this.adapter_.removeChipAtIndex(index);
        var maxIndex = this.adapter_.getChipListCount() - 1;
        var nextIndex = Math.min(index, maxIndex);
        this.removeFocusFromChipsExcept_(nextIndex);
        // After removing a chip, we should focus the trailing action for the next chip.
        this.adapter_.focusChipTrailingActionAtIndex(nextIndex);
    };
    /**
     * Handles a chip navigation event.
     */
    MDCChipSetFoundation.prototype.handleChipNavigation = function (chipId, key, source) {
        var maxIndex = this.adapter_.getChipListCount() - 1;
        var index = this.adapter_.getIndexOfChipById(chipId);
        // Early exit if the index is out of range or the key is unusable
        if (index === -1 || !_chip_constants__WEBPACK_IMPORTED_MODULE_2__["navigationKeys"].has(key)) {
            return;
        }
        var isRTL = this.adapter_.isRTL();
        var shouldIncrement = key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_RIGHT_KEY && !isRTL
            || key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_LEFT_KEY && isRTL
            || key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_DOWN_KEY;
        var isHome = key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].HOME_KEY;
        var isEnd = key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].END_KEY;
        if (shouldIncrement) {
            index++;
        }
        else if (isHome) {
            index = 0;
        }
        else if (isEnd) {
            index = maxIndex;
        }
        else {
            index--;
        }
        // Early exit if the index is out of bounds
        if (index < 0 || index > maxIndex) {
            return;
        }
        this.removeFocusFromChipsExcept_(index);
        this.focusChipAction_(index, key, source);
    };
    MDCChipSetFoundation.prototype.focusChipAction_ = function (index, key, source) {
        var shouldJumpChips = _chip_constants__WEBPACK_IMPORTED_MODULE_2__["jumpChipKeys"].has(key);
        if (shouldJumpChips && source === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].PRIMARY) {
            return this.adapter_.focusChipPrimaryActionAtIndex(index);
        }
        if (shouldJumpChips && source === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].TRAILING) {
            return this.adapter_.focusChipTrailingActionAtIndex(index);
        }
        var dir = this.getDirection_(key);
        if (dir === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].LEFT) {
            return this.adapter_.focusChipTrailingActionAtIndex(index);
        }
        if (dir === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].RIGHT) {
            return this.adapter_.focusChipPrimaryActionAtIndex(index);
        }
    };
    MDCChipSetFoundation.prototype.getDirection_ = function (key) {
        var isRTL = this.adapter_.isRTL();
        if (key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_LEFT_KEY && !isRTL || key === _chip_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_RIGHT_KEY && isRTL) {
            return _chip_constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].LEFT;
        }
        return _chip_constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].RIGHT;
    };
    /**
     * Deselects the chip with the given id and optionally notifies clients.
     */
    MDCChipSetFoundation.prototype.deselect_ = function (chipId, shouldNotifyClients) {
        if (shouldNotifyClients === void 0) { shouldNotifyClients = false; }
        var index = this.selectedChipIds_.indexOf(chipId);
        if (index >= 0) {
            this.selectedChipIds_.splice(index, 1);
            var chipIndex = this.adapter_.getIndexOfChipById(chipId);
            this.adapter_.selectChipAtIndex(chipIndex, /** isSelected */ false, shouldNotifyClients);
        }
    };
    /**
     * Deselects the chip with the given id and notifies clients.
     */
    MDCChipSetFoundation.prototype.deselectAndNotifyClients_ = function (chipId) {
        this.deselect_(chipId, true);
    };
    /**
     * Toggles selection of the chip with the given id.
     */
    MDCChipSetFoundation.prototype.toggleSelect_ = function (chipId) {
        if (this.selectedChipIds_.indexOf(chipId) >= 0) {
            this.deselectAndNotifyClients_(chipId);
        }
        else {
            this.selectAndNotifyClients_(chipId);
        }
    };
    MDCChipSetFoundation.prototype.removeFocusFromChipsExcept_ = function (index) {
        var chipCount = this.adapter_.getChipListCount();
        for (var i = 0; i < chipCount; i++) {
            if (i !== index) {
                this.adapter_.removeFocusFromChipAtIndex(i);
            }
        }
    };
    MDCChipSetFoundation.prototype.selectAndNotifyClients_ = function (chipId) {
        this.select_(chipId, true);
    };
    MDCChipSetFoundation.prototype.select_ = function (chipId, shouldNotifyClients) {
        if (this.selectedChipIds_.indexOf(chipId) >= 0) {
            return;
        }
        if (this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_3__["cssClasses"].CHOICE) && this.selectedChipIds_.length > 0) {
            var previouslySelectedChip = this.selectedChipIds_[0];
            var previouslySelectedIndex = this.adapter_.getIndexOfChipById(previouslySelectedChip);
            this.selectedChipIds_ = [];
            this.adapter_.selectChipAtIndex(previouslySelectedIndex, /** isSelected */ false, shouldNotifyClients);
        }
        this.selectedChipIds_.push(chipId);
        var index = this.adapter_.getIndexOfChipById(chipId);
        this.adapter_.selectChipAtIndex(index, /** isSelected */ true, shouldNotifyClients);
    };
    return MDCChipSetFoundation;
}(_material_base_foundation__WEBPACK_IMPORTED_MODULE_1__["MDCFoundation"]));

// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (MDCChipSetFoundation);
//# sourceMappingURL=foundation.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip-set/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@material/chips/chip-set/index.js ***!
  \********************************************************/
/*! exports provided: MDCChipSet, MDCChipSetFoundation, chipSetCssClasses, chipSetStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component */ "./node_modules/@material/chips/chip-set/component.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipSet", function() { return _component__WEBPACK_IMPORTED_MODULE_0__["MDCChipSet"]; });

/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/chips/chip-set/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipSetFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_1__["MDCChipSetFoundation"]; });

/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/chips/chip-set/constants.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipSetCssClasses", function() { return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipSetStrings", function() { return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"]; });

/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip/component.js":
/*!********************************************************!*\
  !*** ./node_modules/@material/chips/chip/component.js ***!
  \********************************************************/
/*! exports provided: MDCChip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCChip", function() { return MDCChip; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/component */ "./node_modules/@material/base/component.js");
/* harmony import */ var _material_ripple_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/ripple/component */ "./node_modules/@material/ripple/component.js");
/* harmony import */ var _material_ripple_foundation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/ripple/foundation */ "./node_modules/@material/ripple/foundation.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/chips/chip/constants.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/chips/chip/foundation.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */






var INTERACTION_EVENTS = ['click', 'keydown'];
var MDCChip = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCChip, _super);
    function MDCChip() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(MDCChip.prototype, "selected", {
        /**
         * @return Whether the chip is selected.
         */
        get: function () {
            return this.foundation_.isSelected();
        },
        /**
         * Sets selected state on the chip.
         */
        set: function (selected) {
            this.foundation_.setSelected(selected);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChip.prototype, "shouldRemoveOnTrailingIconClick", {
        /**
         * @return Whether a trailing icon click should trigger exit/removal of the chip.
         */
        get: function () {
            return this.foundation_.getShouldRemoveOnTrailingIconClick();
        },
        /**
         * Sets whether a trailing icon click should trigger exit/removal of the chip.
         */
        set: function (shouldRemove) {
            this.foundation_.setShouldRemoveOnTrailingIconClick(shouldRemove);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChip.prototype, "ripple", {
        get: function () {
            return this.ripple_;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChip.prototype, "id", {
        get: function () {
            return this.root_.id;
        },
        enumerable: true,
        configurable: true
    });
    MDCChip.attachTo = function (root) {
        return new MDCChip(root);
    };
    MDCChip.prototype.initialize = function (rippleFactory) {
        var _this = this;
        if (rippleFactory === void 0) { rippleFactory = function (el, foundation) { return new _material_ripple_component__WEBPACK_IMPORTED_MODULE_2__["MDCRipple"](el, foundation); }; }
        this.leadingIcon_ = this.root_.querySelector(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].LEADING_ICON_SELECTOR);
        this.trailingIcon_ = this.root_.querySelector(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].TRAILING_ICON_SELECTOR);
        this.checkmark_ = this.root_.querySelector(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].CHECKMARK_SELECTOR);
        this.primaryAction_ = this.root_.querySelector(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].PRIMARY_ACTION_SELECTOR);
        this.trailingAction_ = this.root_.querySelector(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].TRAILING_ACTION_SELECTOR);
        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.
        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.
        var rippleAdapter = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, _material_ripple_component__WEBPACK_IMPORTED_MODULE_2__["MDCRipple"].createAdapter(this), { computeBoundingRect: function () { return _this.foundation_.getDimensions(); } });
        this.ripple_ = rippleFactory(this.root_, new _material_ripple_foundation__WEBPACK_IMPORTED_MODULE_3__["MDCRippleFoundation"](rippleAdapter));
    };
    MDCChip.prototype.initialSyncWithDOM = function () {
        var _this = this;
        this.handleInteraction_ = function (evt) { return _this.foundation_.handleInteraction(evt); };
        this.handleTransitionEnd_ = function (evt) { return _this.foundation_.handleTransitionEnd(evt); };
        this.handleTrailingIconInteraction_ = function (evt) {
            return _this.foundation_.handleTrailingIconInteraction(evt);
        };
        this.handleKeydown_ = function (evt) { return _this.foundation_.handleKeydown(evt); };
        INTERACTION_EVENTS.forEach(function (evtType) {
            _this.listen(evtType, _this.handleInteraction_);
        });
        this.listen('transitionend', this.handleTransitionEnd_);
        this.listen('keydown', this.handleKeydown_);
        if (this.trailingIcon_) {
            INTERACTION_EVENTS.forEach(function (evtType) {
                _this.trailingIcon_.addEventListener(evtType, _this.handleTrailingIconInteraction_);
            });
        }
    };
    MDCChip.prototype.destroy = function () {
        var _this = this;
        this.ripple_.destroy();
        INTERACTION_EVENTS.forEach(function (evtType) {
            _this.unlisten(evtType, _this.handleInteraction_);
        });
        this.unlisten('transitionend', this.handleTransitionEnd_);
        this.unlisten('keydown', this.handleKeydown_);
        if (this.trailingIcon_) {
            INTERACTION_EVENTS.forEach(function (evtType) {
                _this.trailingIcon_.removeEventListener(evtType, _this.handleTrailingIconInteraction_);
            });
        }
        _super.prototype.destroy.call(this);
    };
    /**
     * Begins the exit animation which leads to removal of the chip.
     */
    MDCChip.prototype.beginExit = function () {
        this.foundation_.beginExit();
    };
    MDCChip.prototype.getDefaultFoundation = function () {
        var _this = this;
        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.
        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.
        var adapter = {
            addClass: function (className) { return _this.root_.classList.add(className); },
            addClassToLeadingIcon: function (className) {
                if (_this.leadingIcon_) {
                    _this.leadingIcon_.classList.add(className);
                }
            },
            eventTargetHasClass: function (target, className) { return target ? target.classList.contains(className) : false; },
            focusPrimaryAction: function () {
                if (_this.primaryAction_) {
                    _this.primaryAction_.focus();
                }
            },
            focusTrailingAction: function () {
                if (_this.trailingAction_) {
                    _this.trailingAction_.focus();
                }
            },
            getCheckmarkBoundingClientRect: function () { return _this.checkmark_ ? _this.checkmark_.getBoundingClientRect() : null; },
            getComputedStyleValue: function (propertyName) { return window.getComputedStyle(_this.root_).getPropertyValue(propertyName); },
            getRootBoundingClientRect: function () { return _this.root_.getBoundingClientRect(); },
            hasClass: function (className) { return _this.root_.classList.contains(className); },
            hasLeadingIcon: function () { return !!_this.leadingIcon_; },
            hasTrailingAction: function () { return !!_this.trailingAction_; },
            isRTL: function () { return window.getComputedStyle(_this.root_).getPropertyValue('direction') === 'rtl'; },
            notifyInteraction: function () { return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].INTERACTION_EVENT, { chipId: _this.id }, true /* shouldBubble */); },
            notifyNavigation: function (key, source) { return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].NAVIGATION_EVENT, { chipId: _this.id, key: key, source: source }, true /* shouldBubble */); },
            notifyRemoval: function () {
                _this.emit(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].REMOVAL_EVENT, { chipId: _this.id, root: _this.root_ }, true /* shouldBubble */);
            },
            notifySelection: function (selected, shouldIgnore) { return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].SELECTION_EVENT, { chipId: _this.id, selected: selected, shouldIgnore: shouldIgnore }, true /* shouldBubble */); },
            notifyTrailingIconInteraction: function () { return _this.emit(_constants__WEBPACK_IMPORTED_MODULE_4__["strings"].TRAILING_ICON_INTERACTION_EVENT, { chipId: _this.id }, true /* shouldBubble */); },
            removeClass: function (className) { return _this.root_.classList.remove(className); },
            removeClassFromLeadingIcon: function (className) {
                if (_this.leadingIcon_) {
                    _this.leadingIcon_.classList.remove(className);
                }
            },
            setPrimaryActionAttr: function (attr, value) {
                if (_this.primaryAction_) {
                    _this.primaryAction_.setAttribute(attr, value);
                }
            },
            setStyleProperty: function (propertyName, value) { return _this.root_.style.setProperty(propertyName, value); },
            setTrailingActionAttr: function (attr, value) {
                if (_this.trailingAction_) {
                    _this.trailingAction_.setAttribute(attr, value);
                }
            },
        };
        return new _foundation__WEBPACK_IMPORTED_MODULE_5__["MDCChipFoundation"](adapter);
    };
    MDCChip.prototype.setSelectedFromChipSet = function (selected, shouldNotifyClients) {
        this.foundation_.setSelectedFromChipSet(selected, shouldNotifyClients);
    };
    MDCChip.prototype.focusPrimaryAction = function () {
        this.foundation_.focusPrimaryAction();
    };
    MDCChip.prototype.focusTrailingAction = function () {
        this.foundation_.focusTrailingAction();
    };
    MDCChip.prototype.removeFocus = function () {
        this.foundation_.removeFocus();
    };
    MDCChip.prototype.remove = function () {
        var parent = this.root_.parentNode;
        if (parent !== null) {
            parent.removeChild(this.root_);
        }
    };
    return MDCChip;
}(_material_base_component__WEBPACK_IMPORTED_MODULE_1__["MDCComponent"]));

//# sourceMappingURL=component.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip/constants.js":
/*!********************************************************!*\
  !*** ./node_modules/@material/chips/chip/constants.js ***!
  \********************************************************/
/*! exports provided: Direction, EventSource, strings, cssClasses, navigationKeys, jumpChipKeys */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Direction", function() { return Direction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventSource", function() { return EventSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "navigationKeys", function() { return navigationKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jumpChipKeys", function() { return jumpChipKeys; });
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var Direction;
(function (Direction) {
    Direction[Direction["RIGHT"] = 0] = "RIGHT";
    Direction[Direction["LEFT"] = 1] = "LEFT";
})(Direction || (Direction = {}));
var EventSource;
(function (EventSource) {
    EventSource[EventSource["PRIMARY"] = 0] = "PRIMARY";
    EventSource[EventSource["TRAILING"] = 1] = "TRAILING";
    EventSource[EventSource["NONE"] = 2] = "NONE";
})(EventSource || (EventSource = {}));
var strings = {
    ARIA_CHECKED: 'aria-checked',
    ARROW_DOWN_KEY: 'ArrowDown',
    ARROW_LEFT_KEY: 'ArrowLeft',
    ARROW_RIGHT_KEY: 'ArrowRight',
    ARROW_UP_KEY: 'ArrowUp',
    BACKSPACE_KEY: 'Backspace',
    CHECKMARK_SELECTOR: '.mdc-chip__checkmark',
    DELETE_KEY: 'Delete',
    END_KEY: 'End',
    ENTER_KEY: 'Enter',
    ENTRY_ANIMATION_NAME: 'mdc-chip-entry',
    HOME_KEY: 'Home',
    INTERACTION_EVENT: 'MDCChip:interaction',
    LEADING_ICON_SELECTOR: '.mdc-chip__icon--leading',
    NAVIGATION_EVENT: 'MDCChip:navigation',
    PRIMARY_ACTION_SELECTOR: '.mdc-chip__primary-action',
    REMOVAL_EVENT: 'MDCChip:removal',
    SELECTION_EVENT: 'MDCChip:selection',
    SPACEBAR_KEY: ' ',
    TAB_INDEX: 'tabindex',
    TRAILING_ACTION_SELECTOR: '.mdc-chip__trailing-action',
    TRAILING_ICON_INTERACTION_EVENT: 'MDCChip:trailingIconInteraction',
    TRAILING_ICON_SELECTOR: '.mdc-chip__icon--trailing',
};
var cssClasses = {
    CHECKMARK: 'mdc-chip__checkmark',
    CHIP_EXIT: 'mdc-chip--exit',
    DELETABLE: 'mdc-chip--deletable',
    HIDDEN_LEADING_ICON: 'mdc-chip__icon--leading-hidden',
    LEADING_ICON: 'mdc-chip__icon--leading',
    PRIMARY_ACTION: 'mdc-chip__primary-action',
    SELECTED: 'mdc-chip--selected',
    TEXT: 'mdc-chip__text',
    TRAILING_ACTION: 'mdc-chip__trailing-action',
    TRAILING_ICON: 'mdc-chip__icon--trailing',
};
var navigationKeys = new Set();
// IE11 has no support for new Set with iterable so we need to initialize this by hand
navigationKeys.add(strings.ARROW_LEFT_KEY);
navigationKeys.add(strings.ARROW_RIGHT_KEY);
navigationKeys.add(strings.ARROW_DOWN_KEY);
navigationKeys.add(strings.ARROW_UP_KEY);
navigationKeys.add(strings.END_KEY);
navigationKeys.add(strings.HOME_KEY);
var jumpChipKeys = new Set();
// IE11 has no support for new Set with iterable so we need to initialize this by hand
jumpChipKeys.add(strings.ARROW_UP_KEY);
jumpChipKeys.add(strings.ARROW_DOWN_KEY);
jumpChipKeys.add(strings.HOME_KEY);
jumpChipKeys.add(strings.END_KEY);
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip/foundation.js":
/*!*********************************************************!*\
  !*** ./node_modules/@material/chips/chip/foundation.js ***!
  \*********************************************************/
/*! exports provided: MDCChipFoundation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCChipFoundation", function() { return MDCChipFoundation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/foundation */ "./node_modules/@material/base/foundation.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/chips/chip/constants.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */



var emptyClientRect = {
    bottom: 0,
    height: 0,
    left: 0,
    right: 0,
    top: 0,
    width: 0,
};
var MDCChipFoundation = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCChipFoundation, _super);
    function MDCChipFoundation(adapter) {
        var _this = _super.call(this, tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, MDCChipFoundation.defaultAdapter, adapter)) || this;
        /**
         * Whether a trailing icon click should immediately trigger exit/removal of the chip.
         */
        _this.shouldRemoveOnTrailingIconClick_ = true;
        return _this;
    }
    Object.defineProperty(MDCChipFoundation, "strings", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChipFoundation, "cssClasses", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCChipFoundation, "defaultAdapter", {
        get: function () {
            return {
                addClass: function () { return undefined; },
                addClassToLeadingIcon: function () { return undefined; },
                eventTargetHasClass: function () { return false; },
                focusPrimaryAction: function () { return undefined; },
                focusTrailingAction: function () { return undefined; },
                getCheckmarkBoundingClientRect: function () { return emptyClientRect; },
                getComputedStyleValue: function () { return ''; },
                getRootBoundingClientRect: function () { return emptyClientRect; },
                hasClass: function () { return false; },
                hasLeadingIcon: function () { return false; },
                hasTrailingAction: function () { return false; },
                isRTL: function () { return false; },
                notifyInteraction: function () { return undefined; },
                notifyNavigation: function () { return undefined; },
                notifyRemoval: function () { return undefined; },
                notifySelection: function () { return undefined; },
                notifyTrailingIconInteraction: function () { return undefined; },
                removeClass: function () { return undefined; },
                removeClassFromLeadingIcon: function () { return undefined; },
                setPrimaryActionAttr: function () { return undefined; },
                setStyleProperty: function () { return undefined; },
                setTrailingActionAttr: function () { return undefined; },
            };
        },
        enumerable: true,
        configurable: true
    });
    MDCChipFoundation.prototype.isSelected = function () {
        return this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED);
    };
    MDCChipFoundation.prototype.setSelected = function (selected) {
        this.setSelected_(selected);
        this.notifySelection_(selected);
    };
    MDCChipFoundation.prototype.setSelectedFromChipSet = function (selected, shouldNotifyClients) {
        this.setSelected_(selected);
        if (shouldNotifyClients) {
            this.notifyIgnoredSelection_(selected);
        }
    };
    MDCChipFoundation.prototype.getShouldRemoveOnTrailingIconClick = function () {
        return this.shouldRemoveOnTrailingIconClick_;
    };
    MDCChipFoundation.prototype.setShouldRemoveOnTrailingIconClick = function (shouldRemove) {
        this.shouldRemoveOnTrailingIconClick_ = shouldRemove;
    };
    MDCChipFoundation.prototype.getDimensions = function () {
        var _this = this;
        var getRootRect = function () { return _this.adapter_.getRootBoundingClientRect(); };
        var getCheckmarkRect = function () { return _this.adapter_.getCheckmarkBoundingClientRect(); };
        // When a chip has a checkmark and not a leading icon, the bounding rect changes in size depending on the current
        // size of the checkmark.
        if (!this.adapter_.hasLeadingIcon()) {
            var checkmarkRect = getCheckmarkRect();
            if (checkmarkRect) {
                var rootRect = getRootRect();
                // Checkmark is a square, meaning the client rect's width and height are identical once the animation completes.
                // However, the checkbox is initially hidden by setting the width to 0.
                // To account for an initial width of 0, we use the checkbox's height instead (which equals the end-state width)
                // when adding it to the root client rect's width.
                return {
                    bottom: rootRect.bottom,
                    height: rootRect.height,
                    left: rootRect.left,
                    right: rootRect.right,
                    top: rootRect.top,
                    width: rootRect.width + checkmarkRect.height,
                };
            }
        }
        return getRootRect();
    };
    /**
     * Begins the exit animation which leads to removal of the chip.
     */
    MDCChipFoundation.prototype.beginExit = function () {
        this.adapter_.addClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].CHIP_EXIT);
    };
    /**
     * Handles an interaction event on the root element.
     */
    MDCChipFoundation.prototype.handleInteraction = function (evt) {
        if (this.shouldHandleInteraction_(evt)) {
            this.adapter_.notifyInteraction();
            this.focusPrimaryAction_();
        }
    };
    /**
     * Handles a transition end event on the root element.
     */
    MDCChipFoundation.prototype.handleTransitionEnd = function (evt) {
        var _this = this;
        // Handle transition end event on the chip when it is about to be removed.
        var shouldHandle = this.adapter_.eventTargetHasClass(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].CHIP_EXIT);
        var widthIsAnimating = evt.propertyName === 'width';
        var opacityIsAnimating = evt.propertyName === 'opacity';
        if (shouldHandle && opacityIsAnimating) {
            // See: https://css-tricks.com/using-css-transitions-auto-dimensions/#article-header-id-5
            var chipWidth_1 = this.adapter_.getComputedStyleValue('width');
            // On the next frame (once we get the computed width), explicitly set the chip's width
            // to its current pixel width, so we aren't transitioning out of 'auto'.
            requestAnimationFrame(function () {
                _this.adapter_.setStyleProperty('width', chipWidth_1);
                // To mitigate jitter, start transitioning padding and margin before width.
                _this.adapter_.setStyleProperty('padding', '0');
                _this.adapter_.setStyleProperty('margin', '0');
                // On the next frame (once width is explicitly set), transition width to 0.
                requestAnimationFrame(function () {
                    _this.adapter_.setStyleProperty('width', '0');
                });
            });
            return;
        }
        if (shouldHandle && widthIsAnimating) {
            this.removeFocus_();
            this.adapter_.notifyRemoval();
        }
        // Handle a transition end event on the leading icon or checkmark, since the transition end event bubbles.
        if (!opacityIsAnimating) {
            return;
        }
        var shouldHideLeadingIcon = this.adapter_.eventTargetHasClass(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].LEADING_ICON)
            && this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED);
        var shouldShowLeadingIcon = this.adapter_.eventTargetHasClass(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].CHECKMARK)
            && !this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED);
        if (shouldHideLeadingIcon) {
            return this.adapter_.addClassToLeadingIcon(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].HIDDEN_LEADING_ICON);
        }
        if (shouldShowLeadingIcon) {
            return this.adapter_.removeClassFromLeadingIcon(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].HIDDEN_LEADING_ICON);
        }
    };
    /**
     * Handles an interaction event on the trailing icon element. This is used to
     * prevent the ripple from activating on interaction with the trailing icon.
     */
    MDCChipFoundation.prototype.handleTrailingIconInteraction = function (evt) {
        if (this.shouldHandleInteraction_(evt)) {
            this.adapter_.notifyTrailingIconInteraction();
            this.removeChip_(evt);
        }
    };
    /**
     * Handles a keydown event from the root element.
     */
    MDCChipFoundation.prototype.handleKeydown = function (evt) {
        if (this.shouldRemoveChip_(evt)) {
            return this.removeChip_(evt);
        }
        var key = evt.key;
        // Early exit if the key is not usable
        if (!_constants__WEBPACK_IMPORTED_MODULE_2__["navigationKeys"].has(key)) {
            return;
        }
        // Prevent default behavior for movement keys which could include scrolling
        evt.preventDefault();
        this.focusNextAction_(evt);
    };
    MDCChipFoundation.prototype.removeFocus = function () {
        this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
        this.adapter_.setTrailingActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
    };
    MDCChipFoundation.prototype.focusPrimaryAction = function () {
        this.focusPrimaryAction_();
    };
    MDCChipFoundation.prototype.focusTrailingAction = function () {
        if (!this.adapter_.hasTrailingAction()) {
            return this.focusPrimaryAction_();
        }
        this.focusTrailingAction_();
    };
    MDCChipFoundation.prototype.focusNextAction_ = function (evt) {
        var key = evt.key;
        var hasTrailingAction = this.adapter_.hasTrailingAction();
        var dir = this.getDirection_(key);
        var source = this.getEvtSource_(evt);
        // Early exit if the key should jump keys or the chip only has one action (i.e. no trailing action)
        if (_constants__WEBPACK_IMPORTED_MODULE_2__["jumpChipKeys"].has(key) || !hasTrailingAction) {
            this.adapter_.notifyNavigation(key, source);
            return;
        }
        if (source === _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].PRIMARY && dir === _constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].RIGHT) {
            return this.focusTrailingAction_();
        }
        if (source === _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].TRAILING && dir === _constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].LEFT) {
            return this.focusPrimaryAction_();
        }
        this.adapter_.notifyNavigation(key, _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].NONE);
    };
    MDCChipFoundation.prototype.getEvtSource_ = function (evt) {
        if (this.adapter_.eventTargetHasClass(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].PRIMARY_ACTION)) {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].PRIMARY;
        }
        if (this.adapter_.eventTargetHasClass(evt.target, _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].TRAILING_ACTION)) {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].TRAILING;
        }
        return _constants__WEBPACK_IMPORTED_MODULE_2__["EventSource"].NONE;
    };
    MDCChipFoundation.prototype.getDirection_ = function (key) {
        var isRTL = this.adapter_.isRTL();
        if (key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_LEFT_KEY && !isRTL || key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARROW_RIGHT_KEY && isRTL) {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].LEFT;
        }
        return _constants__WEBPACK_IMPORTED_MODULE_2__["Direction"].RIGHT;
    };
    MDCChipFoundation.prototype.focusPrimaryAction_ = function () {
        this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '0');
        this.adapter_.focusPrimaryAction();
        this.adapter_.setTrailingActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
    };
    MDCChipFoundation.prototype.focusTrailingAction_ = function () {
        this.adapter_.setTrailingActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '0');
        this.adapter_.focusTrailingAction();
        this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
    };
    MDCChipFoundation.prototype.removeFocus_ = function () {
        this.adapter_.setTrailingActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
        this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].TAB_INDEX, '-1');
    };
    MDCChipFoundation.prototype.removeChip_ = function (evt) {
        evt.stopPropagation();
        if (this.shouldRemoveOnTrailingIconClick_) {
            this.beginExit();
        }
    };
    MDCChipFoundation.prototype.shouldHandleInteraction_ = function (evt) {
        if (evt.type === 'click') {
            return true;
        }
        var keyEvt = evt;
        return keyEvt.key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ENTER_KEY || keyEvt.key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].SPACEBAR_KEY;
    };
    MDCChipFoundation.prototype.shouldRemoveChip_ = function (evt) {
        var isDeletable = this.adapter_.hasClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].DELETABLE);
        return isDeletable && (evt.key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].BACKSPACE_KEY || evt.key === _constants__WEBPACK_IMPORTED_MODULE_2__["strings"].DELETE_KEY);
    };
    MDCChipFoundation.prototype.setSelected_ = function (selected) {
        if (selected) {
            this.adapter_.addClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED);
            this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARIA_CHECKED, 'true');
        }
        else {
            this.adapter_.removeClass(_constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"].SELECTED);
            this.adapter_.setPrimaryActionAttr(_constants__WEBPACK_IMPORTED_MODULE_2__["strings"].ARIA_CHECKED, 'false');
        }
    };
    MDCChipFoundation.prototype.notifySelection_ = function (selected) {
        this.adapter_.notifySelection(selected, false);
    };
    MDCChipFoundation.prototype.notifyIgnoredSelection_ = function (selected) {
        this.adapter_.notifySelection(selected, true);
    };
    return MDCChipFoundation;
}(_material_base_foundation__WEBPACK_IMPORTED_MODULE_1__["MDCFoundation"]));

// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (MDCChipFoundation);
//# sourceMappingURL=foundation.js.map

/***/ }),

/***/ "./node_modules/@material/chips/chip/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@material/chips/chip/index.js ***!
  \****************************************************/
/*! exports provided: MDCChip, MDCChipFoundation, chipCssClasses, chipStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component */ "./node_modules/@material/chips/chip/component.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChip", function() { return _component__WEBPACK_IMPORTED_MODULE_0__["MDCChip"]; });

/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/chips/chip/foundation.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipFoundation", function() { return _foundation__WEBPACK_IMPORTED_MODULE_1__["MDCChipFoundation"]; });

/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/chips/chip/constants.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipCssClasses", function() { return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipStrings", function() { return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"]; });

/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@material/chips/index.js":
/*!***********************************************!*\
  !*** ./node_modules/@material/chips/index.js ***!
  \***********************************************/
/*! exports provided: MDCChip, MDCChipFoundation, chipCssClasses, chipStrings, MDCChipSet, MDCChipSetFoundation, chipSetCssClasses, chipSetStrings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _chip_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chip/index */ "./node_modules/@material/chips/chip/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChip", function() { return _chip_index__WEBPACK_IMPORTED_MODULE_0__["MDCChip"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipFoundation", function() { return _chip_index__WEBPACK_IMPORTED_MODULE_0__["MDCChipFoundation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipCssClasses", function() { return _chip_index__WEBPACK_IMPORTED_MODULE_0__["chipCssClasses"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipStrings", function() { return _chip_index__WEBPACK_IMPORTED_MODULE_0__["chipStrings"]; });

/* harmony import */ var _chip_set_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chip-set/index */ "./node_modules/@material/chips/chip-set/index.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipSet", function() { return _chip_set_index__WEBPACK_IMPORTED_MODULE_1__["MDCChipSet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MDCChipSetFoundation", function() { return _chip_set_index__WEBPACK_IMPORTED_MODULE_1__["MDCChipSetFoundation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipSetCssClasses", function() { return _chip_set_index__WEBPACK_IMPORTED_MODULE_1__["chipSetCssClasses"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "chipSetStrings", function() { return _chip_set_index__WEBPACK_IMPORTED_MODULE_1__["chipSetStrings"]; });

/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@material/dom/events.js":
/*!**********************************************!*\
  !*** ./node_modules/@material/dom/events.js ***!
  \**********************************************/
/*! exports provided: applyPassive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyPassive", function() { return applyPassive; });
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * Stores result from applyPassive to avoid redundant processing to detect
 * passive event listener support.
 */
var supportsPassive_;
/**
 * Determine whether the current browser supports passive event listeners, and
 * if so, use them.
 */
function applyPassive(globalObj, forceRefresh) {
    if (globalObj === void 0) { globalObj = window; }
    if (forceRefresh === void 0) { forceRefresh = false; }
    if (supportsPassive_ === undefined || forceRefresh) {
        var isSupported_1 = false;
        try {
            globalObj.document.addEventListener('test', function () { return undefined; }, {
                get passive() {
                    isSupported_1 = true;
                    return isSupported_1;
                },
            });
        }
        catch (e) {
        } // tslint:disable-line:no-empty cannot throw error due to tests. tslint also disables console.log.
        supportsPassive_ = isSupported_1;
    }
    return supportsPassive_ ? { passive: true } : false;
}
//# sourceMappingURL=events.js.map

/***/ }),

/***/ "./node_modules/@material/dom/ponyfill.js":
/*!************************************************!*\
  !*** ./node_modules/@material/dom/ponyfill.js ***!
  \************************************************/
/*! exports provided: closest, matches */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closest", function() { return closest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matches", function() { return matches; });
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
/**
 * @fileoverview A "ponyfill" is a polyfill that doesn't modify the global prototype chain.
 * This makes ponyfills safer than traditional polyfills, especially for libraries like MDC.
 */
function closest(element, selector) {
    if (element.closest) {
        return element.closest(selector);
    }
    var el = element;
    while (el) {
        if (matches(el, selector)) {
            return el;
        }
        el = el.parentElement;
    }
    return null;
}
function matches(element, selector) {
    var nativeMatches = element.matches
        || element.webkitMatchesSelector
        || element.msMatchesSelector;
    return nativeMatches.call(element, selector);
}
//# sourceMappingURL=ponyfill.js.map

/***/ }),

/***/ "./node_modules/@material/ripple/component.js":
/*!****************************************************!*\
  !*** ./node_modules/@material/ripple/component.js ***!
  \****************************************************/
/*! exports provided: MDCRipple */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCRipple", function() { return MDCRipple; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/component */ "./node_modules/@material/base/component.js");
/* harmony import */ var _material_dom_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/dom/events */ "./node_modules/@material/dom/events.js");
/* harmony import */ var _material_dom_ponyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/dom/ponyfill */ "./node_modules/@material/dom/ponyfill.js");
/* harmony import */ var _foundation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./foundation */ "./node_modules/@material/ripple/foundation.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./util */ "./node_modules/@material/ripple/util.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */






var MDCRipple = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCRipple, _super);
    function MDCRipple() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.disabled = false;
        return _this;
    }
    MDCRipple.attachTo = function (root, opts) {
        if (opts === void 0) { opts = { isUnbounded: undefined }; }
        var ripple = new MDCRipple(root);
        // Only override unbounded behavior if option is explicitly specified
        if (opts.isUnbounded !== undefined) {
            ripple.unbounded = opts.isUnbounded;
        }
        return ripple;
    };
    MDCRipple.createAdapter = function (instance) {
        return {
            addClass: function (className) { return instance.root_.classList.add(className); },
            browserSupportsCssVars: function () { return _util__WEBPACK_IMPORTED_MODULE_5__["supportsCssVariables"](window); },
            computeBoundingRect: function () { return instance.root_.getBoundingClientRect(); },
            containsEventTarget: function (target) { return instance.root_.contains(target); },
            deregisterDocumentInteractionHandler: function (evtType, handler) {
                return document.documentElement.removeEventListener(evtType, handler, Object(_material_dom_events__WEBPACK_IMPORTED_MODULE_2__["applyPassive"])());
            },
            deregisterInteractionHandler: function (evtType, handler) {
                return instance.root_.removeEventListener(evtType, handler, Object(_material_dom_events__WEBPACK_IMPORTED_MODULE_2__["applyPassive"])());
            },
            deregisterResizeHandler: function (handler) { return window.removeEventListener('resize', handler); },
            getWindowPageOffset: function () { return ({ x: window.pageXOffset, y: window.pageYOffset }); },
            isSurfaceActive: function () { return Object(_material_dom_ponyfill__WEBPACK_IMPORTED_MODULE_3__["matches"])(instance.root_, ':active'); },
            isSurfaceDisabled: function () { return Boolean(instance.disabled); },
            isUnbounded: function () { return Boolean(instance.unbounded); },
            registerDocumentInteractionHandler: function (evtType, handler) {
                return document.documentElement.addEventListener(evtType, handler, Object(_material_dom_events__WEBPACK_IMPORTED_MODULE_2__["applyPassive"])());
            },
            registerInteractionHandler: function (evtType, handler) {
                return instance.root_.addEventListener(evtType, handler, Object(_material_dom_events__WEBPACK_IMPORTED_MODULE_2__["applyPassive"])());
            },
            registerResizeHandler: function (handler) { return window.addEventListener('resize', handler); },
            removeClass: function (className) { return instance.root_.classList.remove(className); },
            updateCssVariable: function (varName, value) { return instance.root_.style.setProperty(varName, value); },
        };
    };
    Object.defineProperty(MDCRipple.prototype, "unbounded", {
        get: function () {
            return Boolean(this.unbounded_);
        },
        set: function (unbounded) {
            this.unbounded_ = Boolean(unbounded);
            this.setUnbounded_();
        },
        enumerable: true,
        configurable: true
    });
    MDCRipple.prototype.activate = function () {
        this.foundation_.activate();
    };
    MDCRipple.prototype.deactivate = function () {
        this.foundation_.deactivate();
    };
    MDCRipple.prototype.layout = function () {
        this.foundation_.layout();
    };
    MDCRipple.prototype.getDefaultFoundation = function () {
        return new _foundation__WEBPACK_IMPORTED_MODULE_4__["MDCRippleFoundation"](MDCRipple.createAdapter(this));
    };
    MDCRipple.prototype.initialSyncWithDOM = function () {
        var root = this.root_;
        this.unbounded = 'mdcRippleIsUnbounded' in root.dataset;
    };
    /**
     * Closure Compiler throws an access control error when directly accessing a
     * protected or private property inside a getter/setter, like unbounded above.
     * By accessing the protected property inside a method, we solve that problem.
     * That's why this function exists.
     */
    MDCRipple.prototype.setUnbounded_ = function () {
        this.foundation_.setUnbounded(Boolean(this.unbounded_));
    };
    return MDCRipple;
}(_material_base_component__WEBPACK_IMPORTED_MODULE_1__["MDCComponent"]));

//# sourceMappingURL=component.js.map

/***/ }),

/***/ "./node_modules/@material/ripple/constants.js":
/*!****************************************************!*\
  !*** ./node_modules/@material/ripple/constants.js ***!
  \****************************************************/
/*! exports provided: cssClasses, strings, numbers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssClasses", function() { return cssClasses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numbers", function() { return numbers; });
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var cssClasses = {
    // Ripple is a special case where the "root" component is really a "mixin" of sorts,
    // given that it's an 'upgrade' to an existing component. That being said it is the root
    // CSS class that all other CSS classes derive from.
    BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',
    FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',
    FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',
    ROOT: 'mdc-ripple-upgraded',
    UNBOUNDED: 'mdc-ripple-upgraded--unbounded',
};
var strings = {
    VAR_FG_SCALE: '--mdc-ripple-fg-scale',
    VAR_FG_SIZE: '--mdc-ripple-fg-size',
    VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',
    VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',
    VAR_LEFT: '--mdc-ripple-left',
    VAR_TOP: '--mdc-ripple-top',
};
var numbers = {
    DEACTIVATION_TIMEOUT_MS: 225,
    FG_DEACTIVATION_MS: 150,
    INITIAL_ORIGIN_SCALE: 0.6,
    PADDING: 10,
    TAP_DELAY_MS: 300,
};
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "./node_modules/@material/ripple/foundation.js":
/*!*****************************************************!*\
  !*** ./node_modules/@material/ripple/foundation.js ***!
  \*****************************************************/
/*! exports provided: MDCRippleFoundation, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MDCRippleFoundation", function() { return MDCRippleFoundation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/base/foundation */ "./node_modules/@material/base/foundation.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/ripple/constants.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ "./node_modules/@material/ripple/util.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */




// Activation events registered on the root element of each instance for activation
var ACTIVATION_EVENT_TYPES = [
    'touchstart', 'pointerdown', 'mousedown', 'keydown',
];
// Deactivation events registered on documentElement when a pointer-related down event occurs
var POINTER_DEACTIVATION_EVENT_TYPES = [
    'touchend', 'pointerup', 'mouseup', 'contextmenu',
];
// simultaneous nested activations
var activatedTargets = [];
var MDCRippleFoundation = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MDCRippleFoundation, _super);
    function MDCRippleFoundation(adapter) {
        var _this = _super.call(this, tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, MDCRippleFoundation.defaultAdapter, adapter)) || this;
        _this.activationAnimationHasEnded_ = false;
        _this.activationTimer_ = 0;
        _this.fgDeactivationRemovalTimer_ = 0;
        _this.fgScale_ = '0';
        _this.frame_ = { width: 0, height: 0 };
        _this.initialSize_ = 0;
        _this.layoutFrame_ = 0;
        _this.maxRadius_ = 0;
        _this.unboundedCoords_ = { left: 0, top: 0 };
        _this.activationState_ = _this.defaultActivationState_();
        _this.activationTimerCallback_ = function () {
            _this.activationAnimationHasEnded_ = true;
            _this.runDeactivationUXLogicIfReady_();
        };
        _this.activateHandler_ = function (e) { return _this.activate_(e); };
        _this.deactivateHandler_ = function () { return _this.deactivate_(); };
        _this.focusHandler_ = function () { return _this.handleFocus(); };
        _this.blurHandler_ = function () { return _this.handleBlur(); };
        _this.resizeHandler_ = function () { return _this.layout(); };
        return _this;
    }
    Object.defineProperty(MDCRippleFoundation, "cssClasses", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["cssClasses"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCRippleFoundation, "strings", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["strings"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCRippleFoundation, "numbers", {
        get: function () {
            return _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MDCRippleFoundation, "defaultAdapter", {
        get: function () {
            return {
                addClass: function () { return undefined; },
                browserSupportsCssVars: function () { return true; },
                computeBoundingRect: function () { return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 }); },
                containsEventTarget: function () { return true; },
                deregisterDocumentInteractionHandler: function () { return undefined; },
                deregisterInteractionHandler: function () { return undefined; },
                deregisterResizeHandler: function () { return undefined; },
                getWindowPageOffset: function () { return ({ x: 0, y: 0 }); },
                isSurfaceActive: function () { return true; },
                isSurfaceDisabled: function () { return true; },
                isUnbounded: function () { return true; },
                registerDocumentInteractionHandler: function () { return undefined; },
                registerInteractionHandler: function () { return undefined; },
                registerResizeHandler: function () { return undefined; },
                removeClass: function () { return undefined; },
                updateCssVariable: function () { return undefined; },
            };
        },
        enumerable: true,
        configurable: true
    });
    MDCRippleFoundation.prototype.init = function () {
        var _this = this;
        var supportsPressRipple = this.supportsPressRipple_();
        this.registerRootHandlers_(supportsPressRipple);
        if (supportsPressRipple) {
            var _a = MDCRippleFoundation.cssClasses, ROOT_1 = _a.ROOT, UNBOUNDED_1 = _a.UNBOUNDED;
            requestAnimationFrame(function () {
                _this.adapter_.addClass(ROOT_1);
                if (_this.adapter_.isUnbounded()) {
                    _this.adapter_.addClass(UNBOUNDED_1);
                    // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple
                    _this.layoutInternal_();
                }
            });
        }
    };
    MDCRippleFoundation.prototype.destroy = function () {
        var _this = this;
        if (this.supportsPressRipple_()) {
            if (this.activationTimer_) {
                clearTimeout(this.activationTimer_);
                this.activationTimer_ = 0;
                this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);
            }
            if (this.fgDeactivationRemovalTimer_) {
                clearTimeout(this.fgDeactivationRemovalTimer_);
                this.fgDeactivationRemovalTimer_ = 0;
                this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);
            }
            var _a = MDCRippleFoundation.cssClasses, ROOT_2 = _a.ROOT, UNBOUNDED_2 = _a.UNBOUNDED;
            requestAnimationFrame(function () {
                _this.adapter_.removeClass(ROOT_2);
                _this.adapter_.removeClass(UNBOUNDED_2);
                _this.removeCssVars_();
            });
        }
        this.deregisterRootHandlers_();
        this.deregisterDeactivationHandlers_();
    };
    /**
     * @param evt Optional event containing position information.
     */
    MDCRippleFoundation.prototype.activate = function (evt) {
        this.activate_(evt);
    };
    MDCRippleFoundation.prototype.deactivate = function () {
        this.deactivate_();
    };
    MDCRippleFoundation.prototype.layout = function () {
        var _this = this;
        if (this.layoutFrame_) {
            cancelAnimationFrame(this.layoutFrame_);
        }
        this.layoutFrame_ = requestAnimationFrame(function () {
            _this.layoutInternal_();
            _this.layoutFrame_ = 0;
        });
    };
    MDCRippleFoundation.prototype.setUnbounded = function (unbounded) {
        var UNBOUNDED = MDCRippleFoundation.cssClasses.UNBOUNDED;
        if (unbounded) {
            this.adapter_.addClass(UNBOUNDED);
        }
        else {
            this.adapter_.removeClass(UNBOUNDED);
        }
    };
    MDCRippleFoundation.prototype.handleFocus = function () {
        var _this = this;
        requestAnimationFrame(function () {
            return _this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);
        });
    };
    MDCRippleFoundation.prototype.handleBlur = function () {
        var _this = this;
        requestAnimationFrame(function () {
            return _this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED);
        });
    };
    /**
     * We compute this property so that we are not querying information about the client
     * until the point in time where the foundation requests it. This prevents scenarios where
     * client-side feature-detection may happen too early, such as when components are rendered on the server
     * and then initialized at mount time on the client.
     */
    MDCRippleFoundation.prototype.supportsPressRipple_ = function () {
        return this.adapter_.browserSupportsCssVars();
    };
    MDCRippleFoundation.prototype.defaultActivationState_ = function () {
        return {
            activationEvent: undefined,
            hasDeactivationUXRun: false,
            isActivated: false,
            isProgrammatic: false,
            wasActivatedByPointer: false,
            wasElementMadeActive: false,
        };
    };
    /**
     * supportsPressRipple Passed from init to save a redundant function call
     */
    MDCRippleFoundation.prototype.registerRootHandlers_ = function (supportsPressRipple) {
        var _this = this;
        if (supportsPressRipple) {
            ACTIVATION_EVENT_TYPES.forEach(function (evtType) {
                _this.adapter_.registerInteractionHandler(evtType, _this.activateHandler_);
            });
            if (this.adapter_.isUnbounded()) {
                this.adapter_.registerResizeHandler(this.resizeHandler_);
            }
        }
        this.adapter_.registerInteractionHandler('focus', this.focusHandler_);
        this.adapter_.registerInteractionHandler('blur', this.blurHandler_);
    };
    MDCRippleFoundation.prototype.registerDeactivationHandlers_ = function (evt) {
        var _this = this;
        if (evt.type === 'keydown') {
            this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);
        }
        else {
            POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {
                _this.adapter_.registerDocumentInteractionHandler(evtType, _this.deactivateHandler_);
            });
        }
    };
    MDCRippleFoundation.prototype.deregisterRootHandlers_ = function () {
        var _this = this;
        ACTIVATION_EVENT_TYPES.forEach(function (evtType) {
            _this.adapter_.deregisterInteractionHandler(evtType, _this.activateHandler_);
        });
        this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);
        this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);
        if (this.adapter_.isUnbounded()) {
            this.adapter_.deregisterResizeHandler(this.resizeHandler_);
        }
    };
    MDCRippleFoundation.prototype.deregisterDeactivationHandlers_ = function () {
        var _this = this;
        this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);
        POINTER_DEACTIVATION_EVENT_TYPES.forEach(function (evtType) {
            _this.adapter_.deregisterDocumentInteractionHandler(evtType, _this.deactivateHandler_);
        });
    };
    MDCRippleFoundation.prototype.removeCssVars_ = function () {
        var _this = this;
        var rippleStrings = MDCRippleFoundation.strings;
        var keys = Object.keys(rippleStrings);
        keys.forEach(function (key) {
            if (key.indexOf('VAR_') === 0) {
                _this.adapter_.updateCssVariable(rippleStrings[key], null);
            }
        });
    };
    MDCRippleFoundation.prototype.activate_ = function (evt) {
        var _this = this;
        if (this.adapter_.isSurfaceDisabled()) {
            return;
        }
        var activationState = this.activationState_;
        if (activationState.isActivated) {
            return;
        }
        // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction
        var previousActivationEvent = this.previousActivationEvent_;
        var isSameInteraction = previousActivationEvent && evt !== undefined && previousActivationEvent.type !== evt.type;
        if (isSameInteraction) {
            return;
        }
        activationState.isActivated = true;
        activationState.isProgrammatic = evt === undefined;
        activationState.activationEvent = evt;
        activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : evt !== undefined && (evt.type === 'mousedown' || evt.type === 'touchstart' || evt.type === 'pointerdown');
        var hasActivatedChild = evt !== undefined && activatedTargets.length > 0 && activatedTargets.some(function (target) { return _this.adapter_.containsEventTarget(target); });
        if (hasActivatedChild) {
            // Immediately reset activation state, while preserving logic that prevents touch follow-on events
            this.resetActivationState_();
            return;
        }
        if (evt !== undefined) {
            activatedTargets.push(evt.target);
            this.registerDeactivationHandlers_(evt);
        }
        activationState.wasElementMadeActive = this.checkElementMadeActive_(evt);
        if (activationState.wasElementMadeActive) {
            this.animateActivation_();
        }
        requestAnimationFrame(function () {
            // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples
            activatedTargets = [];
            if (!activationState.wasElementMadeActive
                && evt !== undefined
                && (evt.key === ' ' || evt.keyCode === 32)) {
                // If space was pressed, try again within an rAF call to detect :active, because different UAs report
                // active states inconsistently when they're called within event handling code:
                // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971
                // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741
                // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS
                // variable is set within a rAF callback for a submit button interaction (#2241).
                activationState.wasElementMadeActive = _this.checkElementMadeActive_(evt);
                if (activationState.wasElementMadeActive) {
                    _this.animateActivation_();
                }
            }
            if (!activationState.wasElementMadeActive) {
                // Reset activation state immediately if element was not made active.
                _this.activationState_ = _this.defaultActivationState_();
            }
        });
    };
    MDCRippleFoundation.prototype.checkElementMadeActive_ = function (evt) {
        return (evt !== undefined && evt.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;
    };
    MDCRippleFoundation.prototype.animateActivation_ = function () {
        var _this = this;
        var _a = MDCRippleFoundation.strings, VAR_FG_TRANSLATE_START = _a.VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END = _a.VAR_FG_TRANSLATE_END;
        var _b = MDCRippleFoundation.cssClasses, FG_DEACTIVATION = _b.FG_DEACTIVATION, FG_ACTIVATION = _b.FG_ACTIVATION;
        var DEACTIVATION_TIMEOUT_MS = MDCRippleFoundation.numbers.DEACTIVATION_TIMEOUT_MS;
        this.layoutInternal_();
        var translateStart = '';
        var translateEnd = '';
        if (!this.adapter_.isUnbounded()) {
            var _c = this.getFgTranslationCoordinates_(), startPoint = _c.startPoint, endPoint = _c.endPoint;
            translateStart = startPoint.x + "px, " + startPoint.y + "px";
            translateEnd = endPoint.x + "px, " + endPoint.y + "px";
        }
        this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);
        this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);
        // Cancel any ongoing activation/deactivation animations
        clearTimeout(this.activationTimer_);
        clearTimeout(this.fgDeactivationRemovalTimer_);
        this.rmBoundedActivationClasses_();
        this.adapter_.removeClass(FG_DEACTIVATION);
        // Force layout in order to re-trigger the animation.
        this.adapter_.computeBoundingRect();
        this.adapter_.addClass(FG_ACTIVATION);
        this.activationTimer_ = setTimeout(function () { return _this.activationTimerCallback_(); }, DEACTIVATION_TIMEOUT_MS);
    };
    MDCRippleFoundation.prototype.getFgTranslationCoordinates_ = function () {
        var _a = this.activationState_, activationEvent = _a.activationEvent, wasActivatedByPointer = _a.wasActivatedByPointer;
        var startPoint;
        if (wasActivatedByPointer) {
            startPoint = Object(_util__WEBPACK_IMPORTED_MODULE_3__["getNormalizedEventCoords"])(activationEvent, this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect());
        }
        else {
            startPoint = {
                x: this.frame_.width / 2,
                y: this.frame_.height / 2,
            };
        }
        // Center the element around the start point.
        startPoint = {
            x: startPoint.x - (this.initialSize_ / 2),
            y: startPoint.y - (this.initialSize_ / 2),
        };
        var endPoint = {
            x: (this.frame_.width / 2) - (this.initialSize_ / 2),
            y: (this.frame_.height / 2) - (this.initialSize_ / 2),
        };
        return { startPoint: startPoint, endPoint: endPoint };
    };
    MDCRippleFoundation.prototype.runDeactivationUXLogicIfReady_ = function () {
        var _this = this;
        // This method is called both when a pointing device is released, and when the activation animation ends.
        // The deactivation animation should only run after both of those occur.
        var FG_DEACTIVATION = MDCRippleFoundation.cssClasses.FG_DEACTIVATION;
        var _a = this.activationState_, hasDeactivationUXRun = _a.hasDeactivationUXRun, isActivated = _a.isActivated;
        var activationHasEnded = hasDeactivationUXRun || !isActivated;
        if (activationHasEnded && this.activationAnimationHasEnded_) {
            this.rmBoundedActivationClasses_();
            this.adapter_.addClass(FG_DEACTIVATION);
            this.fgDeactivationRemovalTimer_ = setTimeout(function () {
                _this.adapter_.removeClass(FG_DEACTIVATION);
            }, _constants__WEBPACK_IMPORTED_MODULE_2__["numbers"].FG_DEACTIVATION_MS);
        }
    };
    MDCRippleFoundation.prototype.rmBoundedActivationClasses_ = function () {
        var FG_ACTIVATION = MDCRippleFoundation.cssClasses.FG_ACTIVATION;
        this.adapter_.removeClass(FG_ACTIVATION);
        this.activationAnimationHasEnded_ = false;
        this.adapter_.computeBoundingRect();
    };
    MDCRippleFoundation.prototype.resetActivationState_ = function () {
        var _this = this;
        this.previousActivationEvent_ = this.activationState_.activationEvent;
        this.activationState_ = this.defaultActivationState_();
        // Touch devices may fire additional events for the same interaction within a short time.
        // Store the previous event until it's safe to assume that subsequent events are for new interactions.
        setTimeout(function () { return _this.previousActivationEvent_ = undefined; }, MDCRippleFoundation.numbers.TAP_DELAY_MS);
    };
    MDCRippleFoundation.prototype.deactivate_ = function () {
        var _this = this;
        var activationState = this.activationState_;
        // This can happen in scenarios such as when you have a keyup event that blurs the element.
        if (!activationState.isActivated) {
            return;
        }
        var state = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, activationState);
        if (activationState.isProgrammatic) {
            requestAnimationFrame(function () { return _this.animateDeactivation_(state); });
            this.resetActivationState_();
        }
        else {
            this.deregisterDeactivationHandlers_();
            requestAnimationFrame(function () {
                _this.activationState_.hasDeactivationUXRun = true;
                _this.animateDeactivation_(state);
                _this.resetActivationState_();
            });
        }
    };
    MDCRippleFoundation.prototype.animateDeactivation_ = function (_a) {
        var wasActivatedByPointer = _a.wasActivatedByPointer, wasElementMadeActive = _a.wasElementMadeActive;
        if (wasActivatedByPointer || wasElementMadeActive) {
            this.runDeactivationUXLogicIfReady_();
        }
    };
    MDCRippleFoundation.prototype.layoutInternal_ = function () {
        var _this = this;
        this.frame_ = this.adapter_.computeBoundingRect();
        var maxDim = Math.max(this.frame_.height, this.frame_.width);
        // Surface diameter is treated differently for unbounded vs. bounded ripples.
        // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately
        // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically
        // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter
        // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via
        // `overflow: hidden`.
        var getBoundedRadius = function () {
            var hypotenuse = Math.sqrt(Math.pow(_this.frame_.width, 2) + Math.pow(_this.frame_.height, 2));
            return hypotenuse + MDCRippleFoundation.numbers.PADDING;
        };
        this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();
        // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform
        var initialSize = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);
        // Unbounded ripple size should always be even number to equally center align.
        if (this.adapter_.isUnbounded() && initialSize % 2 !== 0) {
            this.initialSize_ = initialSize - 1;
        }
        else {
            this.initialSize_ = initialSize;
        }
        this.fgScale_ = "" + this.maxRadius_ / this.initialSize_;
        this.updateLayoutCssVars_();
    };
    MDCRippleFoundation.prototype.updateLayoutCssVars_ = function () {
        var _a = MDCRippleFoundation.strings, VAR_FG_SIZE = _a.VAR_FG_SIZE, VAR_LEFT = _a.VAR_LEFT, VAR_TOP = _a.VAR_TOP, VAR_FG_SCALE = _a.VAR_FG_SCALE;
        this.adapter_.updateCssVariable(VAR_FG_SIZE, this.initialSize_ + "px");
        this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);
        if (this.adapter_.isUnbounded()) {
            this.unboundedCoords_ = {
                left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),
                top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),
            };
            this.adapter_.updateCssVariable(VAR_LEFT, this.unboundedCoords_.left + "px");
            this.adapter_.updateCssVariable(VAR_TOP, this.unboundedCoords_.top + "px");
        }
    };
    return MDCRippleFoundation;
}(_material_base_foundation__WEBPACK_IMPORTED_MODULE_1__["MDCFoundation"]));

// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (MDCRippleFoundation);
//# sourceMappingURL=foundation.js.map

/***/ }),

/***/ "./node_modules/@material/ripple/util.js":
/*!***********************************************!*\
  !*** ./node_modules/@material/ripple/util.js ***!
  \***********************************************/
/*! exports provided: supportsCssVariables, getNormalizedEventCoords */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsCssVariables", function() { return supportsCssVariables; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNormalizedEventCoords", function() { return getNormalizedEventCoords; });
/**
 * Stores result from supportsCssVariables to avoid redundant processing to
 * detect CSS custom variable support.
 */
var supportsCssVariables_;
function detectEdgePseudoVarBug(windowObj) {
    // Detect versions of Edge with buggy var() support
    // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/
    var document = windowObj.document;
    var node = document.createElement('div');
    node.className = 'mdc-ripple-surface--test-edge-var-bug';
    // Append to head instead of body because this script might be invoked in the
    // head, in which case the body doesn't exist yet. The probe works either way.
    document.head.appendChild(node);
    // The bug exists if ::before style ends up propagating to the parent element.
    // Additionally, getComputedStyle returns null in iframes with display: "none" in Firefox,
    // but Firefox is known to support CSS custom properties correctly.
    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397
    var computedStyle = windowObj.getComputedStyle(node);
    var hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';
    if (node.parentNode) {
        node.parentNode.removeChild(node);
    }
    return hasPseudoVarBug;
}
function supportsCssVariables(windowObj, forceRefresh) {
    if (forceRefresh === void 0) { forceRefresh = false; }
    var CSS = windowObj.CSS;
    var supportsCssVars = supportsCssVariables_;
    if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {
        return supportsCssVariables_;
    }
    var supportsFunctionPresent = CSS && typeof CSS.supports === 'function';
    if (!supportsFunctionPresent) {
        return false;
    }
    var explicitlySupportsCssVars = CSS.supports('--css-vars', 'yes');
    // See: https://bugs.webkit.org/show_bug.cgi?id=154669
    // See: README section on Safari
    var weAreFeatureDetectingSafari10plus = (CSS.supports('(--css-vars: yes)') &&
        CSS.supports('color', '#00000000'));
    if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {
        supportsCssVars = !detectEdgePseudoVarBug(windowObj);
    }
    else {
        supportsCssVars = false;
    }
    if (!forceRefresh) {
        supportsCssVariables_ = supportsCssVars;
    }
    return supportsCssVars;
}
function getNormalizedEventCoords(evt, pageOffset, clientRect) {
    if (!evt) {
        return { x: 0, y: 0 };
    }
    var x = pageOffset.x, y = pageOffset.y;
    var documentX = x + clientRect.left;
    var documentY = y + clientRect.top;
    var normalizedX;
    var normalizedY;
    // Determine touch point relative to the ripple container.
    if (evt.type === 'touchstart') {
        var touchEvent = evt;
        normalizedX = touchEvent.changedTouches[0].pageX - documentX;
        normalizedY = touchEvent.changedTouches[0].pageY - documentY;
    }
    else {
        var mouseEvent = evt;
        normalizedX = mouseEvent.pageX - documentX;
        normalizedY = mouseEvent.pageY - documentY;
    }
    return { x: normalizedX, y: normalizedY };
}
//# sourceMappingURL=util.js.map

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}


/***/ }),

/***/ "./src/Line/Line.ts":
/*!**************************!*\
  !*** ./src/Line/Line.ts ***!
  \**************************/
/*! exports provided: RMGLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLine", function() { return RMGLine; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Station_Station__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/Station */ "./src/Station/Station.ts");



class RMGLine {
    constructor(param) {
        this._longInterval = 1;
        this.stations = {};
        this._svgHeight = param.svg_height;
        this._svgWidth = param.svg_width;
        this._svgDestWidth = param.svg_dest_width;
        this._showOuter = param['show_outer'];
        [this.themeCity, this.themeLine, this._themeColour, this._fgColour] = param.theme;
        this.yPc = param['y_pc'];
        this._padding = param['padding'];
        this._stripPc = param['strip_pc'];
        this._branchSpacing = param.branch_spacing;
        this._txtFlip = param['txt_flip'];
        this._lineNames = param['line_name'];
        for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
            this.stations[stnId] = this._initStnInstance(stnId, stnInfo);
        }
        this._currentStnId = param['current_stn_idx'];
        this._direction = param['direction'];
        this._platformNum = param['platform_num'];
        this._destLegacy = param['dest_legacy'];
        this._charForm = param.char_form;
        // Calculate other properties of stations
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
            stnInstance.namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
        }
    }
    _initStnInstance(stnId, stnInfo) {
        switch (stnInfo.change_type) {
            case 'int2':
            case 'osi21_ul':
            case 'osi21_pl':
            case 'osi21_ur':
            case 'osi21_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int2Station"](stnId, stnInfo);
            case 'int3_l':
            case 'osi31_ul':
            case 'osi31_pl':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3LStation"](stnId, stnInfo);
            case 'int3_r':
            case 'osi31_ur':
            case 'osi31_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3RStation"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11LStation"](stnId, stnInfo);
            case 'osi11_ur':
            case 'osi11_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11RStation"](stnId, stnInfo);
            case 'osi12_ul':
            case 'osi12_pl':
            case 'osi13_ul':
            case 'osi13_pl':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12LStation"](stnId, stnInfo);
            case 'osi12_ur':
            case 'osi12_pr':
            case 'osi13_ur':
            case 'osi13_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12RStation"](stnId, stnInfo);
            case 'osi22_pl':
            case 'osi22_ul':
                if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22EndStation"](stnId, stnInfo);
                }
                else {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22LStation"](stnId, stnInfo);
                }
            case 'osi22_pr':
            case 'osi22_ur':
                if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22EndStation"](stnId, stnInfo);
                }
                else {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22RStation"](stnId, stnInfo);
                }
            default:
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["RMGStation"](stnId, stnInfo);
        }
    }
    /**
     * Width (in pixels) of `svg#destination`.
     */
    // get svgDestWidth() {return getParams().svg_dest_width;}
    set svgDestWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgDestWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_dest_width', val);
        this.drawSVGFrame();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
    }
    /**
     * Setter of width of `svg#railmap`.
     */
    set svgWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_width', val);
        this.drawSVGFrame();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.loadFonts();
        this.updateStnNameBg();
    }
    /**
     * Setter of vertical position of line (y).
     * @param val Percentage of vertical position, given fixed `svgHeight`
     */
    set yPc(val) {
        this._yPc = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('y_pc', val);
        let y = val * this._svgHeight / 100;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        val = Number(val);
        this._padding = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('padding', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set branchSpacing(val) {
        this._branchSpacing = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('branch_spacing', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set txtFlip(val) {
        this._txtFlip = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('txt_flip', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
        }
        $('#stn_icons').empty();
        this.drawStns();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set themeColour(hexs) {
        this._themeColour = hexs[0];
        this._fgColour = hexs[1];
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.theme[2] = hexs[0];
        param.theme[3] = hexs[1];
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.fillThemeColour();
    }
    /**
     * Setter of train direction.
     */
    set direction(val) {
        this._direction = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    /**
     * Setter of platform number (can be string).
     */
    set platformNum(val) {
        this._platformNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('platform_num', val);
        $('.rmg-name__platformnum').text(val);
    }
    /**
     * Setter of character form.
     * @param val 'trad', 'cn', 'tw' or 'jp'
     */
    set charForm(val) {
        this._charForm = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('char_form', val);
        $('.rmg-name__char-trad, .rmg-name__char-cn, .rmg-name__char-tw, .rmg-name__char-jp')
            .removeClass('rmg-name__char-trad rmg-name__char-cn rmg-name__char-tw rmg-name__char-jp')
            .addClass(`rmg-name__char-${val}`);
    }
    /**
     * Setter of names of line.
     */
    set lineNames(val) {
        this._lineNames = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_name', val);
        this.drawDestInfo();
        this.loadFonts();
    }
    /**
     * Setter of legacy style of destination information panel.
     */
    set destLegacy(val) {
        this._destLegacy = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('dest_legacy', val);
        this.drawDestInfo();
        this.loadFonts();
    }
    /**
     * Setter of current station.
     */
    set currentStnId(val) {
        this._currentStnId = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('current_stn_idx', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
    }
    /**
     * Increment of the weight of out-bound edge of a station, which increases the horizontal interval from its children.
     */
    _rightWideFactor(stnId) {
        var res = 0;
        let stnInstance = this.stations[stnId];
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3RStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11RStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12RStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22Station"]) {
            res += this._longInterval;
        }
        var stnClasses = ['Int3RStation', 'OSI11RStation', 'OSI12RStation', 'OSI22LStation', 'OSI22RStation'];
        if (stnClasses.includes(this.stations[stnId].constructor.name)) {
            res += this._longInterval;
        }
        if (this._stnOutdegree(stnId) == 2) {
            res += this._longInterval / 2;
        }
        if (this._stnIndegree(this.stations[stnId].children[0]) == 2) {
            res += this._longInterval / 2;
        }
        return res;
    }
    /**
     * Increment of the weight of in-bound edge of a station, which increases the horizontal interval from its parents.
     */
    _leftWideFactor(stnId) {
        var res = 0;
        let stnInstance = this.stations[stnId];
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3LStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11LStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12LStation"]) {
            res += this._longInterval;
        }
        if (stnInstance instanceof _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22Station"]) {
            res += this._longInterval;
        }
        if (this._stnIndegree(stnId) == 2) {
            res += this._longInterval / 2;
        }
        if (this._stnOutdegree(this.stations[stnId].parents[0]) == 2) {
            res += this._longInterval / 2;
        }
        return res;
    }
    /**
     * Path weight from station 1 to station 2 (station 2 must be a child of station 1, otherwise return `-Infinity`).
     */
    _pathWeight(stnId1, stnId2) {
        if (!this.stations[stnId1].children.includes(stnId2)) {
            return -Infinity;
        }
        return 1 + this._rightWideFactor(stnId1) + this._leftWideFactor(stnId2);
    }
    /**
     * Critical path and corresponding length from a station to another.
     * @param from ID of station on the left
     * @param to ID of station on the left
     */
    _cp(from, to) {
        let self = this;
        if (from == to) {
            return { len: 0, nodes: [from] };
        }
        let allLengths = [];
        let criticalPaths = [];
        this.stations[from].children.forEach(child => {
            let cp = self._cp(child, to);
            if (cp.len < 0) {
                return;
            }
            allLengths.push(this._pathWeight(from, child) + cp.len);
            cp.nodes.unshift(from);
            criticalPaths.push(cp.nodes);
        });
        let maxLength = Math.max(...allLengths);
        return {
            'len': maxLength,
            'nodes': criticalPaths[allLengths.indexOf(maxLength)]
        };
    }
    /**
     * Getter of critical path (from left to right) and corresponding length of the entire line.
     */
    get criticalPath() {
        let allLengths = [];
        let criticalPaths = [];
        this.leftDests.forEach(ld => {
            this.rightDests.forEach(rd => {
                let cp = this._cp(ld, rd);
                allLengths.push(cp.len);
                criticalPaths.push(cp.nodes);
            });
        });
        let maxLen = Math.max(...allLengths);
        return {
            'len': maxLen,
            'nodes': criticalPaths[allLengths.indexOf(maxLen)]
        };
    }
    _topoOrder(from, tpo = []) {
        var self = this;
        tpo.push(from);
        this.stations[from].children.forEach(child => {
            if (this._stnIndegree(child) == 2 && this.stations[child].parents.indexOf(from) == 0) {
                // wait the other branch
                return;
            }
            tpo.concat(self._topoOrder(child, tpo));
        });
        return tpo;
    }
    get tpo() {
        let res = this._topoOrder('linestart');
        return res.slice(1, res.length - 1);
    }
    get stripY() { return this._stripPc * this._svgHeight / 100; }
    get turningRadius() { return this._branchSpacing / 2 * (Math.sqrt(2) / (Math.sqrt(2) - 1)); }
    get lineXs() {
        return [
            this._svgWidth * this._padding / 100,
            this._svgWidth * (1 - this._padding / 100)
        ];
    }
    get leftDests() { return this.stations.linestart.children; }
    get rightDests() { return this.stations.lineend.parents; }
    get lValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart')[0])));
    }
    get rValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart').reverse()[0])));
    }
    /**
     * Indegree of a station node.
     */
    _stnIndegree(stnId) { return this.stations[stnId].inDegree; }
    /**
     * Outdegree of a station node.
     */
    _stnOutdegree(stnId) { return this.stations[stnId].outDegree; }
    /**
     * Horizontal position (in shares) of station icon.
     */
    _stnXShare(stnId) {
        var self = this;
        var cp = this.criticalPath;
        if (cp.nodes.includes(stnId)) {
            return this._cp(cp.nodes[0], stnId).len;
        }
        var partSource = stnId;
        var partSink = stnId;
        var leftOpenJaw = false;
        var rightOpenJaw = false;
        while (true) {
            var parent = this.stations[partSource].parents[0];
            if (parent == 'linestart') {
                leftOpenJaw = true;
                break;
            }
            partSource = parent;
            if (this._stnOutdegree(partSource) > 1) {
                break;
            }
        }
        while (true) {
            var children = this.stations[partSink].children;
            if (children[0] != 'lineend') {
                partSink = children[0];
            }
            else {
                rightOpenJaw = true;
                break;
            }
            if (this._stnIndegree(partSink) > 1) {
                break;
            }
        }
        var lengthToSource = this._cp(partSource, stnId).len;
        var lengthToSink = this._cp(stnId, partSink).len;
        if (leftOpenJaw) {
            var actualPartLength = this._cp(cp.nodes[0], partSink).len;
            return self._stnXShare(partSink) - lengthToSink / (lengthToSource + lengthToSink) * actualPartLength;
        }
        else if (rightOpenJaw) {
            var actualPartLength = this._cp(partSource, cp.nodes.slice(-1)[0]).len;
        }
        else {
            var actualPartLength = this._cp(partSource, partSink).len;
        }
        return self._stnXShare(partSource) + lengthToSource / (lengthToSource + lengthToSink) * actualPartLength;
    }
    /**
     * Horizontal position (in pixels) of station icon.
     */
    _stnRealX(stnId) {
        let [lineStart, lineEnd] = this.lineXs;
        return lineStart + this._stnXShare(stnId) / this.criticalPath.len * (lineEnd - lineStart);
    }
    /**
     * Mirror `_stnYShareMTR`.
     */
    _stnYShare(stnId) {
        return this._stnYShareMTR(stnId);
    }
    /**
     * Vertical position (in shares) of station icon if using MTR style (for consistency of method `RMGLine.newStnPossibleLoc()`).
     */
    _stnYShareMTR(stnId) {
        if (['linestart', 'lineend'].includes(stnId) || this._stnIndegree(stnId) > 1 || this._stnOutdegree(stnId) > 1) {
            return 0;
        }
        var stnPred = this.stations[stnId].parents[0];
        let self = this;
        if (stnPred) {
            // parent exist
            if (this._stnOutdegree(stnPred) == 1) {
                // no sibling, then y same as parent
                return self._stnYShareMTR(stnPred);
            }
            else {
                // sibling exists, then y depends on its idx of being children
                return (this.stations[stnPred].children.indexOf(stnId) == 0) ? 1 : -1;
            }
        }
        else {
            // no parent, must be linestart
            return 0;
        }
    }
    /**
     * Vertical position (in pixels) of station icon related to vertical position of line.
     */
    _stnRealY(stnId) {
        return -this._stnYShare(stnId) * this._branchSpacing;
    }
    /**
     * Return true if station 2 is a successor of station 1, false otherwise.
     */
    _isSuccessor(stnId1, stnId2) {
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx1 < idx2) {
                return true;
            }
        }
        return false;
    }
    /**
     * Return true if station 2 is a predecessor of station 1, false otherwise.
     */
    _isPredecessor(stnId1, stnId2) {
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx2 < idx1) {
                return true;
            }
        }
        return false;
    }
    /**
     * Return state of a station (-1: passed, 0: current, 1: future).
     */
    _stnState(stnId) {
        if (stnId == this._currentStnId) {
            return 0;
        }
        if (this._direction == 'r') {
            return this._isSuccessor(this._currentStnId, stnId) ? 1 : -1;
        }
        else {
            return this._isPredecessor(this._currentStnId, stnId) ? 1 : -1;
        }
    }
    /**
     * Station name position (`false`: above line, `true`: below line, given `txtFlip` is `false`).
     */
    _stnNamePos(stnId) {
        if (stnId === 'linestart') {
            return true;
        }
        let self = this;
        let cp = this.criticalPath.nodes;
        let pos = cp.indexOf(stnId) % 2; // -1, 0 or 1;
        if (pos === -1) {
            let parId = this.stations[stnId].parents[0];
            if (this._stnOutdegree(parId) === 2) {
                return self._stnNamePos(parId);
            }
            return !self._stnNamePos(parId);
        }
        return pos === 1;
    }
    /**
     * Set height and width for both `svg`s.
     */
    drawSVGFrame() {
        $('#railmap, #outer').attr({
            width: this._svgWidth,
            height: this._svgHeight
        });
        $('#destination, #dest_outer').attr({
            width: this._svgDestWidth,
            height: this._svgHeight
        });
    }
    /**
     * Show border of both `svg`s, but the stroke colour of the borders are currently set as `none`.
     */
    showFrameOuter() {
        // var outerColour = this._showOuter ? 'black' : 'none';
        // $('#outer, #dest_outer').attr('stroke', outerColour);
        if (this._showOuter) {
            $('#outer, #dest_outer').show();
        }
        else {
            $('#outer, #dest_outer').hide();
        }
    }
    /**
     * Draw all stations. (Previously drawn station icons are not removed. )
     */
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    /**
     * Update background of current station name. `y` and `height` are changed while station icon is re-drawn and `RMGStation.nameHTML` is loaded.
     */
    updateStnNameBg() {
        var stnNameDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($(`#stn_icons > #${this._currentStnId} > .Name`)[0], 'railmap');
        $('#current_bg').attr({
            x: stnNameDim.x - 3,
            width: stnNameDim.width + 6,
        });
    }
    get stnDX() { return this.turningRadius - this._branchSpacing / 2; }
    ;
    get stnDY() { return this._branchSpacing / 2; }
    ;
    get stnExtraH() {
        var [lineStart, lineEnd] = this.lineXs;
        return (lineEnd - lineStart) / this.criticalPath.len * this._longInterval;
    }
    get stnSpareH() {
        var [lineStart, lineEnd] = this.lineXs;
        var dh = ((lineEnd - lineStart) / this.criticalPath.len - 2 * this.stnDX) / 2;
        if (dh < 0) {
            console.warn(`SVG width too small! ${dh}`);
        }
        return dh;
    }
    get pathTurnENE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnNEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnESE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${this.stnDY}`; }
    ;
    get pathTurnSEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${this.stnDY}`; }
    ;
    /**
     * Generate `d` attribute of `<path>` element through all stations input.
     */
    _linePath(stnIds) {
        var [prevId, prevY, prevX] = [];
        var path = [];
        var { stnExtraH, stnSpareH, pathTurnESE, pathTurnSEE, pathTurnENE, pathTurnNEE, stnDX } = this;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path.push(`M ${x},${y}`);
                return;
            }
            if (y > prevY) {
                path.push(y === 0 ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnESE, pathTurnSEE);
            }
            else if (y < prevY) {
                path.push(y === 0 ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnENE, pathTurnNEE);
            }
            path.push(`H ${x}`);
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // simplify path
        return path.join(' ').replace(/( H ([\d.]+))+/g, ' H $2');
    }
    drawLine() {
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns) }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns) }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    drawStrip() {
        // $('#strip, #dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`)
        $('#strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`);
        $('#dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgDestWidth}`);
    }
    fillThemeColour() {
        $('#line_main, #strip, #dest_strip').attr('stroke', this._themeColour);
        $('#dest_name > #platform > circle').attr('fill', this._themeColour);
    }
    drawDestInfo() {
        $('#dest_name > #platform > text').text(this._platformNum);
        let validDest = this[this._direction + 'ValidDests'];
        let txtAnchor = this._direction === 'l' ? 'start' : 'end';
        var [destNameZH, destNameEN] = [0, 1].map(idx => {
            return validDest.map(stnId => this.stations[stnId].name[idx].replace(/\\/g, ' ')).join('/');
        });
        if (this._destLegacy) {
            var [lineNameZH, lineNameEN] = this._lineNames;
            lineNameEN += ' ';
        }
        else {
            var lineNameZH = lineNameEN = '';
        }
        $('#dest_name > g:last-child text').eq(0).text(`${lineNameZH}往${destNameZH}`);
        $('#dest_name > g:last-child text').eq(1).text(`${lineNameEN}to ${destNameEN}`);
        var bcr = $('#dest_name > g:last-child')[0].getBoundingClientRect();
        var flagLength = 160 + 150 + bcr.width + 45 + 50;
        var isLeft = (this._direction == 'l') ? 1 : -1;
        var arrowX = (this._svgDestWidth - isLeft * flagLength) / 2;
        var arrowRotate = 90 * (1 - isLeft);
        var platformNumX = arrowX + isLeft * (160 + 50 + 75);
        var destNameX = platformNumX + isLeft * (75 + 45);
        $('#dest_name > use').attr('transform', `translate(${arrowX},130)rotate(${arrowRotate})`);
        $('#dest_name > #platform').attr('transform', `translate(${platformNumX},130)`);
        $('#dest_name > g:last-child').attr({
            transform: `translate(${destNameX},105)`,
            'text-anchor': txtAnchor
        });
    }
    loadFonts() {
        $('.rmg-name__zh').addClass(`rmg-name__char-${this._charForm}`);
    }
    updateStnName(stnId, names, stnNum) {
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].name = names;
        param.stn_list[stnId].num = stnNum;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId].name = names;
        // this.stations[stnId]._nameZH = nameZH;
        // this.stations[stnId]._nameEN = nameEN;
        this.stations[stnId].stnNum = stnNum;
        $(`#stn_icons #${stnId}`).remove();
        $('#stn_icons').append(this.stations[stnId].html);
        $('#stn_icons').html($('#stn_icons').html());
        if (this.leftDests.includes(stnId) && this._direction == 'l') {
            this.drawDestInfo();
        }
        else if (this.rightDests.includes(stnId) && this._direction == 'r') {
            this.drawDestInfo();
        }
        this.loadFonts();
        if (stnId == this._currentStnId) {
            this.updateStnNameBg();
        }
    }
    updateStnTransfer(stnId, type, info = null) {
        var prevClass = this.stations[stnId].constructor.name;
        // V2.6 data structure
        let changeType = type.split('_')[0];
        let tick_direc = (type === 'none' || type === 'int2') ? 'r' : type.split('_')[1].split('').slice().reverse()[0];
        let paid_area = (type.indexOf('osi') !== -1) ? type.split('_')[1][0] === 'p' : true;
        let osi_names = (type.indexOf('osi') !== -1) ? [info[1][0]] : [];
        let transferInfo = info.length === 2 ? [info[0], info[1].slice(1)] : info;
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].change_type = type;
        if (type == 'none') {
            param.stn_list[stnId].interchange = [[]];
            param.stn_list[stnId].transfer = {
                type: changeType,
                tick_direc: tick_direc,
                paid_area: paid_area,
                osi_names: [],
                info: [[]]
            };
        }
        else {
            // param.stn_list[stnId].transfer = info;
            param.stn_list[stnId].interchange = info;
            param.stn_list[stnId].transfer = {
                type: changeType,
                tick_direc: tick_direc,
                paid_area: paid_area,
                osi_names: osi_names,
                info: transferInfo
            };
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId] = this._initStnInstance(stnId, param.stn_list[stnId]);
        if (prevClass != this.stations[stnId].constructor.name) {
            // Not sure position, redraw all
            for (let [stnId, stnInstance] of Object.entries(this.stations)) {
                if (['linestart', 'lineend'].includes(stnId)) {
                    continue;
                }
                stnInstance.x = this._stnRealX(stnId);
                stnInstance.y = this._stnRealY(stnId);
                stnInstance.namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
                stnInstance.state = this._stnState(stnId);
            }
            RMGLine.clearSVG();
            this.drawStns();
            this.drawLine();
            this.drawStrip();
        }
        else {
            this.stations[stnId].x = this._stnRealX(stnId);
            this.stations[stnId].y = this._stnRealY(stnId);
            this.stations[stnId].namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
            this.stations[stnId].state = this._stnState(stnId);
            $(`#stn_icons #${stnId}`).remove();
            $('#stn_icons').append(this.stations[stnId].html);
            $('#stn_icons').html($('#stn_icons').html());
        }
        this.loadFonts();
        this.updateStnNameBg();
    }
    removeStn(stnId) {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        var parents = this.stations[stnId].parents;
        var children = this.stations[stnId].children;
        var isLastMainBranchStn = true;
        for (let id in this.stations) {
            if ([stnId, 'linestart', 'lineend'].includes(id)) {
                continue;
            }
            if (this._stnYShareMTR(id) == 0) {
                isLastMainBranchStn = false;
                break;
            }
        }
        if (parents.length == 2 && children.length == 2) {
            // To be rewritten, join two branches
            return false;
        }
        else if (isLastMainBranchStn) {
            // Last main line station
            return false;
        }
        else if (Object.keys(param.stn_list).length == 4) {
            // Last two stations
            return false;
        }
        else if (parents.length == 2 || children.length == 2) {
            parents.forEach(parId => {
                param.stn_list[parId].children = children;
                this.stations[parId].children = children;
            });
            children.forEach(childId => {
                param.stn_list[childId].parents = parents;
                this.stations[childId].parents = parents;
            });
            if (parents.length == 1) {
                param.stn_list[parents[0]].branch.right = this.stations[stnId].branch.right;
                this.stations[parents[0]].branch.right = this.stations[stnId].branch.right;
            }
            if (children.length == 1) {
                param.stn_list[children[0]].branch.left = this.stations[stnId].branch.left;
                this.stations[children[0]].branch.left = this.stations[stnId].branch.left;
            }
        }
        else if (this._stnOutdegree(parents[0]) == 2 && this._stnIndegree(children[0]) == 2) {
            // 1 par 1 child, last station on upper/lower branch
            // branch disappear
            var childIdxOfPar = this.stations[parents[0]].children.indexOf(stnId);
            var parIdxOfChild = this.stations[children[0]].parents.indexOf(stnId);
            param.stn_list[parents[0]].children.splice(childIdxOfPar, 1);
            this.stations[parents[0]].children.splice(childIdxOfPar, 1);
            param.stn_list[children[0]].parents.splice(parIdxOfChild, 1);
            this.stations[children[0]].parents.splice(parIdxOfChild, 1);
            param.stn_list[parents[0]].branch.right = [];
            this.stations[parents[0]].branch.right = [];
            param.stn_list[children[0]].branch.left = [];
            this.stations[children[0]].branch.left = [];
        }
        else {
            // 1 par 1 child
            parents.forEach(parId => {
                var idx = param.stn_list[parId].children.indexOf(stnId);
                if (children.length) {
                    param.stn_list[parId].children[idx] = children[0];
                    this.stations[parId].children[idx] = children[0];
                }
                else {
                    // Right dest
                    param.stn_list[parId].children.splice(idx, 1);
                    this.stations[parId].children.splice(idx, 1);
                }
                if (this.stations[parId].branch.right[1] === stnId) {
                    this.stations[parId].branch.right[1] = children[0];
                    param.stn_list[parId].branch.right[1] = children[0];
                }
            });
            children.forEach(childId => {
                var idx = param.stn_list[childId].parents.indexOf(stnId);
                if (parents.length) {
                    param.stn_list[childId].parents[idx] = parents[0];
                    this.stations[childId].parents[idx] = parents[0];
                }
                else {
                    // Left dest
                    param.stn_list[childId].parents.splice(idx, 1);
                    this.stations[childId].parents.splice(idx, 1);
                }
                if (this.stations[childId].branch.left[1] === stnId) {
                    this.stations[childId].branch.left[1] = parents[0];
                    param.stn_list[childId].branch.left[1] = parents[0];
                }
            });
        }
        delete param.stn_list[stnId];
        delete this.stations[stnId];
        var isCurrentStnChanged = false;
        if (this._currentStnId == stnId) {
            var newCurrentStnId = Object.keys(this.stations)[2];
            this._currentStnId = newCurrentStnId;
            param.current_stn_idx = newCurrentStnId;
            isCurrentStnChanged = true;
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        parents.concat(children).forEach(neId => {
            if (['linestart', 'lineend'].includes(neId)) {
                return;
            }
            this.stations[neId] = this._initStnInstance(neId, param.stn_list[neId]);
        });
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
        return true;
    }
    newStnPossibleLoc(prep, stnId) {
        var deg = (prep == 'before') ? this._stnIndegree(stnId) : this._stnOutdegree(stnId);
        switch (deg) {
            case 2:
                // 1 -> 2
                return [1, 1, 1, [], []];
            case 1:
                if (this._stnYShareMTR(stnId) == 0) {
                    // 1 -> 1
                    let state = this.newBranchPossibleEnd(prep, stnId);
                    state = (state.length) ? state : [];
                    return [1, 0, 0, state, state];
                    // [1,0,0,1,1];
                }
                else if (this._stnYShareMTR(stnId) < 0) {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                }
                else {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                }
        }
        return [0, 0, 0, [], []];
    }
    newBranchPossibleEnd(prep, stnId) {
        let res = [];
        if (prep == 'before') {
            while (this._stnIndegree(stnId) == 1) {
                stnId = this.stations[stnId].parents[0];
                res.unshift(stnId);
            }
            res.pop();
        }
        else {
            while (this._stnOutdegree(stnId) == 1) {
                stnId = this.stations[stnId].children[0];
                res.push(stnId);
            }
            res.shift();
        }
        return res;
    }
    addStn(prep, stnId, loc, end) {
        let newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        while (Object.keys(this.stations).includes(newId)) {
            newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        }
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        let newInfo = {};
        if (prep == 'before') {
            if (loc == 'centre') {
                newInfo.parents = this.stations[stnId].parents;
                if (this._stnIndegree(stnId) == 0 && this._stnYShareMTR(stnId) != 0) {
                    newInfo.children = this.leftDests;
                }
                else if (this._stnYShareMTR(stnId) != 0) {
                    // pivot on branch
                    newInfo.children = this.stations[this.stations[stnId].parents[0]].children;
                    newInfo.branch = {
                        left: [],
                        right: this.stations[newInfo.parents[0]].branch.right
                    };
                    this.stations[newInfo.parents[0]].branch.right = [];
                    param.stn_list[newInfo.parents[0]].branch.right = [];
                }
                else {
                    // pivot on main
                    newInfo.children = [stnId];
                    newInfo.branch = {
                        left: this.stations[stnId].branch.left,
                        right: []
                    };
                    this.stations[stnId].branch.left = [];
                    param.stn_list[stnId].branch.left = [];
                }
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[0]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(0, 1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[0] = newId;
                    param.stn_list[stnId].parents[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children[0] = newId;
                        param.stn_list[par].children[0] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[1]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[1] = newId;
                    param.stn_list[stnId].parents[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        let parChildLen = this.stations[par].children.length;
                        this.stations[par].children[parChildLen - 1] = newId;
                        param.stn_list[par].children[parChildLen - 1] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left = ['through', newId];
                param.stn_list[stnId].branch.left = ['through', newId];
                this.stations[end].branch.right = ['through', newId];
                param.stn_list[end].branch.right = ['through', newId];
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.unshift(newId);
                param.stn_list[end].children.unshift(newId);
                this.stations[stnId].parents.unshift(newId);
                param.stn_list[stnId].parents.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left = ['through', newId];
                param.stn_list[stnId].branch.left = ['through', newId];
                this.stations[end].branch.right = ['through', newId];
                param.stn_list[end].branch.right = ['through', newId];
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.push(newId);
                param.stn_list[end].children.push(newId);
                this.stations[stnId].parents.push(newId);
                param.stn_list[stnId].parents.push(newId);
            }
        }
        else {
            if (loc == 'centre') {
                newInfo.children = this.stations[stnId].children;
                if (this._stnOutdegree(stnId) == 0 && this._stnYShareMTR(stnId) != 0) {
                    newInfo.parents = this.rightDests;
                }
                else if (this._stnYShareMTR(stnId) != 0) {
                    // pivot on branch
                    newInfo.parents = this.stations[this.stations[stnId].children[0]].parents;
                    newInfo.branch = {
                        left: this.stations[newInfo.children[0]].branch.left,
                        right: []
                    };
                    this.stations[newInfo.children[0]].branch.left = [];
                    param.stn_list[newInfo.children[0]].branch.left = [];
                }
                else {
                    // pivot on main
                    newInfo.parents = [stnId];
                    newInfo.branch = {
                        left: [],
                        right: this.stations[stnId].branch.right
                    };
                    this.stations[stnId].branch.right = [];
                    param.stn_list[stnId].branch.right = [];
                }
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[0]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(0, 1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[0] = newId;
                    param.stn_list[stnId].children[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents[0] = newId;
                        param.stn_list[child].parents[0] = newId;
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[1]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[1] = newId;
                    param.stn_list[stnId].children[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        if (this._stnIndegree(child) === 1) {
                            this.stations[child].parents[0] = newId;
                            param.stn_list[child].parents[0] = newId;
                        }
                        else {
                            this.stations[child].parents[1] = newId;
                            param.stn_list[child].parents[1] = newId;
                        }
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.unshift(newId);
                param.stn_list[end].parents.unshift(newId);
                this.stations[stnId].children.unshift(newId);
                param.stn_list[stnId].children.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.push(newId);
                param.stn_list[end].parents.push(newId);
                this.stations[stnId].children.push(newId);
                param.stn_list[stnId].children.push(newId);
            }
        }
        newInfo.name = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getNameFromId"])(newId);
        newInfo.change_type = 'none';
        newInfo.num = '00';
        newInfo.interchange = [[]];
        newInfo.transfer = {
            info: [[]],
            type: 'none',
            osi_names: [],
            paid_area: true,
            tick_direc: 'r'
        };
        param.stn_list[newId] = newInfo;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[newId] = this._initStnInstance(newId, newInfo);
        this.stations[stnId] = this._initStnInstance(stnId, Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId]);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
            stnInstance.namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
        return [newId, newInfo];
    }
    reverseStns() {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (stnId === 'linestart') {
                param.stn_list['lineend'].parents = stnInstance.children.reverse();
                param.stn_list['lineend'].branch = {
                    left: stnInstance.branch.right,
                    right: []
                };
            }
            else if (stnId === 'lineend') {
                param.stn_list['linestart'].children = stnInstance.parents.reverse();
                param.stn_list['linestart'].branch = {
                    left: [],
                    right: stnInstance.branch.left
                };
            }
            else {
                var tmpArr = stnInstance.children.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].children = stnInstance.parents.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].parents = tmpArr;
                param.stn_list[stnId].branch.left = stnInstance.branch.right;
                param.stn_list[stnId].branch.right = stnInstance.branch.left;
            }
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        location.reload(true);
    }
    updateBranchType(stnId, direction, type) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][0] === type) {
            return;
        }
        this.stations[stnId].branch[direc][0] = type;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].branch[direc][0] = type;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    updateBranchFirst(stnId, direction, first) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][1] === first) {
            return false;
        }
        let branchEndId = first;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            let branchFirstIdx = this.stations[stnId].children.indexOf(first);
            this.stations[stnId].branch.right[1] = param.stn_list[stnId].branch.right[1] = first;
            this.stations[branchEndId].branch.left[1] = param.stn_list[branchEndId].branch.left[1] = this.stations[branchEndId].parents[branchFirstIdx];
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            let branchFirstIdx = this.stations[stnId].parents.indexOf(first);
            this.stations[stnId].branch.left[1] = param.stn_list[stnId].branch.left[1] = first;
            this.stations[branchEndId].branch.right[1] = param.stn_list[branchEndId].branch.right[1] = this.stations[branchEndId].children[branchFirstIdx];
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
        return true;
    }
    updateBranchPos(stnId, direction, pos) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (direc === 'right') {
            if (this.stations[stnId].children.indexOf(this.stations[stnId].branch.right[1]) === pos) {
                return;
            }
        }
        else {
            if (this.stations[stnId].parents.indexOf(this.stations[stnId].branch.left[1]) === pos) {
                return;
            }
        }
        let branchEndId = this.stations[stnId].branch[direc][1];
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            this.stations[stnId].children.reverse();
            param.stn_list[stnId].children.reverse();
            this.stations[branchEndId].parents.reverse();
            param.stn_list[branchEndId].parents.reverse();
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            this.stations[stnId].parents.reverse();
            param.stn_list[stnId].parents.reverse();
            this.stations[branchEndId].children.reverse();
            param.stn_list[branchEndId].children.reverse();
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    static clearSVG() {
        $('#stn_icons, #line_main, #line_pass').empty();
    }
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        line.fillThemeColour();
        line.drawLine();
        line.drawStrip();
        line.drawDestInfo();
        line.loadFonts();
        line.updateStnNameBg();
    }
    /**
     * Getter of all branches (支線段) of the line. The first branch must be the main line.
     */
    get branches() {
        var stack = ['linestart'];
        var branches = [[]];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount][0] || null;
            var curBranch = [curId];
            if (prevId) {
                curBranch.unshift(prevId);
            }
            while (true) {
                if (curId == 'lineend') {
                    break;
                }
                if (curId != 'linestart' && prevId == this.stations[curId].branch.left[1]) {
                    // branch ends
                    break;
                }
                else {
                    prevId = curId;
                    var children = this.stations[prevId].children;
                    switch (children.length) {
                        case 1:
                            curId = children[0];
                            break;
                        case 2:
                            branches.push([prevId]);
                            if (prevId == 'linestart') {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            else {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            // var branchNextId = getParams().stn_list[prevId].branch.right[1];
                            stack.push(branchNextId);
                            curId = children.filter(stnId => stnId != branchNextId)[0];
                            break;
                    }
                    curBranch.push(curId);
                }
            }
            branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches.map(branch => {
            return branch.filter(stnId => !['linestart', 'lineend'].includes(stnId));
        });
    }
    /**
     * Getter of routes (行車交路) of the line. The first route must be the main line.
     */
    get routes() {
        var stack = ['linestart'];
        var branches = [['linestart']];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount].slice().reverse()[0] || null;
            if (prevId && curId !== 'linestart') {
                branches[branchCount].push(curId);
            }
            else {
                branches[branchCount] = [curId];
            }
            while (curId !== 'lineend') {
                prevId = curId;
                var children = this.stations[prevId].children;
                switch (children.length) {
                    case 1:
                        curId = children[0];
                        break;
                    case 2:
                        var branchNextId = this.stations[prevId].branch.right[1];
                        // if (branchCount === 0) {
                        if (this.stations[prevId].branch.right[0] === 'through') {
                            branches.push(branches[branchCount].slice());
                            stack.push(branchNextId);
                        }
                        else {
                            if (branchCount === 0) {
                                branches.push([prevId]);
                                stack.push(branchNextId);
                            }
                            // branches.push([prevId]);
                        }
                        // stack.push(branchNextId);
                        // }
                        curId = children.filter(stnId => stnId != branchNextId)[0];
                        break;
                }
                branches[branchCount].push(curId);
                if (prevId === this.stations[curId].branch.left[1] && this.stations[curId].branch.left[0] === 'nonthrough') {
                    break;
                }
            }
            // branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches;
    }
}


/***/ }),

/***/ "./src/Line/init.ts":
/*!**************************!*\
  !*** ./src/Line/init.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



const getLineClass = (style) => __awaiter(void 0, void 0, void 0, function* () {
    switch (style) {
        case 'mtr':
            return Promise.resolve(_Line__WEBPACK_IMPORTED_MODULE_2__["RMGLine"]);
        // lazy loading
        case 'gzmtr':
            return __webpack_require__.e(/*! import() | LineGZ */ "LineGZ").then(__webpack_require__.bind(null, /*! ./LineGZ */ "./src/Line/LineGZ.ts"))
                .then(({ RMGLineGZ }) => RMGLineGZ);
        case 'shmetro':
            return __webpack_require__.e(/*! import() | LineSH */ "LineSH").then(__webpack_require__.bind(null, /*! ./LineSH */ "./src/Line/LineSH.ts"))
                .then(({ RMGLineSH }) => RMGLineSH);
        // any other styles
    }
});
/* harmony default export */ __webpack_exports__["default"] = (function () {
    const loadLine = (param) => __awaiter(this, void 0, void 0, function* () {
        let lineClass = yield getLineClass(window.urlParams.get('style'));
        window.myLine = yield new lineClass(param);
        lineClass.initSVG(window.myLine);
    });
    if (localStorage.rmgParam != null) {
        try {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        }
        catch (err) {
            let initErrDiag = _material_dialog__WEBPACK_IMPORTED_MODULE_1__["MDCDialog"].attachTo($('#init_err_diag')[0]);
            $('#init_err_diag')
                .find('#err_stack')
                .html(err + '<br>' + err.stack.replace(/\n/g, '<br>'));
            initErrDiag.open();
            console.error(err);
        }
    }
    else {
        $.getJSON(`templates/blank.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        });
    }
});


/***/ }),

/***/ "./src/PageInitialiser/design.ts":
/*!***************************************!*\
  !*** ./src/PageInitialiser/design.ts ***!
  \***************************************/
/*! exports provided: common, mtr, gzmtr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mtr", function() { return mtr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gzmtr", function() { return gzmtr; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/list */ "@material/list");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_list__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/select */ "@material/select");
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_select__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material/switch */ "@material/switch");
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_switch__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material/ripple */ "@material/ripple");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ripple__WEBPACK_IMPORTED_MODULE_6__);







function common() {
    // mdc instances
    const designList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list')[0]);
    const [themeDialog, lineNameDialog] = ['#design_theme_diag', '#line_name_diag'].map(selector => _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($(selector)[0]));
    const [themeCitySelect, themeLineSelect] = ['#theme_city', '#theme_line'].map(selector => new _material_select__WEBPACK_IMPORTED_MODULE_3__["MDCSelect"]($(selector)[0]));
    // const themeCitySelect = new MDCSelect($('#theme_city')[0]);
    // const themeLineSelect = new MDCSelect($('#theme_line')[0]);
    const [lineNameZHTextField, lineNameENTextField] = ['#name_zh', '#name_en'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($('#line_name_diag').find(selector)[0]));
    const platformNumTextField = _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($('#platform_num')[0]);
    $('#panel_design .mdc-list li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_6__["MDCRipple"](el));
    // helper functions
    const getDirectionText = (direc) => {
        return $('#design_list')
            .find(`li#direc p#${direc}`)
            .text();
    };
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        $('#design_list')
            .find('li#name .mdc-list-item__secondary-text')
            .text(param.line_name.join());
        lineNameZHTextField.value = param.line_name[0];
        lineNameENTextField.value = param.line_name[1];
        $('#design_list')
            .find('li#direc .mdc-list-item__secondary-text')
            .text(getDirectionText(param.direction));
        platformNumTextField.value = param.platform_num;
    });
    $.getJSON('data/city_list.json', (data) => {
        let lang = window.urlParams.get('lang');
        data.forEach(c => {
            $('#theme_city__selection').append($('<li>', {
                class: 'mdc-list-item',
                'data-value': c.id
            }).text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["countryCode2Emoji"])(c.country) + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(c.name, lang)));
        });
        $('#theme_city__selection li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_6__["MDCRipple"](el));
        var [themeCity] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().theme;
        var cityIdx = $(`#theme_city__selection > [data-value="${themeCity}"]`).index();
        themeCitySelect.selectedIndex = cityIdx;
    });
    // add event listeners
    designList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                themeDialog.open();
                break;
            case 1:
                lineNameDialog.open();
                break;
            case 2:
                if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().direction == 'r') {
                    console.log('right to left');
                    window.myLine.direction = 'l';
                    $('#design_list').find('li#direc .mdc-list-item__secondary-text').text(getDirectionText('l'));
                }
                else {
                    console.log('left to right');
                    window.myLine.direction = 'r';
                    $('#design_list').find('li#direc .mdc-list-item__secondary-text').text(getDirectionText('r'));
                }
                break;
            case 4:
                window.myLine.reverseStns();
                break;
        }
    });
    themeDialog.listen('MDCDialog:opened', () => {
        [themeCitySelect, themeLineSelect].map(select => select.layout());
    });
    themeCitySelect.listen("MDCSelect:change", (event) => {
        let city = event.detail.value;
        $('#theme_line__selection').empty();
        $.getJSON(`data/${city}.json`, (data) => {
            var lang = window.urlParams.get('lang');
            data.forEach(l => {
                $('#theme_line__selection').append($('<li>', {
                    class: 'mdc-list-item',
                    'data-value': l.id
                }).append($('<span>').css({
                    background: l.colour,
                    color: l.fg || '#fff'
                }).text('\u00a0' + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(l.name, lang) + '\u00a0')));
            });
            $('#theme_line__selection li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_6__["MDCRipple"](el));
            var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
            param.theme[0] = city;
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
            var lineIdx = $(`#theme_line__selection > [data-value="${param.theme[1]}"]`).index();
            themeLineSelect.selectedIndex = lineIdx == -1 ? 0 : lineIdx;
        });
    });
    themeLineSelect.listen("MDCSelect:change", (event) => {
        let lineIdx = event.detail.index;
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.theme[1] = event.detail.value;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        window.myLine.themeLine = event.detail.value;
        window.myLine.themeColour = ['background-color', 'color']
            .map(prop => $('#theme_line__selection span').eq(lineIdx).css(prop))
            .map(_utils__WEBPACK_IMPORTED_MODULE_0__["rgb2Hex"]);
        $('#design_list')
            .find('li#theme .mdc-list-item__secondary-text')
            .html($('#theme_city__selection li').eq(themeCitySelect.selectedIndex).text() +
            ' ' +
            $('#theme_line__selection li').eq(lineIdx).html().trim());
    });
    lineNameDialog.listen('MDCDialog:opened', event => {
        [lineNameZHTextField, lineNameENTextField].map(textfield => textfield.layout());
    });
    $('#line_name_diag')
        .find('.mdc-text-field')
        .on('input', () => {
        let lineNames = [lineNameZHTextField, lineNameENTextField].map(textfield => textfield.value);
        window.myLine.lineNames = lineNames;
        $('#design_list')
            .find('li#name .mdc-list-item__secondary-text')
            .text(lineNames.join());
    });
    $(platformNumTextField.root_).find('input')
        .on('input', event => window.myLine.platformNum = event.target.value);
}
function mtr() {
    // mdc instances
    const designListMTRList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list_mtr')[0]);
    const charDialog = _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($('#design_char_diag')[0]);
    const legacySwitch = new _material_switch__WEBPACK_IMPORTED_MODULE_5__["MDCSwitch"]($('#legacy')[0]);
    // helper functions
    const getCharText = (char) => {
        return $('#design_char_diag')
            .find('li')
            .filter((_, el) => el.dataset.mdcDialogAction === char)
            .find('span')
            .text();
    };
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        // $('#design_list_mtr')
        //     .find('li#char .mdc-list-item__secondary-text')
        //     .text(getCharText(param.char_form));
        $('#design_char_diag')[0].dispatchEvent(new CustomEvent('MDCDialog:closed', { detail: { action: param.char_form } }));
        // charDialog.close(param.char_form);
        legacySwitch.checked = param.dest_legacy;
    });
    // add event listeners
    designListMTRList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                window.myLine.txtFlip = !Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().txt_flip;
                break;
            case 1:
                charDialog.open();
                break;
        }
    });
    charDialog.listen('MDCDialog:closed', (event) => {
        let char = event.detail.action;
        if (char == 'close') {
            return;
        }
        window.myLine.charForm = char;
        $('#design_list_mtr')
            .find('li#char .mdc-list-item__secondary-text')
            .text(getCharText(char));
    });
    $(legacySwitch.root_).find('input')
        .on('change', event => window.myLine.destLegacy = event.target.checked);
}
function gzmtr() {
    // mdc instances
    const designListGZMTRList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list_gzmtr')[0]);
    const panelTypeDialog = _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($('#panel_type_diag')[0]);
    const [psdNumTextField, lineNumTextField] = ['#psd_num', '#line_num'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($(selector)[0]));
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        psdNumTextField.value = param.psd_num;
        lineNumTextField.value = param.line_num;
    });
    // add event listeners
    designListGZMTRList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 1:
                panelTypeDialog.open();
                break;
        }
    });
    $(lineNumTextField.root_).find('input')
        .on('input', event => window.myLine.lineNum = event.target.value);
    $(psdNumTextField.root_).find('input')
        .on('input', event => window.myLine.psdNum = event.target.value);
    panelTypeDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action === 'close') {
            return;
        }
        window.myLine.infoPanelType = event.detail.action;
    });
}


/***/ }),

/***/ "./src/PageInitialiser/info.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/info.ts ***!
  \*************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
function common() {
    $('#panel_info .mdc-card__actions #report').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator/issues', '_blank');
    });
    $('#panel_info .mdc-card__action-icons [title="Star"]').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator', '_blank');
    });
    $('#panel_info .mdc-card__action-icons [title="Fork"]').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator/fork', '_blank');
    });
}


/***/ }),

/***/ "./src/PageInitialiser/init.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/init.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layout */ "./src/PageInitialiser/layout.ts");
/* harmony import */ var _design__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./design */ "./src/PageInitialiser/design.ts");
/* harmony import */ var _stations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stations */ "./src/PageInitialiser/stations.ts");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info */ "./src/PageInitialiser/info.ts");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/tab-bar */ "@material/tab-bar");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_tab_bar__WEBPACK_IMPORTED_MODULE_4__);





/* harmony default export */ __webpack_exports__["default"] = (function () {
    let firstInit = [false, true, true, true, true];
    window.sliders = [];
    _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__["MDCTabBar"].attachTo($('#panels .mdc-tab-bar')[0]).listen('MDCTabBar:activated', (event) => {
        $('.panel--active').removeClass('panel--active');
        $('.panel').eq(event.detail.index).addClass('panel--active');
        if (event.detail.index == 1 && firstInit[1]) {
            _layout__WEBPACK_IMPORTED_MODULE_0__["common"]();
            if (window.urlParams.get('style') === 'gzmtr') {
                _layout__WEBPACK_IMPORTED_MODULE_0__["gzmtr"]();
            }
            firstInit[1] = false;
        }
        if (event.detail.index === 1) {
            window.sliders.forEach(slider => slider.layout());
        }
        if (event.detail.index == 2 && firstInit[2]) {
            _design__WEBPACK_IMPORTED_MODULE_1__["common"]();
            switch (window.urlParams.get('style')) {
                case 'mtr':
                    _design__WEBPACK_IMPORTED_MODULE_1__["mtr"]();
                    break;
                case 'gzmtr':
                    _design__WEBPACK_IMPORTED_MODULE_1__["gzmtr"]();
                    break;
            }
            firstInit[2] = false;
        }
        if (event.detail.index == 3 && firstInit[3]) {
            console.log('init again');
            _stations__WEBPACK_IMPORTED_MODULE_2__["common"]();
            firstInit[3] = false;
        }
        if (event.detail.index == 4 && firstInit[4]) {
            _info__WEBPACK_IMPORTED_MODULE_3__["common"]();
            firstInit[4] = false;
        }
    });
});


/***/ }),

/***/ "./src/PageInitialiser/layout.ts":
/*!***************************************!*\
  !*** ./src/PageInitialiser/layout.ts ***!
  \***************************************/
/*! exports provided: common, gzmtr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gzmtr", function() { return gzmtr; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_slider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/slider */ "@material/slider");
/* harmony import */ var _material_slider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_slider__WEBPACK_IMPORTED_MODULE_2__);



function common() {
    // mdc instances
    const [svgDestWidthTextField, svgWidthTextField] = ['#svg_dest_width', '#svg_width'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_1__["MDCTextField"].attachTo($(selector)[0]));
    const [branchSpacingSlider, yPcSlider, paddingSlider] = ['#branch_spacing', '#y_pc', '#padding'].map(selector => _material_slider__WEBPACK_IMPORTED_MODULE_2__["MDCSlider"].attachTo($(selector)[0]));
    window.sliders.push(branchSpacingSlider, yPcSlider, paddingSlider);
    // $('#panel_layout .mdc-list li').map((_,el) => new MDCRipple(el));
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        svgDestWidthTextField.value = param.svg_dest_width.toString();
        svgWidthTextField.value = param.svg_width.toString();
        yPcSlider.value = param.y_pc;
        branchSpacingSlider.value = param.branch_spacing;
        paddingSlider.value = param.padding;
    });
    // add event listeners
    $(svgDestWidthTextField.root_).find('input')
        .on('input', event => window.myLine.svgDestWidth = Number(event.target.value));
    $(svgWidthTextField.root_).find('input')
        .on('input', event => window.myLine.svgWidth = Number(event.target.value));
    branchSpacingSlider.listen('MDCSlider:input', () => {
        window.myLine.branchSpacing = Number(branchSpacingSlider.value);
    });
    yPcSlider.listen('MDCSlider:input', () => {
        window.myLine.yPc = Number(yPcSlider.value);
    });
    paddingSlider.listen('MDCSlider:input', () => {
        window.myLine.padding = Number(paddingSlider.value);
    });
}
function gzmtr() {
    // mdc instances
    const [directionGZXSlider, directionGZYSlider] = ['#direction_gz_x', '#direction_gz_y']
        .map(selector => _material_slider__WEBPACK_IMPORTED_MODULE_2__["MDCSlider"].attachTo($(selector)[0]));
    window.sliders.push(directionGZXSlider, directionGZYSlider);
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        directionGZXSlider.value = param.direction_gz_x;
        directionGZYSlider.value = param.direction_gz_y;
    });
    // add event listeners
    directionGZXSlider.listen('MDCSlider:input', () => {
        window.myLine.directionGZX = Number(directionGZXSlider.value);
    });
    directionGZYSlider.listen('MDCSlider:input', () => {
        window.myLine.directionGZY = Number(directionGZYSlider.value);
    });
}


/***/ }),

/***/ "./src/PageInitialiser/save.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/save.ts ***!
  \*************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Line_Line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Line/Line */ "./src/Line/Line.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/list */ "@material/list");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_list__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/ripple */ "@material/ripple");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ripple__WEBPACK_IMPORTED_MODULE_4__);





function common() {
    // mdc intances 
    const [templateDialog, importDialog, exportDialog, previewDialog, styleDialog, langDialog] = ['#template_diag', '#import_diag', '#export_diag', '#preview_diag', '#style_diag', '#lang_diag']
        .map(selector => _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($(selector)[0]));
    const [saveList0, saveList1] = $('#panel_save .mdc-list').map((_, el) => _material_list__WEBPACK_IMPORTED_MODULE_3__["MDCList"].attachTo(el)).get();
    $('#panel_save .mdc-list li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_4__["MDCRipple"](el));
    saveList0.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                templateDialog.open();
                break;
            case 1:
                $('#upload_file').click();
                break;
            case 2:
                // var link = document.createElement('a');
                // var data = new Blob([localStorage.rmgParam], {type: 'application/json;charset=utf-8'});
                // var url = window.URL.createObjectURL(data);
                // link.href = url;
                // link.download = 'rmg_config.json';
                // link.click();
                // URL.revokeObjectURL(url);
                // break;
                var link = $('<a>', {
                    href: 'data:application/json;base64,' + btoa(unescape(encodeURIComponent(localStorage.rmgParam))),
                    download: 'rmg_param.json'
                });
                link[0].click();
                break;
            case 3:
                exportDialog.open();
                break;
        }
    });
    $('#panel_save .mdc-list:nth-child(2) li:first-child span:nth-child(2) span:last-child')
        .attr('trans-tag', $(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).attr('trans-tag'))
        .text($(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).text());
    $('#panel_save .mdc-list:nth-child(2) li:nth-child(2) span:nth-child(2) span:last-child')
        .text($(`#lang_diag [data-mdc-dialog-action="${window.urlParams.get('lang')}"] span`).text());
    saveList1.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                styleDialog.open();
                break;
            case 1:
                langDialog.open();
                break;
        }
    });
    $.getJSON('templates/template_list.json', data => {
        var lang = window.urlParams.get('lang');
        data.forEach(d => {
            $('#template_diag ul').append($('<li>', {
                class: "mdc-list-item",
                'data-mdc-dialog-action': d.filename
            }).append($('<span>', { class: "mdc-list-item__text" }).text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(d.desc, lang))));
        });
        $('#template_diag li:first-child').attr('tabindex', 0);
        $('#theme_line__selection li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_4__["MDCRipple"](el));
    });
    templateDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        $.getJSON(`templates/${event.detail.action}.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            location.reload(true);
        });
    });
    exportDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
                break;
            case 'svg1':
                $('#preview_diag').attr('for', 'destination');
                previewDialog.open();
                break;
            case 'svg2':
                $('#preview_diag').attr('for', 'railmap');
                previewDialog.open();
                break;
        }
    });
    $(window).on('resize', _ => {
        resizeSVGPreview();
        // $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width()-32}px;`);
    });
    const resizeSVGPreview = () => {
        var svgId = $('preview_diag').attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $('#preview_diag')
            .find('svg')
            .attr({
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        });
        $('#preview_diag')
            .find('.mdc-dialog__surface')
            .attr('style', `max-width:${MAX_WIDTH + 50}px;`);
    };
    previewDialog.listen('MDCDialog:opened', event => {
        var svgId = $(event.target).attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width() - 32}px;`);
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $(event.target).find('.mdc-dialog__content')
            .append($('#' + $(event.target).attr('for')).clone().attr({
            style: 'all:initial;',
            viewBox: `0 0 ${thisSVGWidth} ${thisSVGHeight}`,
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        }));
        let cssTxt = ['share', $(event.target).find('svg')[0].id]
            .map(tag => {
            return Array.from($(`link#css_${tag}`)[0].sheet.cssRules).map(rule => rule.cssText).join(' ');
        });
        $(event.target).find('svg').prepend(...cssTxt.map(txt => $('<style>').text(txt)));
        $(event.target).find('svg [style="display: none;"]').remove();
    });
    previewDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action === 'close') {
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'png') {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["test"])($(event.target).removeAttr('for').find('svg'));
            $(event.target).find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'svg') {
            // Prepend css stylesheet to svg
            let svgContent = $(event.target).find('.mdc-dialog__content svg');
            // let cssTxt = ['share', svgContent[0].id]
            //     .map(tag => {
            //         return Array.from(
            //             ((<HTMLLinkElement>$(`link#css_${tag}`)[0]).sheet as CSSStyleSheet).cssRules
            //         ).map(rule => rule.cssText).join(' ');
            //     });
            // svgContent.prepend(
            //     ...cssTxt.map(txt => $('<style>').text(txt))
            // );
            var link = document.createElement('a');
            link.href = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgContent[0].outerHTML)));
            link.download = 'rmg_export.svg';
            link.click();
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
        }
    });
    let importedFile;
    $('#upload_file')
        .on('change', event => {
        console.log(event.target.files[0]);
        let reader = new FileReader();
        reader.onload = function (e) {
            console.log(e.target);
            importedFile = JSON.parse(e.target.result);
            $('#import_diag')
                .find('.mdc-dialog__content')
                .html(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["describeParams"])(importedFile));
            importDialog.open();
        };
        reader.readAsText(event.target.files[0]);
    });
    importDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            $('#upload_file')[0].value = '';
            return;
        }
        _Line_Line__WEBPACK_IMPORTED_MODULE_1__["RMGLine"].clearSVG();
        localStorage.rmgParam = JSON.stringify(importedFile);
        location.reload(true);
    });
    styleDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
            case window.urlParams.get('style'):
                return;
            default:
                window.urlParams.set('style', event.detail.action);
                window.location.href = '?' + window.urlParams.toString();
        }
    });
    langDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var nextLang = event.detail.action;
        localStorage.rmgLang = nextLang;
        if (nextLang == window.urlParams.get('lang')) {
            return;
        }
        else {
            window.urlParams.set('lang', nextLang);
            window.location.href = '?' + window.urlParams.toString();
        }
    });
}


/***/ }),

/***/ "./src/PageInitialiser/stations.ts":
/*!*****************************************!*\
  !*** ./src/PageInitialiser/stations.ts ***!
  \*****************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/select */ "@material/select");
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_select__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/tab-bar */ "@material/tab-bar");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_tab_bar__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_chips__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material/chips */ "./node_modules/@material/chips/index.js");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material/ripple */ "@material/ripple");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_material_ripple__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material/switch */ "@material/switch");
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_material_switch__WEBPACK_IMPORTED_MODULE_7__);









const getStationCard = (id, names, num) => {
    return $('<div>', {
        id: id,
        class: 'mdc-card mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-2-phone station-card'
    })
        .append($('<div>', { class: 'mdc-card__primary-action' })
        .append($('<div>', { class: 'mdc-card__media mdc-card__media--16-9' }))
        .append($('<div>', { class: 'mdc-card__media-content station-card__content' })
        .html(names.join('<br>'))
        .prepend($('<span>')
        .css('display', window.urlParams.get('style') === 'gzmtr' ? 'inline' : 'none')
        .text(num + '\u00a0'))))
        .append($('<div>', { class: 'mdc-card__actions' })
        .append($('<div>', { class: 'mdc-card__action-icons' })
        .append($('<button>', {
        title: 'Set As Current',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('my_location'))
        .append($('<button>', {
        title: 'Interchange',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('edit'))
        .append($('<button>', {
        title: 'Remove',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('delete_forever'))));
};
const getIntBoxChip = (intInfo) => {
    let chipEl = $('<div>', { class: 'mdc-chip', role: 'row' })
        .css({
        'background-color': intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour],
        color: intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].fg]
    })
        .data('theme', {
        city: intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].city],
        line: intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].line]
    })
        .append($('<div>', { class: 'mdc-chip__ripple' }))
        .append($('<span>', { role: 'gridcell' })
        .append($('<span>', { role: 'button', tabindex: 0, class: 'mdc-chip__text' })
        .html(intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameZH] + '<br>' + intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameEN])))
        .append($('<span>', { role: 'gridcell' })
        .append($('<i>', { class: 'material-icons mdc-chip__icon mdc-chip__icon--trailing', tabindex: -1, role: 'button' })
        .text('cancel')));
    return chipEl[0];
};
const getIntInfoFromChip = (chip) => {
    return [
        $(chip).data('theme').city,
        $(chip).data('theme').line,
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["rgb2Hex"])($(chip).css('background-color')),
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["rgb2Hex"])($(chip).css('color')),
        $(chip).find('.mdc-chip__text').html().split('<br>')[0],
        $(chip).find('.mdc-chip__text').html().split('<br>')[1]
    ];
};
const getStnIntFromChipSets = (sets) => {
    let info = sets.map(set => {
        return $(set).find('.mdc-chip').get().map(el => getIntInfoFromChip(el));
    });
    let ns = info
        .map(int => int.length);
    if (ns[1] === 0) {
        info = [info[0]];
    }
    let changeType;
    if (ns[0] === 3 && ns[1] === 0) {
        changeType = 'int3'; // was int4
    }
    else if (ns[0] === 2 && ns[1] === 1) {
        changeType = 'osi31';
    }
    else if (ns[0] === 2 && ns[1] === 0) {
        changeType = 'int3';
    }
    else if (ns[0] === 1 && ns[1] === 2) {
        changeType = 'osi22';
    }
    else if (ns[0] === 1 && ns[1] === 1) {
        changeType = 'osi21';
    }
    else if (ns[0] === 1 && ns[1] === 0) {
        changeType = 'int2';
    }
    else if (ns[0] === 0 && ns[1] === 3) {
        changeType = 'osi13';
    }
    else if (ns[0] === 0 && ns[1] === 2) {
        changeType = 'osi12';
    }
    else if (ns[0] === 0 && ns[1] === 1) {
        changeType = 'osi11';
    }
    else if (ns[0] === 0 && ns[1] === 0) {
        changeType = 'none';
    }
    else {
        // sum(ns) > 3
        changeType = 'int3';
    }
    console.log(changeType);
    return { info, changeType };
};
const updateStnTransfer = (sets, tick, paid) => {
    let { changeType, info } = getStnIntFromChipSets(sets);
    let intInfo = info;
    let stnId = $('#stn_edit_diag').attr('for');
    if (changeType.indexOf('osi') !== -1) {
        let osiNames = $('button#osi_name .mdc-button__label').html().split('<br>');
        intInfo[1].unshift(osiNames);
    }
    let tickDirec;
    if (tick.selectedChipIds.length) {
        tickDirec = tick.selectedChipIds[0];
    }
    else {
        tickDirec = 'r';
    }
    let paidArea = paid.checked;
    if (changeType.indexOf('osi') !== -1) {
        changeType += '_' + (paidArea ? 'p' : 'u') + tickDirec;
    }
    else if (changeType.indexOf('int3') !== -1) {
        changeType += '_' + tickDirec;
    }
    window.myLine.updateStnTransfer(stnId, changeType, intInfo);
};
function common() {
    // Duplicate element
    var intNameEl = $('#stn_edit_diag .mdc-layout-grid__inner #int_name_zh,#int_name_en').slice(0, 2).clone();
    intNameEl.find('.mdc-text-field').removeAttr('data-mdc-auto-init-state'); // to be removed
    $('div#int_line').slice(1, 3).after(intNameEl);
    // mdc instances
    const [stnAddDialog, stnModifyDialog, stnEditDialog, stnIntBoxDialog, stnOSINameDialog, stnDeleteDialog, stnDeleteErrDialog] = ['#stn_add_diag', '#stn_modify_diag', '#stn_edit_diag', '#stn_intbox_diag', '#stn_osiname_diag', '#stn_delete_diag', '#stn_delete_err']
        .map(selector => new _material_dialog__WEBPACK_IMPORTED_MODULE_1__["MDCDialog"]($(selector)[0]));
    const [stnAddPrepSelect, stnAddPivotSelect, stnAddLocSelect, stnAddEndSelect] = ['#prep', '#pivot', '#loc', '#end'].map(selector => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($('#stn_add_diag').find(selector)[0]));
    const stnModifyNameFields = ['#name_zh', '#name_en'].map(selector => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_modify_diag').find(selector)[0]));
    const stnModifyNumField = new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_modify_diag #stn_num')[0]);
    const intChipAddButtonEls = $('#stn_edit_diag .mdc-icon-button').get();
    const intChipSetEls = $('#stn_edit_diag .mdc-chip-set.int-chip-set').get();
    const intChipSets = intChipSetEls.map(el => new _material_chips__WEBPACK_IMPORTED_MODULE_5__["MDCChipSet"](el));
    const osiNameButtonRipple = new _material_ripple__WEBPACK_IMPORTED_MODULE_6__["MDCRipple"]($('#stn_edit_diag #osi_name')[0]);
    const intCitySelect = new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($('#int_city')[0]);
    const intLineSelect = new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($('#int_line')[0]);
    const intBoxNameFields = ['zh', 'en'].map(lang => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_intbox_diag').find('#name_' + lang)[0]));
    const tickDirecChipSet = new _material_chips__WEBPACK_IMPORTED_MODULE_5__["MDCChipSet"]($('#tick_direc')[0]);
    // const tickDirecChips = $('#tick_direc .mdc-chip').map((_,el) => new MDCChip(el)).get();
    const paidAreaSwitch = new _material_switch__WEBPACK_IMPORTED_MODULE_7__["MDCSwitch"]($('#paid_area')[0]);
    const stnTransferTabBar = new _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__["MDCTabBar"]($('#stn_edit_diag .mdc-tab-bar')[0]);
    const stnOSINameFields = ['zh', 'en'].map(lang => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_osiname_diag').find(`#osi_name_${lang}`)[0]));
    // const [tickDirecToggle, paidAreaToggle] = 
    //     ['#tick_direc', '#paid_area'].map(selector => new MDCIconButtonToggle($('#stn_edit_diag').find(selector)[0]));
    const [throughSelects, firstSelects, posSelects] = ['through', 'first', 'pos']
        .map(selector => ['left', 'right'].map(direc => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($(`#${direc}_${selector}`)[0])));
    var stnList = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list;
    window.myLine.tpo.forEach(stnId => {
        $('#panel_stations .mdc-layout-grid__inner:first').append(getStationCard(stnId, stnList[stnId].name, stnList[stnId].num));
        $('#pivot__selection').append($('<li>', { 'data-value': stnId }).addClass('mdc-list-item').text(stnList[stnId].name.join()));
    });
    $('#panel_stations .mdc-card__primary-action').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        if (stnId == 'add_stn') {
            return;
        }
        $('#stn_modify_diag').attr('for', stnId);
        stnModifyDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Add"]').on('click', event => {
        stnAddDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Set As Current"]').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        window.myLine.currentStnId = stnId;
    });
    $('#panel_stations .mdc-card__action-icons > [title="Interchange"]').on('click', event => {
        $('#stn_edit_diag').attr('for', event.target.closest('.mdc-card').id);
        stnEditDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Remove"]').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        $('#stn_delete_diag').attr('for', stnId);
        stnDeleteDialog.open();
    });
    // Addition
    stnAddDialog.listen('MDCDialog:opening', () => {
        stnAddPivotSelect.selectedIndex = 0;
    });
    stnAddDialog.listen('MDCDialog:opened', () => {
        [stnAddPrepSelect, stnAddPivotSelect, stnAddLocSelect].forEach(select => select.layout());
    });
    stnAddDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var prep = stnAddPrepSelect.value;
        var stnId = stnAddPivotSelect.value;
        var loc = stnAddLocSelect.value;
        var end = stnAddEndSelect.value;
        var [newId, newInfo] = window.myLine.addStn(prep, stnId, loc, end);
        console.log(prep, stnId, loc, end);
        // _genStnList();
        var prevId = window.myLine.tpo[window.myLine.tpo.indexOf(newId) - 1] || 'add_stn';
        $(`#panel_stations .mdc-layout-grid__inner:first #${prevId}`).after(getStationCard(newId, newInfo.name, newInfo.num));
        // Add event listeners
        $(`#panel_stations #${newId} .mdc-card__primary-action`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            if (stnId == 'add_stn') {
                return;
            }
            $('#stn_modify_diag').attr('for', stnId);
            stnModifyDialog.open();
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Set As Current"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            window.myLine.currentStnId = stnId;
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Interchange"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            $('#stn_edit_diag').attr('for', stnId);
            stnEditDialog.open();
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Remove"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            $('#stn_delete_diag').attr('for', stnId);
            stnDeleteDialog.open();
        });
        var listElem = $('<li>', {
            'data-value': newId, 'class': 'mdc-list-item'
        }).text(newInfo.name.join(' - '));
        if (prevId == 'add_stn') {
            $('#pivot__selection').prepend(listElem);
        }
        else {
            $(`#pivot__selection [data-value="${prevId}"`).after(listElem);
        }
        // Trigger station name modification
        $('#stn_modify_diag').attr('for', newId);
        stnModifyDialog.open();
    });
    stnAddPrepSelect.listen('MDCSelect:change', event => {
        $('#stn_add_diag #pivot')[0].dispatchEvent(new Event('MDCSelect:change'));
    });
    stnAddPivotSelect.listen('MDCSelect:change', event => {
        var prep = stnAddPrepSelect.value;
        var stnId = stnAddPivotSelect.value;
        var stnList = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list;
        for (let [idx, state] of window.myLine.newStnPossibleLoc(prep, stnId).entries()) {
            if (state === 1 || state.length) {
                $('#loc__selection li').eq(idx).show();
                if (idx >= 3) {
                    // newupper or newlower
                    $('#end__selection').empty();
                    state.forEach(stnId => {
                        $('#end__selection').append($('<li>', { class: 'mdc-list-item', 'data-value': stnId }).text(stnList[stnId].name.join(' - ')));
                    });
                }
            }
            else {
                $('#loc__selection li').eq(idx).hide();
            }
        }
        // stnAddLocSelect.value = $('#loc__selection li:not([style="display: none;"]):first').attr('data-value');
        stnAddLocSelect.value = Array
            .from(document.querySelectorAll('#loc__selection li'))
            .filter(el => el.style.display !== 'none')[0]
            .dataset.value;
    });
    stnAddLocSelect.listen('MDCSelect:change', (event) => {
        if (['newupper', 'newlower'].includes(event.detail.value)) {
            // $('#stn_add_diag #new_branch').show();
            $('#stn_add_diag [new-branch]').show();
            stnAddEndSelect.selectedIndex = 0;
        }
        else {
            // $('#stn_add_diag #new_branch').hide();
            $('#stn_add_diag [new-branch]').hide();
        }
    });
    // Modification (Name)
    stnModifyDialog.listen('MDCDialog:opening', event => {
        var stnId = $(event.target).attr('for');
        Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list)
            .then(stnList => {
            stnModifyNameFields.forEach((textfield, i) => textfield.value = stnList[stnId].name[i]);
            stnModifyNumField.value = stnList[stnId].num;
        });
    });
    stnModifyDialog.listen('MDCDialog:opened', () => {
        stnModifyNameFields.map(textfield => textfield.layout());
        stnModifyNumField.layout();
    });
    $('#stn_modify_diag').find('#name_zh, #name_en, #stn_num').on('input', () => {
        let names = stnModifyNameFields.map(textfield => textfield.value);
        var stnNum = stnModifyNumField.value;
        var stnId = $('#stn_modify_diag').attr('for');
        window.myLine.updateStnName(stnId, names, stnNum);
        $(`#panel_stations .mdc-layout-grid__inner:first #${stnId} .mdc-card__media-content`)
            .html(names.join('<br>'))
            .prepend($('<span>', { style: (window.urlParams.get('style') == 'gzmtr' ? '' : 'display:none;') }).text(stnNum + ' '));
        $(`li[data-value="${stnId}`).text(names.join());
    });
    // Modification (Interchange)
    const focusInterchange = () => {
        stnOSINameFields.forEach(textfield => textfield.layout());
    };
    const focusBranch = () => {
        [...throughSelects, ...firstSelects, ...posSelects]
            .map(select => select.layout());
    };
    const initInterchange = (stnInfo) => {
        $(intChipSetEls).empty();
        stnInfo.transfer.info.forEach((infos, i) => {
            infos.forEach((info, j) => {
                let chipEl = getIntBoxChip(info);
                intChipSetEls[i].appendChild(chipEl);
                intChipSets[i].addChip(chipEl);
            });
        });
        // // hide trailing icon if 1 chip only
        // intChipSetEls.forEach(el => {
        //     if ($(el).find('.mdc-chip').length === 1) {
        //         $(el).find('.mdc-chip__icon--trailing').parent().hide();
        //     }
        // });
        if (stnInfo.transfer.osi_names.length) {
            $('button#osi_name .mdc-button__label').html(stnInfo.transfer.osi_names[0].join('<br>'));
        }
        else {
            $('button#osi_name .mdc-button__label').html('車站名<br>Stn Name');
        }
        paidAreaSwitch.checked = stnInfo.transfer.paid_area;
        tickDirecChipSet.chips.filter(chip => chip.id === stnInfo.transfer.tick_direc)[0].selected = true;
    };
    const initBranch = (stnInfo) => {
        // through type
        ['left', 'right'].forEach((direc) => {
            let throughType = stnInfo.branch[direc][0];
            if (throughType) {
                throughSelects[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direc]].value = throughType;
                $(`#${direc}_through__selection [data-value="na"]`).hide();
                $(`#${direc}_through__selection [data-value="through"]`).show();
                $(`#${direc}_through__selection [data-value="nonthrough"]`).show();
                $(`[${direc}-first-group], [${direc}-pos-group]`).show();
            }
            else {
                throughSelects[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direc]].value = 'na';
                $(`#${direc}_through__selection [data-value="na"]`).show();
                $(`#${direc}_through__selection [data-value="through"]`).hide();
                $(`#${direc}_through__selection [data-value="nonthrough"]`).hide();
                $(`[${direc}-first-group], [${direc}-pos-group]`).hide();
            }
        });
        // first station
        $('#left_first__selection, #right_first__selection').empty();
        Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list)
            .then(stnList => {
            [0, 1].forEach(i => {
                stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][i]]
                    .forEach(ne => {
                    $(`#${_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][i]}_first__selection`)
                        .append($('<li>', { class: 'mdc-list-item', 'data-value': ne })
                        .text(stnList[ne].name.join()));
                });
            });
        })
            .then(() => {
            throughSelects.forEach((select, idx) => {
                firstSelects[idx].selectedIndex =
                    select.value !== 'na' ?
                        stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][idx]].indexOf(stnInfo.branch[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][idx]][1]) :
                        0;
            });
        });
        // swap position
        posSelects.forEach((select, i) => {
            select.selectedIndex = stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][i]].indexOf(stnInfo.branch[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][i]][1]);
        });
    };
    stnTransferTabBar.listen('MDCTabBar:activated', (event) => {
        switch (event.detail.index) {
            case 0:
                $('#panel_interchange').show();
                $('#panel_branch').hide();
                focusInterchange();
                break;
            case 1:
                $('#panel_interchange').hide();
                $('#panel_branch').show();
                focusBranch();
        }
    });
    $.getJSON('data/city_list.json', data => {
        var lang = window.urlParams.get('lang');
        data.forEach(c => {
            $('#int_city__selection.mdc-list').each((_, el) => {
                $(el).append($('<li>', { class: 'mdc-list-item', 'data-value': c.id })
                    .text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["countryCode2Emoji"])(c.country) + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(c.name, lang)));
            });
        });
    });
    stnEditDialog.listen('MDCDialog:opening', event => {
        let stnId = $(event.target).attr('for');
        let stnInfo = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId];
        initInterchange(stnInfo);
        initBranch(stnInfo);
    });
    stnEditDialog.listen('MDCDialog:opened', event => {
        focusInterchange();
        focusBranch();
    });
    intChipAddButtonEls.forEach((button, i) => {
        $(button).on('click', event => {
            let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
            let info = [param.theme[0], null, null, '#000', '線', 'Line'];
            let chipEl = getIntBoxChip(info);
            intChipSetEls[i].appendChild(chipEl);
            intChipSets[i].addChip(chipEl);
            updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
        });
    });
    intChipSets.forEach((chipset, i) => {
        chipset.listen('MDCChip:interaction', (event) => {
            // setIdx (0: int, 1: osi)
            $('#stn_intbox_diag').data('intId', { setIdx: i, chipId: event.detail.chipId });
            stnIntBoxDialog.open();
        });
    });
    intChipSets.forEach((chipset, i) => {
        chipset.listen('MDCChip:removal', () => {
            updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
            // // hide trailing icon if 1 chip left
            // if ($(intChipSetEls[i]).find('.mdc-chip').length === 1) {
            //     $(intChipSetEls[i]).find('.mdc-chip__icon--trailing').parent().hide();
            // }
        });
    });
    $('button#osi_name').on('click', event => {
        stnOSINameDialog.open();
    });
    stnIntBoxDialog.listen('MDCDialog:opening', (event) => {
        let { setIdx, chipId } = $(event.target).data('intId');
        let { city, line } = $(intChipSetEls[setIdx]).find('#' + chipId).data('theme');
        intCitySelect.value = city;
        let intNames = $(intChipSetEls[setIdx])
            .find('#' + chipId)
            .find('.mdc-chip__text')
            .html().split('<br>');
        intBoxNameFields.forEach((textfield, i) => textfield.value = intNames[i]);
    });
    stnIntBoxDialog.listen('MDCDialog:opened', (event) => {
        intBoxNameFields.map(textfield => textfield.layout());
    });
    intCitySelect.listen('MDCSelect:change', (event) => {
        if (event.detail.index === -1) {
            return;
        }
        let { setIdx, chipId } = $('#stn_intbox_diag').data('intId');
        $.getJSON(`data/${event.detail.value}.json`, data => {
            var lang = window.urlParams.get('lang');
            $('#int_line__selection.mdc-list').empty();
            data.forEach(l => {
                $('#int_line__selection.mdc-list').append(`<li class="mdc-list-item" data-value="${l.id}">
                    <span style="background:${l.colour};color:${l.fg || '#fff'};">&nbsp;${Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(l.name, lang)}&nbsp;</span>
                    </li>`);
            });
            // select default intLine value
            let { line } = $(intChipSetEls[setIdx]).find('#' + chipId).data('theme');
            let lineIdx = $('#int_line__selection.mdc-list').find(`[data-value="${line}"]`).index();
            intLineSelect.selectedIndex = lineIdx === -1 ? 0 : lineIdx;
        });
        // update data value of chip element
        $(intChipSetEls[setIdx]).find('#' + chipId).data('theme').city = event.detail.value;
    });
    intLineSelect.listen('MDCSelect:change', (event) => {
        let { value, index } = event.detail;
        let { setIdx, chipId } = $('#stn_intbox_diag').data('intId');
        // update data value of chip element
        $(intChipSetEls[setIdx]).find('#' + chipId).data('theme').line = value;
        // update colour of chip
        $(intChipSetEls[setIdx]).find('#' + chipId).css({
            'background-color': $('#int_line__selection span').eq(index).css('background-color'),
            color: $('#int_line__selection span').eq(index).css('color')
        });
    });
    intBoxNameFields.forEach(textfield => {
        $(textfield.root_).find('input')
            .on('input', () => {
            let { setIdx, chipId } = $('#stn_intbox_diag').data('intId');
            $(intChipSetEls[setIdx])
                .find('#' + chipId)
                .find('.mdc-chip__text')
                .html(intBoxNameFields[0].value + '<br>' + intBoxNameFields[1].value);
        });
    });
    stnIntBoxDialog.listen('MDCDialog:closed', () => {
        updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
    });
    stnOSINameDialog.listen('MDCDialog:opening', () => {
        $('button#osi_name .mdc-button__label')
            .html()
            .split('<br>')
            .forEach((txt, i) => stnOSINameFields[i].value = txt);
    });
    stnOSINameDialog.listen('MDCDialog:opened', () => {
        stnOSINameFields.map(textfield => textfield.layout());
    });
    $('#osi_name_zh, #osi_name_en')
        .find('input')
        .each((_, el) => {
        $(el).on('input', () => {
            $('button#osi_name .mdc-button__label')
                .html(stnOSINameFields.map(textfield => textfield.value).join('<br>'));
        });
    });
    stnOSINameDialog.listen('MDCDialog:closed', () => {
        updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
    });
    tickDirecChipSet.listen('MDCChip:selection', (event) => {
        if (tickDirecChipSet.selectedChipIds.length === 0) {
            return;
        }
        updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
    });
    $(paidAreaSwitch.root_).find('input')
        .on('change', () => {
        updateStnTransfer(intChipSetEls, tickDirecChipSet, paidAreaSwitch);
    });
    // Modification (Branch)
    throughSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if (event.detail.value === 'na') {
                return;
            }
            let stnId = $('#stn_edit_diag').attr('for');
            window.myLine.updateBranchType(stnId, idx, event.detail.value);
        });
    });
    firstSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if ($(`#${_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][idx]}_first__selection`).children().length === 1) {
                return;
            }
            let stnId = $('#stn_edit_diag').attr('for');
            if (window.myLine.updateBranchFirst(stnId, idx, event.detail.value)) {
                posSelects[idx].selectedIndex = posSelects[idx].selectedIndex === 0 ? 1 : 0;
            }
        });
    });
    posSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if (throughSelects[idx].value === 'na') {
                return;
            }
            let stnId = $('#stn_edit_diag').attr('for');
            window.myLine.updateBranchPos(stnId, idx, event.detail.index);
        });
    });
    // Deletion
    stnDeleteDialog.listen('MDCDialog:opening', event => {
        var stnId = $(event.target).attr('for');
        $('#stn_delete_diag #err_stn').text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId].name.join(' - '));
    });
    stnDeleteDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var stnId = $(event.target).attr('for');
        // Remove from data and svg
        if (window.myLine.removeStn(stnId)) {
            // Remove station from selection
            $(`#panel_stations .mdc-layout-grid__inner #${stnId}`).remove();
            $(`#pivot__selection [data-value="${stnId}"]`).remove();
        }
        else {
            stnDeleteErrDialog.open();
        }
    });
}


/***/ }),

/***/ "./src/Station/Station.ts":
/*!********************************!*\
  !*** ./src/Station/Station.ts ***!
  \********************************/
/*! exports provided: RMGStation, Int2Station, Int3LStation, Int3RStation, OSI11LStation, OSI11RStation, OSI12LStation, OSI12RStation, OSI22Station, OSI22LStation, OSI22RStation, OSI22EndStation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStation", function() { return RMGStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int2Station", function() { return Int2Station; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int3LStation", function() { return Int3LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int3RStation", function() { return Int3RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI11LStation", function() { return OSI11LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI11RStation", function() { return OSI11RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI12LStation", function() { return OSI12LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI12RStation", function() { return OSI12RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22Station", function() { return OSI22Station; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22LStation", function() { return OSI22LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22RStation", function() { return OSI22RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22EndStation", function() { return OSI22EndStation; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


class RMGStation {
    constructor(id, data) {
        this.STN_NAME_Y = -10.5;
        this.STN_NAME_BASE_HEIGHT = 30.390625;
        this.STN_NAME_LINE_GAP = 14;
        this.STN_NAME_BG_ADJUST = 0.5;
        this.id = id;
        this.parents = data.parents;
        this.children = data.children;
        this.name = data.name;
        this.branch = data.branch;
    }
    get inDegree() { return this.parents.length; }
    get outDegree() { return this.children.length; }
    get nameClass() {
        switch (this.state) {
            case -1:
                return 'Pass';
            case 0:
                return 'Current';
            default:
                return 'Future';
        }
    }
    get _nameTxtAnchor() { return 'middle'; }
    get _nameDX() { return 0; }
    get _nameDY() { return 0; }
    get nameHTML() {
        var nameENs = this.name[1].split('\\');
        if (this.namePos) {
            var dy = this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BG_ADJUST;
        }
        else {
            var dy = -this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BASE_HEIGHT - (nameENs.length - 1) * 10;
        }
        // dy -= this.STN_NAME_BG_ADJUST;
        if (this.state === 0) {
            $('#current_bg').attr({
                y: this.y + dy + this.STN_NAME_Y - 1.5 + this._nameDY,
                height: this.STN_NAME_BASE_HEIGHT + (nameENs.length - 1) * 10 + 2 + 1.5
            });
        }
        var nameENp = nameENs.shift();
        var nameENElem = $('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__mtr--station'
        }).text(nameENp);
        while (nameENp = nameENs.shift()) {
            nameENElem.append($('<tspan>', { x: 0, dy: 10, 'alignment-baseline': 'middle' }).text(nameENp));
        }
        return $('<g>', {
            transform: `translate(${this.x + this._nameDX},${this.y + dy + this._nameDY})`,
            'text-anchor': this._nameTxtAnchor,
            'class': `Name ${this.nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--station').text(this.name[0])).append(nameENElem);
    }
    get iconClass() { return this.state == -1 ? 'rmg-stn__mtr--pass' : 'rmg-stn__mtr--future'; }
    get iconHTML() {
        return $('<use>', {
            'xlink:href': '#stn_hk',
            x: this.x, y: this.y,
            class: this.iconClass
        });
    }
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
}
class Int2Station extends RMGStation {
    constructor(id, data) {
        super(id, data);
        this._intInfo = data.transfer.info[0][0];
        // this._intInfo = data.interchange[0][0];
    }
    get _dy() { return 0; }
    get intTickHTML() {
        var tickRotation = (this.namePos) ? 180 : 0;
        var tickColour = this._intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour];
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y + this._dy})rotate(${tickRotation})`,
            class: 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get _nameClass() {
        return (this.state == -1) ? 'Pass' : 'Future';
    }
    get intNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameZH], this._intInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameEN]], 10, 7);
        var dy = (!this.namePos) ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': 'middle',
            'transform': `translate(${this.x},${this.y + dy})`,
            'class': `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML];
    }
}
class Int3Station extends RMGStation {
    // _int3Type;
    constructor(id, data) {
        super(id, data);
        this._intCity = [];
        this._intLine = [];
        this._intColour = [];
        this._intNameZH = [];
        this._intNameEN = [];
        this._intInfos = data.transfer.info[0];
        // data.transfer.info[0].forEach(intInfo => {
        //     this._intCity.push(intInfo[0]);
        //     this._intLine.push(intInfo[1]);
        //     this._intColour.push(intInfo[2]);
        //     this._intNameZH.push(intInfo[4]);
        //     this._intNameEN.push(intInfo[5]);
        // });
        // this._int3Type = data.change_type.substring(5);
    }
    get iconHTML() {
        let iconRotation = (!this.namePos) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#int3_hk',
            transform: `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: this.iconClass
        });
    }
    get _tickRotation() { return 0; }
    get _dy() { return 0; }
    get _dx() { return 0; }
    get _tickFlip() { return 1; }
    get intTickHTML() {
        let elems = [];
        this._intInfos
            .map(info => info[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour])
            .forEach((c, i) => {
            if (i >= 2) {
                return;
            }
            let tickColour = (this.state === -1) ? '#aaa' : c;
            let dy = (!this.namePos) ? 18 * (i + 1) : -18 * (2 - i);
            dy += this._dy;
            dy *= this._tickFlip;
            elems.push($('<use>', {
                'xlink:href': '#inttick_hk',
                stroke: tickColour,
                transform: `translate(${this.x + this._dx},${this.y + dy})rotate(${this._tickRotation})`,
                class: 'rmg-line rmg-line__mtr rmg-line__change'
            }));
        });
        return elems;
    }
    get _txtAnchor() { return 'middle'; }
    get _intNameDX() { return 0; }
    get _nameClass() { return (this.state == -1) ? 'Pass' : 'Future'; }
    get intNameHTML() {
        // var str = '';
        let elems = [];
        let nameClass = this._nameClass;
        this._intInfos
            .map(info => [info[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameZH], info[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameEN]])
            .forEach((names, i) => {
            if (i >= 2) {
                return;
            }
            let [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])(names, 10, 7);
            var dy = (!this.namePos) ? 18 * (i + 1) : -18 * (2 - i);
            dy += this._dy;
            dy *= this._tickFlip;
            dy += 5.953125 - (19.65625 + 13 * (nameZHLn - 1) + 7 * (nameENLn - 1)) / 2;
            elems.push($('<g>', {
                'text-anchor': this._txtAnchor,
                transform: `translate(${this.x + this._intNameDX},${this.y + dy})`,
                class: 'Name ' + nameClass
            }).html(nameHTML[0]));
        });
        return elems;
    }
    get ungrpHTML() {
        return [...this.intTickHTML, this.iconHTML, this.nameHTML, ...this.intNameHTML];
    }
}
class Int3LStation extends Int3Station {
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
}
class Int3RStation extends Int3Station {
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
}
class OSI11Station extends Int2Station {
    constructor(id, data) {
        // data.int2 = data.osi11;
        data.transfer.info[0].push(data.transfer.info[1][0]);
        // data.interchange[0].push(data.interchange[1][1]);
        super(id, data);
        this._osiNames = data.transfer.osi_names[0];
        this._osiType = data.transfer.paid_area ? 'p' : 'u'; // u(npaid) or p(aid);
    }
    get osiClass() { return this._osiType == 'u' ? 'rmg-stn__mtr--unpaid-osi' : 'rmg-stn__mtr--paid-osi'; }
    get iconHTML() {
        var iconRotation = (!this.namePos) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi11_hk',
            'transform': `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _dy() { return (!this.namePos) ? 26 : -26; }
    get _txtAnchor() { return 'middle'; }
    get _osiNameDX() { return 0; }
    get osiNameHTML() {
        var dy = this._dy + 8.34375 - 25.03125 / 2;
        return $('<g>', {
            'text-anchor': this._txtAnchor,
            'transform': `translate(${this.x + this._osiNameDX},${this.y + dy})`,
            'class': 'Name ' + this._nameClass
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            'x': 0, 'dy': 12, 'class': 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1]));
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML, this.osiNameHTML];
    }
}
class OSI11LStation extends OSI11Station {
    // OSI name on left
    get _txtAnchor() { return 'end'; }
    get _osiNameDX() { return -13; }
}
class OSI11RStation extends OSI11Station {
    // OSI name on right
    get _txtAnchor() { return 'start'; }
    get _osiNameDX() { return 13; }
}
class OSI12Station extends Int3Station {
    constructor(id, data) {
        // data.int3 = data.osi12;
        data.transfer.info[0].unshift(...data.transfer.info[1].slice(0, 2));
        // data.interchange[0].unshift(...data.interchange[1].slice(1,3));
        super(id, data);
        this._osiNames = data.transfer.osi_names[0];
        this._osiType = data.transfer.paid_area ? 'p' : 'u';
    }
    get osiClass() { return this._osiType == 'u' ? 'rmg-stn__mtr--unpaid-osi' : 'rmg-stn__mtr--paid-osi'; }
    get iconHTML() {
        var iconRotation = (!this.namePos) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi12_hk',
            transform: `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _dy() { return (!this.namePos) ? (26 - 18) : -8; }
    get _osiDY() { return (!this.namePos) ? (26 + 18 + 10) + 8.34375 : -(26 + 18 + 10) + 8.34375 - 25.03125; }
    get _osiTxtAnchor() { return 'middle'; }
    get _osiDX() { return 0; }
    get osiNameHTML() {
        var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': this._osiTxtAnchor,
            'transform': `translate(${this.x + this._dx + this._osiDX},${this.y + this._osiDY})`,
            'class': `Name ${nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            'x': 0, 'dy': 12, 'class': 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1].split('\\')[0]).append($('<tspan>', { x: 0, dy: 10 }).text(this._osiNames[1].split('\\')[1] || '')));
    }
    get ungrpHTML() {
        return [...this.intTickHTML, this.iconHTML, this.nameHTML, ...this.intNameHTML, this.osiNameHTML];
    }
}
class OSI12LStation extends OSI12Station {
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
}
class OSI12RStation extends OSI12Station {
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
}
class OSI22Station extends OSI12Station {
    constructor(id, data) {
        super(id, data);
        // data mutated by OSI12Station!!!
        this._origIntInfo = data.transfer.info[0][2];
    }
    get _nameTxtAnchor() { return this._osiTxtAnchor; }
    get _nameDY() {
        return this.namePos ? 11.515625 : -11.515625;
    }
    get origIntTickHTML() {
        var tickRotation = this.namePos ? 0 : 180;
        var tickColour = this._origIntInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour];
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y})rotate(${tickRotation})`,
            'class': 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get origIntNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._origIntInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameZH], this._origIntInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameEN]], 10, 7);
        var dy = this.namePos ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        // dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': this._txtAnchor,
            transform: `translate(${this.x - this._nameDX},${this.y + dy})`,
            class: `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get _osiNameDX() { return 0; }
    get osiNameHTML() {
        var dy = this._dy - (this.namePos ? 18 + 9 : -27) + 8.34375 - 25.03125 / 2;
        return $('<g>', {
            'text-anchor': this._osiTxtAnchor,
            transform: `translate(${this.x + this._osiNameDX},${this.y + dy})`,
            class: 'Name ' + this._nameClass
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            x: 0, dy: 12, class: 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1]));
    }
    get ungrpHTML() {
        return [
            ...this.intTickHTML, this.origIntTickHTML,
            this.iconHTML, this.nameHTML,
            ...this.intNameHTML, this.origIntNameHTML, this.osiNameHTML
        ];
    }
}
class OSI22LStation extends OSI22Station {
    get _nameDX() { return 3; }
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
    get _osiNameDX() { return 13; }
    get _osiTxtAnchor() { return 'start'; }
}
class OSI22RStation extends OSI22Station {
    get _nameDX() { return -3; }
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
    get _osiNameDX() { return -13; }
    get _osiTxtAnchor() { return 'end'; }
}
class OSI22EndStation extends OSI12Station {
    constructor(id, data) {
        super(id, data);
        // data mutated by OSI12Station!!!
        [this._origIntCity, this._origIntLine, this._origIntColour, this._origIntFg, this._origIntNameZH, this._origIntNameEN] = data.transfer.info[0][2];
    }
    get origIntTickHTML() {
        var tickRotation = this.namePos ? 180 : 0;
        var tickColour = this._origIntColour;
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y})rotate(${tickRotation})`,
            'class': 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get origIntNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._origIntNameZH, this._origIntNameEN], 10, 7);
        var dy = !this.namePos ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        // dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': 'middle',
            'transform': `translate(${this.x},${this.y + dy})`,
            'class': `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get iconHTML() {
        var iconYFlip = this.namePos ? 1 : -1;
        var iconXFlip = (this.children[0] == 'lineend') ? 1 : -1;
        var iconRotation = (this.children[0] == 'lineend') ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi22end_hk',
            'transform': `translate(${this.x},${this.y})scale(${iconXFlip},${iconYFlip})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _tickRotation() { return (this.children[0] == 'lineend') ? -90 : 90; }
    get _tickFlip() { return -1; }
    get _dx() { return (this.children[0] == 'lineend') ? 41 : -41; }
    get _dy() { return !this.namePos ? -18 : 18; }
    get _intNameDX() { return (this.children[0] == 'lineend') ? 24 + 41 : -(24 + 41); }
    get _txtAnchor() { return (this.children[0] == 'lineend') ? 'start' : 'end'; }
    get _osiDY() { return !this.namePos ? (10) + 8.34375 : -(10) + 8.34375 - 25.03125; }
    get _osiTxtAnchor() { return (this.children[0] == 'lineend') ? 'start' : 'end'; }
    get _osiDX() { return (this.children[0] == 'lineend') ? -9 : 9; }
    get ungrpHTML() {
        return [
            ...this.intTickHTML, this.origIntTickHTML,
            this.iconHTML, this.nameHTML,
            ...this.intNameHTML, this.origIntNameHTML, this.osiNameHTML
        ];
    }
}



/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageInitialiser/save */ "./src/PageInitialiser/save.ts");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Line_init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line/init */ "./src/Line/init.ts");
/* harmony import */ var _PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageInitialiser/init */ "./src/PageInitialiser/init.ts");




var requestLang = window.urlParams.get('lang') || localStorage.rmgLang || navigator.language.split('-').slice(0, 2).join('-');
switch (requestLang.toLowerCase()) {
    case 'zh-cn':
    case 'zh-hans':
        window.urlParams.set('lang', 'zh-Hans');
        break;
    case 'zh':
    case 'zh-hk':
    case 'zh-tw':
        window.urlParams.set('lang', 'zh-HK');
        break;
    default: window.urlParams.set('lang', 'en');
}
switch (window.urlParams.get('style')) {
    case 'mtr':
    case 'gzmtr':
    case 'shmetro':
        break;
    default: window.urlParams.set('style', 'mtr');
}
history.pushState({ url: window.location.href }, null, '?' + window.urlParams.toString());
// load stylesheets on demand
jquery__WEBPACK_IMPORTED_MODULE_1__('head').append(...['share', 'destination', 'railmap']
    .map(tag => {
    return jquery__WEBPACK_IMPORTED_MODULE_1__('<link>', {
        rel: 'stylesheet',
        href: `styles/${tag}_${window.urlParams.get('style')}.css`,
        id: `css_${tag}`
    });
}));
window.myLine = null;
jquery__WEBPACK_IMPORTED_MODULE_1__(`[${window.urlParams.get('style')}-specific]`).show();
// autoInit();
_PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__["common"]();
Object(_Line_init__WEBPACK_IMPORTED_MODULE_2__["default"])();
Object(_PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__["default"])();


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: DirectionLong, NeighbourPl, IntInfoTag, putParams, getParams, setParams, test, getTxtBoxDim, joinIntName, getIntBoxGZ, getRandomId, getNameFromId, describeParams, countryCode2Emoji, rgb2Hex, updateParam, getTransText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionLong", function() { return DirectionLong; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NeighbourPl", function() { return NeighbourPl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntInfoTag", function() { return IntInfoTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "putParams", function() { return putParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParams", function() { return getParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setParams", function() { return setParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "test", function() { return test; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTxtBoxDim", function() { return getTxtBoxDim; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "joinIntName", function() { return joinIntName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getIntBoxGZ", function() { return getIntBoxGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRandomId", function() { return getRandomId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNameFromId", function() { return getNameFromId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "describeParams", function() { return describeParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "countryCode2Emoji", function() { return countryCode2Emoji; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb2Hex", function() { return rgb2Hex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateParam", function() { return updateParam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransText", function() { return getTransText; });
var DirectionLong;
(function (DirectionLong) {
    DirectionLong[DirectionLong["left"] = 0] = "left";
    DirectionLong[DirectionLong["right"] = 1] = "right";
})(DirectionLong || (DirectionLong = {}));
;
var NeighbourPl;
(function (NeighbourPl) {
    NeighbourPl[NeighbourPl["parents"] = 0] = "parents";
    NeighbourPl[NeighbourPl["children"] = 1] = "children";
})(NeighbourPl || (NeighbourPl = {}));
;
var IntInfoTag;
(function (IntInfoTag) {
    IntInfoTag[IntInfoTag["city"] = 0] = "city";
    IntInfoTag[IntInfoTag["line"] = 1] = "line";
    IntInfoTag[IntInfoTag["colour"] = 2] = "colour";
    IntInfoTag[IntInfoTag["fg"] = 3] = "fg";
    IntInfoTag[IntInfoTag["nameZH"] = 4] = "nameZH";
    IntInfoTag[IntInfoTag["nameEN"] = 5] = "nameEN";
})(IntInfoTag || (IntInfoTag = {}));
;
function putParams(instance) {
    localStorage.setItem('rmgParam', JSON.stringify(instance));
}
function getParams() {
    return JSON.parse(localStorage.rmgParam);
}
function setParams(key, data) {
    let param = getParams();
    param[key] = data;
    putParams(param);
}
function test(svgEl) {
    var [svgW, svgH] = svgEl.attr('viewBox').split(' ').slice(2);
    var canvas = $('canvas')[0];
    $('canvas').attr({
        width: svgW * 2.5, height: svgH * 2.5
    });
    var ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // bypass Chrome min font size (to be improved)
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--station, .rmg-name__en.rmg-name__mtr--station, .rmg-name__zh.IntName').each((_, el) => {
        $(el).attr('font-size', '10px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int').each((_, el) => {
        $(el).attr('font-size', '8px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int-small, .rmg-name__en.IntName').each((_, el) => {
        $(el).attr('font-size', '7px');
    });
    svgEl.find('text:not([font-size]), tspan:not([font-size])').each((_, el) => {
        $(el).attr('font-size', window.getComputedStyle(el).fontSize);
    });
    svgEl.find('text, tspan').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'font-family': elStyle.getPropertyValue('font-family'),
            'fill': elStyle.getPropertyValue('fill'),
            'alignment-baseline': elStyle.getPropertyValue('alignment-baseline'),
            'dominant-baseline': elStyle.getPropertyValue('dominant-baseline'),
            'text-anchor': elStyle.getPropertyValue('text-anchor')
        }).removeAttr('class');
    });
    svgEl.find('#strip, #dest_strip').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'stroke-width': elStyle.getPropertyValue('stroke-width')
        });
    });
    var img = new Image();
    img.onload = function () {
        ctx.drawImage(img, 0, 0, svgW * 2.5, svgH * 2.5);
        saveAs($('canvas')[0].toDataURL('image/png'), 'rmg_export');
    };
    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgEl[0].outerHTML)));
}
function saveAs(uri, filename) {
    var link = document.createElement('a');
    if (typeof link.download === 'string') {
        link.href = uri;
        link.download = filename;
        //Firefox requires the link to be in the body
        document.body.appendChild(link);
        //simulate click
        link.click();
        //remove the link when done
        document.body.removeChild(link);
    }
    else {
        window.open(uri);
    }
}
function getTxtBoxDim(elem, svg) {
    let svgNode = $('#' + svg)[0];
    let bcr = elem.getBoundingClientRect();
    let pt = svgNode.createSVGPoint();
    let ctm = svgNode.getScreenCTM();
    pt.x = bcr.left;
    pt.y = bcr.top;
    let pos = pt.matrixTransform(ctm.inverse());
    return { x: pos.x, y: pos.y, width: bcr.width, height: bcr.height };
}
function joinIntName(names, dy1, dy2) {
    var [nameZH, nameEN] = names.map(txt => txt.split(/\\/g));
    var res = $('<text>').addClass('rmg-name__zh IntName').text(nameZH[0]);
    for (let i = 1; i < nameZH.length; i++) {
        res = res.append($('<tspan>', { 'x': 0, 'dy': dy1, 'dominant-baseline': 'central' }).text(nameZH[i]));
    }
    var btwGap = (nameZH.length == 1) ? 9 : 9;
    res = res.append($('<tspan>', {
        'x': 0, 'dy': btwGap, 'class': 'rmg-name__en IntName'
    }).text(nameEN[0]));
    for (let i = 1; i < nameEN.length; i++) {
        res = res.append($('<tspan>', {
            'x': 0, 'dy': dy2, 'class': 'rmg-name__en IntName'
        }).text(nameEN[i]));
    }
    return [res, nameZH.length, nameEN.length];
}
function getIntBoxGZ(intInfo, state) {
    let bg = intInfo[IntInfoTag.colour];
    let fg = intInfo[IntInfoTag.fg];
    let names = [
        intInfo[IntInfoTag.nameZH],
        intInfo[IntInfoTag.nameEN]
    ];
    let nameZHs = names[0].match(/[\d]+|[\D]+/g) || [''];
    let intNameSplitOk = false;
    if (nameZHs.length == 2) {
        if (!isNaN(Number(nameZHs[0])) && isNaN(Number(nameZHs[1]))) {
            intNameSplitOk = true;
        }
    }
    let boxEl = $('<g>')
        .append($('<use>', {
        'xlink:href': '#intbox_gz',
        fill: state === -1 ? '#aaa' : bg
    }))
        .append($('<text>', { y: 8.5, class: 'rmg-name__zh rmg-name__gzmtr--int' })
        .append($('<tspan>', { 'font-size': '16px', 'dominant-baseline': 'central' }).text(intNameSplitOk ? nameZHs[0] : ''))
        .append($('<tspan>', { dy: -1, 'dominant-baseline': 'central' }).text(intNameSplitOk ? nameZHs[1] : nameZHs.join(''))))
        .append($('<text>', {
        y: 19.5,
        class: 'rmg-name__en'
    })
        .addClass(names[1].length > 10 ? 'rmg-name__gzmtr--int-small' : 'rmg-name__gzmtr--int')
        .text(names[1]));
    if (fg === '#fff' || state === -1) {
        $(boxEl).find('text').addClass('rmg-name__gzmtr--white-fg');
    }
    return boxEl;
}
function getRandomId() {
    return Math.floor(Math.random() * Math.pow(36, 4)).toString(36).padStart(4, '0');
}
function getNameFromId(stnId) {
    let numsZH = [
        '癸', '甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬',
        '日', '月', '金', '木', '水', '火', '土',
        '竹', '戈', '十', '大', '中', '一', '弓',
        '人', '心', '手', '口',
        '尸', '廿', '山', '女', '田', '難', '卜', '重'
    ];
    let numsEN = [
        'Zero', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine',
        'Alfa', 'Bravo', 'Charlie', 'Delta', 'Echo', 'Foxtrot', 'Golf',
        'Hotel', 'India', 'Juliett', 'Kilo', 'Lima', 'Mike', 'November',
        'Oscar', 'Papa', 'Quebec', 'Romeo',
        'Sierra', 'Tango', 'Uniform', 'Victor', 'Whiskey', 'X-ray', 'Yankee', 'Zulu'
    ];
    return [
        stnId.split('').map(char => numsZH[parseInt(char, 36)]).join(''),
        stnId.split('').map(char => numsEN[parseInt(char, 36)]).join(' ')
    ];
}
function describeParams(param) {
    return `Number of stations: ${Object.keys(param.stn_list).length - 2}
            ${Object.entries(param.stn_list).map(x => ['linestart', 'lineend'].includes(x[0]) ? '' : x[1].name.join(' - ')).join('<br>').trim().replace(/\\/, ' ')}`;
}
function countryCode2Emoji(code) {
    var chars = code.toUpperCase().split('');
    if (code.length == 2) {
        return chars.map(char => String.fromCodePoint((char.codePointAt(0) + 127397))).join('');
    }
    else {
        return '\u{1f3f4}' + chars.map(char => String.fromCodePoint((char.codePointAt(0) + 917536))).join('') + '\u{e007f}';
    }
}
function rgb2Hex(rgb) {
    let hex = rgb.match(/[\d]+/g)
        .map(dec => Number(dec).toString(16).padStart(2, '0'))
        .join('');
    switch (hex) {
        case '000000': return '#000';
        case 'ffffff': return '#fff';
        default: return '#' + hex;
    }
}
function updateParam() {
    var param = getParams();
    // Version 0.10
    if (!('line_name' in param)) {
        param.line_name = ['路線名', 'Name of Line'];
    }
    if (!('dest_legacy' in param)) {
        param.dest_legacy = false;
    }
    // Version 0.11
    if (!('char_form' in param)) {
        param.char_form = (region => {
            switch (region) {
                case 'KR': return 'trad';
                case 'TC': return 'tw';
                case 'SC': return 'cn';
                case 'JP': return 'jp';
            }
        })(param.fontZH[0].split(' ').reverse()[0]);
    }
    delete param.fontZH;
    delete param.fontEN;
    delete param.weightZH;
    delete param.weightEN;
    // Version 0.12
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        // if (['linestart', 'lineend'].includes(stnId)) {continue;}
        // if ('transfer' in stnInfo) {
        //     delete param.stn_list[stnId].interchange;
        //     switch (stnInfo.change_type) {
        //         case 'int2':
        //             param.stn_list[stnId].interchange = [[stnInfo.transfer[1]]];
        //             break;
        //         case 'int3_l':
        //         case 'int3_r':
        //             param.stn_list[stnId].interchange = [stnInfo.transfer.slice(1,3)];
        //             break;
        //         case 'osi11_pl':
        //         case 'osi11_pr':
        //         case 'osi11_ul':
        //         case 'osi11_ur':
        //             param.stn_list[stnId].interchange = [[], stnInfo.transfer.slice(0,2)];
        //             break;
        //         case 'osi12_pl':
        //         case 'osi12_pr':
        //         case 'osi12_ul':
        //         case 'osi12_ur':
        //             param.stn_list[stnId].interchange = [[], stnInfo.transfer];
        //             break;
        //     }
        // }
        // delete param.stn_list[stnId].transfer;
        if (!('branch' in stnInfo)) {
            param.stn_list[stnId].branch = { left: [], right: [] };
            if (stnInfo.children.length == 2) {
                param.stn_list[stnId].branch.right = ['through', stnInfo.children[1]];
            }
            else {
                param.stn_list[stnId].branch.right = [];
            }
            if (stnInfo.parents.length == 2) {
                param.stn_list[stnId].branch.left = ['through', stnInfo.parents[1]];
            }
            else {
                param.stn_list[stnId].branch.left = [];
            }
        }
    }
    // Version 1.2
    if (!('psd_num' in param)) {
        param.psd_num = 1;
    }
    if (!('line_num' in param)) {
        param.line_num = 1;
    }
    delete param.style;
    if (param.theme.length == 3) {
        param.theme.push('#fff');
    }
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (['linestart', 'lineend'].includes(stnId)) {
            continue;
        }
        if (!('num' in stnInfo)) {
            param.stn_list[stnId].num = '00';
        }
    }
    // Version 1.3
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if ('interchange' in stnInfo) {
            stnInfo.interchange.map(arr => {
                arr.map(intInfo => {
                    if (intInfo.length == 5) {
                        intInfo.splice(3, 0, '#fff');
                    }
                });
            });
        }
    }
    // Version 1.4
    if (!('info_panel_type' in param)) {
        param.info_panel_type = 'panasonic';
    }
    // Version 1.5
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (stnInfo.change_type === 'osi22_end_p') {
            param.stn_list[stnId].change_type = 'osi22_pr';
        }
        if (stnInfo.change_type === 'osi22_end_u') {
            param.stn_list[stnId].change_type = 'osi22_ur';
        }
    }
    // Version 2.1
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('interchange' in stnInfo)) {
            param.stn_list[stnId].interchange = [[]];
        }
    }
    // Version 2.2
    if (param.info_panel_type === 'gz_1') {
        param.info_panel_type = 'gz28';
    }
    // Version 2.3
    if (param.info_panel_type === 'panasonic') {
        param.info_panel_type = 'gz28';
    }
    if (param.info_panel_type === 'gz_2') {
        param.info_panel_type = 'gzgf';
    }
    if (param.info_panel_type === 'gz_3') {
        param.info_panel_type = 'gz3';
    }
    if (!('direction_gz_x' in param)) {
        param.direction_gz_x = 50;
    }
    if (!('direction_gz_y' in param)) {
        param.direction_gz_y = 70;
    }
    // Version 2.6
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('transfer' in param)) {
            param.stn_list[stnId].transfer = {
                type: stnInfo.change_type.split('_')[0],
                tick_direc: (stnInfo.change_type === 'none' || stnInfo.change_type === 'int2') ? 'r' : stnInfo.change_type.split('_')[1].split('').slice().reverse()[0],
                paid_area: (stnInfo.change_type.indexOf('osi') !== -1) ? stnInfo.change_type.split('_')[1][0] === 'p' : true,
                osi_names: (stnInfo.change_type.indexOf('osi') !== -1) ? [stnInfo.interchange[1][0]] : [],
                info: (stnInfo.interchange.length === 2) ? [stnInfo.interchange[0], stnInfo.interchange[1].slice(1)] : stnInfo.interchange
            };
        }
    }
    putParams(param);
}
const langFallback = (lang) => {
    switch (lang) {
        case 'en': return ['en'];
        case 'zh-Hans': return ['zh-Hans', 'zh', 'en'];
        case 'zh-HK': return ['zh-HK', 'zh-Hant', 'zh', 'en'];
        default: return [lang, 'en'];
    }
};
const getTransText = (obj, lang) => {
    return obj[langFallback(lang).find(l => obj[l])];
};


/***/ }),

/***/ "@material/dialog":
/*!*****************************!*\
  !*** external "mdc.dialog" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.dialog;

/***/ }),

/***/ "@material/list":
/*!***************************!*\
  !*** external "mdc.list" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.list;

/***/ }),

/***/ "@material/ripple":
/*!*****************************!*\
  !*** external "mdc.ripple" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.ripple;

/***/ }),

/***/ "@material/select":
/*!*****************************!*\
  !*** external "mdc.select" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.select;

/***/ }),

/***/ "@material/slider":
/*!*****************************!*\
  !*** external "mdc.slider" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.slider;

/***/ }),

/***/ "@material/switch":
/*!************************************!*\
  !*** external "mdc.switchControl" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.switchControl;

/***/ }),

/***/ "@material/tab-bar":
/*!*****************************!*\
  !*** external "mdc.tabBar" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.tabBar;

/***/ }),

/***/ "@material/textfield":
/*!********************************!*\
  !*** external "mdc.textField" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.textField;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2NoaXBzL2NoaXAtc2V0L2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2NoaXBzL2NoaXAtc2V0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2NoaXBzL2NoaXAtc2V0L2ZvdW5kYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9jaGlwcy9jaGlwLXNldC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2NoaXBzL2NoaXAvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvY2hpcHMvY2hpcC9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9jaGlwcy9jaGlwL2ZvdW5kYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9jaGlwcy9jaGlwL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvY2hpcHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9kb20vZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvZG9tL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvcmlwcGxlL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9yaXBwbGUvZm91bmRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL3JpcHBsZS91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xpbmUvTGluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9pbml0LnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvZGVzaWduLnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvaW5mby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGFnZUluaXRpYWxpc2VyL2luaXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhZ2VJbml0aWFsaXNlci9sYXlvdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhZ2VJbml0aWFsaXNlci9zYXZlLnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvc3RhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5kaWFsb2dcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMubGlzdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5yaXBwbGVcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMuc2VsZWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnNsaWRlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5zd2l0Y2hDb250cm9sXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnRhYkJhclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy50ZXh0RmllbGRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqUXVlcnlcIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7UUFDQTtRQUNBLFFBQVEsb0JBQW9CO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOzs7O1FBSUE7UUFDQTtRQUNBLHlDQUF5QyxvQ0FBb0M7UUFDN0U7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBOzs7UUFHQTs7UUFFQTtRQUNBLGlDQUFpQzs7UUFFakM7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHdCQUF3QixrQ0FBa0M7UUFDMUQsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNB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QUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUM7U0FBQztRQUM1RixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLEdBQUMsQ0FBQyxDQUFDO1NBQUM7UUFDbEUsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLEdBQUMsQ0FBQyxDQUFDO1NBQUM7UUFDNUYsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQ7O09BRUc7SUFDTyxlQUFlLENBQUMsS0FBUztRQUMvQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLElBQUksV0FBVyxZQUFZLDZEQUFZLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQ3JFLElBQUksV0FBVyxZQUFZLDhEQUFhLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQ3RFLElBQUksV0FBVyxZQUFZLDhEQUFhLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQ3RFLElBQUksV0FBVyxZQUFZLDZEQUFZLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQ3JFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBQyxDQUFDLENBQUM7U0FBQztRQUNqRSxJQUFJLElBQUksQ0FBQyxhQUFh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LE9BQU8sQ0FBQyxNQUFNLEdBQUcsRUFBRSxJQUFJLEVBQUMsRUFBRSxFQUFFLEtBQUssRUFBQyxFQUFFLEVBQUUsQ0FBQztnQkFDdkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUN2RCxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDcEQsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUVyRCxPQUFPLENBQUMsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFFMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUMxQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBRTNDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDN0MsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ2pEO2lCQUFNLElBQUksR0FBRyxJQUFJLFVBQVUsRUFBRTtnQkFDMUIsT0FBTyxDQUFDLE1BQU0s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QUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQzlELElBQUksR0FBRyxLQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDNUMsSUFBSSxVQUFVLEtBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUMsRUFBRSxDQUFDLENBQUMsRUFBQztJQUM3RSxJQUFJLFVBQVUsS0FBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBQztJQUM1RSxJQUFJLE1BQU0sS0FBSSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLEVBQUM7SUFDbkYsSUFBSSxhQUFhLEtBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUM7SUFDL0UsSUFBSSxNQUFNLEtBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUUvRCxJQUFJLFNBQVM7UUFDVCxPQUFPO1lBQ0gsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlO1lBQ3pDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDNUIsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFdBQVc7U0FDOUQ7SUFDTCxDQUFDO0NBQ0o7QUFFdUw7Ozs7Ozs7Ozs7Ozs7QUMzaEJ4TDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBbUQ7QUFDdkI7QUFFTztBQUNhO0FBVWhELElBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFlBQVksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0gsUUFBUSxXQUFXLENBQUMsV0FBVyxFQUFFLEVBQUU7SUFDL0IsS0FBSyxPQUFPLENBQUM7SUFDYixLQUFLLFNBQVM7UUFDVixNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDeEMsTUFBTTtJQUNWLEtBQUssSUFBSSxDQUFDO0lBQ1YsS0FBSyxPQUFPLENBQUM7SUFDYixLQUFLLE9BQU87UUFDUixNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdEMsTUFBTTtJQUNWLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztDQUMvQztBQUVELFFBQVEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDbkMsS0FBSyxLQUFLLENBQUM7SUFDWCxLQUFLLE9BQU8sQ0FBQztJQUNiLEtBQUssU0FBUztRQUNWLE1BQU07SUFDVixPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDakQ7QUFDRCxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUMsR0FBRyxFQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFFdkYsNkJBQTZCO0FBQzdCLG1DQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUNaLEdBQUcsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLFNBQVMsQ0FBQztLQUNqQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDUCxPQUFPLG1DQUFDLENBQUMsUUFBUSxFQUFFO1FBQ2YsR0FBRyxFQUFFLFlBQVk7UUFDakIsSUFBSSxFQUFFLFVBQVUsR0FBRyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNO1FBQzFELEVBQUUsRUFBRSxPQUFPLEdBQUcsRUFBRTtLQUNuQixDQUFDO0FBQ04sQ0FBQyxDQUFDLENBQ1QsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0FBQ3JCLG1DQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDeEQsY0FBYztBQUNkLDREQUFlLEVBQUUsQ0FBQztBQUVsQiwwREFBUSxFQUFFLENBQUM7QUFDWCxxRUFBVSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7QUM5Q2I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBWSxhQUEyQjtBQUF2QyxXQUFZLGFBQWE7SUFBRSxpREFBSTtJQUFFLG1EQUFLO0FBQUEsQ0FBQyxFQUEzQixhQUFhLEtBQWIsYUFBYSxRQUFjO0FBQUEsQ0FBQztBQUN4QyxJQUFZLFdBQStCO0FBQTNDLFdBQVksV0FBVztJQUFFLG1EQUFPO0lBQUUscURBQVE7QUFBQSxDQUFDLEVBQS9CLFdBQVcsS0FBWCxXQUFXLFFBQW9CO0FBQUEsQ0FBQztBQTZCNUMsSUFBWSxVQUVYO0FBRkQsV0FBWSxVQUFVO0lBQ2xCLDJDQUFJO0lBQUUsMkNBQUk7SUFBRSwrQ0FBTTtJQUFFLHVDQUFFO0lBQUUsK0NBQU07SUFBRSwrQ0FBTTtBQUMxQyxDQUFDLEVBRlcsVUFBVSxLQUFWLFVBQVUsUUFFckI7QUFBQSxDQUFDO0FBMkdLLFNBQVMsU0FBUyxDQUFDLFFBQWtCO0lBQ3hDLFlBQVksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUMvRCxDQUFDO0FBRU0sU0FBUyxTQUFTO0lBQ3JCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFhLENBQUM7QUFDekQsQ0FBQztBQUVNLFNBQVMsU0FBUyxDQUFDLEdBQW9DLEVBQUUsSUFBUztJQUNyRSxJQUFJLEtBQUssR0FBRyxTQUFTLEVBQUUsQ0FBQztJQUN4QixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ2xCLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQixDQUFDO0FBRU0sU0FBUyxJQUFJLENBQUMsS0FBSztJQUN0QixJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUU3RCxJQUFJLE1BQU0sR0FBdUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hELENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDYixLQUFLLEVBQUUsSUFBSSxHQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUMsSUFBSSxHQUFDLEdBQUc7S0FDbkMsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFakQsK0NBQStDO0lBRS9DLEtBQUssQ0FBQyxJQUFJLENBQUMscUdBQXFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxFQUFFLEVBQUU7UUFDNUgsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxLQUFLLENBQUMsSUFBSSxDQUFDLG9DQUFvQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBRSxFQUFFO1FBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0lBRUgsS0FBSyxDQUFDLElBQUksQ0FBQyxpRUFBaUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxFQUFFLEVBQUUsRUFBRTtRQUN4RixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUMsQ0FBQztJQUVILEtBQUssQ0FBQyxJQUFJLENBQUMsK0NBQStDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxFQUFFLEVBQUU7UUFDdEUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xFLENBQUMsQ0FBQyxDQUFDO0lBRUgsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxFQUFFLEVBQUU7UUFDcEMsSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDUCxhQUFhLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQztZQUN0RCxNQUFNLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQztZQUN4QyxvQkFBb0IsRUFBRSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUM7WUFDcEUsbUJBQW1CLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDO1lBQ2xFLGFBQWEsRUFBRSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1NBQ3pELENBQUMsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0IsQ0FBQyxDQUFDLENBQUM7SUFFSCxLQUFLLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBRSxFQUFFO1FBQzVDLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ1AsY0FBYyxFQUFFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUM7U0FDM0QsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxNQUFNLEdBQUc7UUFDVCxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksR0FBQyxHQUFHLEVBQUUsSUFBSSxHQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FDa0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsRUFDMUQsWUFBWSxDQUNmLENBQUM7SUFDTixDQUFDO0lBQ0QsR0FBRyxDQUFDLEdBQUcsR0FBRyw0QkFBNEIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEcsQ0FBQztBQUVELFNBQVMsTUFBTSxDQUFDLEdBQVcsRUFBRSxRQUFnQjtJQUV6QyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXZDLElBQUksT0FBTyxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNuQyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6Qiw2Q0FBNkM7UUFDN0MsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLDJCQUEyQjtRQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUVuQztTQUFNO1FBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNwQjtBQUNMLENBQUM7QUFFTSxTQUFTLFlBQVksQ0FBQyxJQUF3QixFQUFFLEdBQVc7SUFDOUQsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQTZCLENBQUM7SUFDMUQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7SUFDdkMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ2xDLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNqQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDaEIsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ2YsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUM1QyxPQUFPLEVBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUMsQ0FBQztBQUNsRSxDQUFDO0FBRU0sU0FBUyxXQUFXLENBQUMsS0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHO0lBQzdDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMxRCxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2hDLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUNaLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLElBQUksRUFBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsU0FBUyxFQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2xGLENBQUM7S0FDTDtJQUNELElBQUksTUFBTSxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDMUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQ1osQ0FBQyxDQUFDLFNBQVMsRUFBRTtRQUNULEdBQUcsRUFBQyxDQUFDLEVBQUUsSUFBSSxFQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsc0JBQXNCO0tBQ3RELENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ3JCLENBQUM7SUFDRixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNoQyxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FDWixDQUFDLENBQUMsU0FBUyxFQUFFO1lBQ1QsR0FBRyxFQUFDLENBQUMsRUFBRSxJQUFJLEVBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxzQkFBc0I7U0FDbkQsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDckIsQ0FBQztLQUNMO0lBQ0QsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBRU0sU0FBUyxXQUFXLENBQUMsT0FBd0IsRUFBRSxLQUFLO0lBQ3ZELElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNoQyxJQUFJLEtBQUssR0FBRztRQUNSLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQzFCLE9BQU8sQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO0tBQzdCLENBQUM7SUFDRixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckQsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFDO0lBQzNCLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7UUFDckIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDekQsY0FBYyxHQUFHLElBQUksQ0FBQztTQUN6QjtLQUNKO0lBQ0QsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztTQUNmLE1BQU0sQ0FDSCxDQUFDLENBQUMsT0FBTyxFQUFFO1FBQ1AsWUFBWSxFQUFFLFlBQVk7UUFDMUIsSUFBSSxFQUFFLEtBQUssS0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO0tBQ2pDLENBQUMsQ0FDTDtTQUNBLE1BQU0sQ0FDSCxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsbUNBQW1DLEVBQUUsQ0FBQztTQUM5RCxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFLFdBQVcsRUFBQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ25ILE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUUsRUFBRSxFQUFDLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FDNUg7U0FDQSxNQUFNLENBQ0gsQ0FBQyxDQUFDLFFBQVEsRUFBRTtRQUNSLENBQUMsRUFBRSxJQUFJO1FBQ1AsS0FBSyxFQUFFLGNBQWM7S0FDeEIsQ0FBQztTQUNHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDO1NBQ3RGLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDdEIsQ0FBQztJQUNOLElBQUksRUFBRSxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDL0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsMkJBQTJCLENBQUMsQ0FBQztLQUMvRDtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFFTSxTQUFTLFdBQVc7SUFDdkIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JGLENBQUM7QUFFTSxTQUFTLGFBQWEsQ0FBQyxLQUFTO0lBQ25DLElBQUksTUFBTSxHQUFHO1FBQ1QsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztRQUNoRCxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO1FBQ2pDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7UUFDakMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztRQUNsQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztLQUN6QyxDQUFDO0lBQ0YsSUFBSSxNQUFNLEdBQUc7UUFDVCxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNO1FBQzlFLE1BQU0sRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU07UUFDOUQsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVTtRQUMvRCxPQUFPLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPO1FBQ2xDLFFBQVEsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNO0tBQy9FLENBQUM7SUFDRixPQUFPO1FBQ0gsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNoRSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO0tBQ3BFLENBQUM7QUFDTixDQUFDO0FBRU0sU0FBUyxjQUFjLENBQUMsS0FBZTtJQUMxQyxPQUFPLHVCQUF1QixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLEdBQUMsQ0FBQztjQUN4RCxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksRUFBQyxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQ25LLENBQUM7QUFFTSxTQUFTLGlCQUFpQixDQUFDLElBQVk7SUFDMUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN6QyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1FBQ2xCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekY7U0FBTTtRQUNILE9BQU8sV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQztLQUNySDtBQUNMLENBQUM7QUFFTSxTQUFTLE9BQU8sQ0FBQyxHQUFXO0lBQy9CLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO1NBQ3hCLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQztTQUNwRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDZCxRQUFRLEdBQUcsRUFBRTtRQUNULEtBQUssUUFBUSxDQUFDLENBQUMsT0FBTyxNQUFNLENBQUM7UUFDN0IsS0FBSyxRQUFRLENBQUMsQ0FBQyxPQUFPLE1BQU0sQ0FBQztRQUM3QixPQUFPLENBQUMsQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUM7S0FDN0I7QUFDTCxDQUFDO0FBRU0sU0FBUyxXQUFXO0lBQ3ZCLElBQUksS0FBSyxHQUFHLFNBQVMsRUFBRSxDQUFDO0lBRXhCLGVBQWU7SUFDZixJQUFJLENBQUMsQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLEVBQUU7UUFDekIsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztLQUM3QztJQUNELElBQUksQ0FBQyxDQUFDLGFBQWEsSUFBSSxLQUFLLENBQUMsRUFBRTtRQUMzQixLQUFLLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztLQUM3QjtJQUVELGVBQWU7SUFDZixJQUFJLENBQUMsQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLEVBQUU7UUFDekIsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQUUsUUFBUSxNQUFNLEVBQUU7Z0JBQzFDLEtBQUssSUFBSSxDQUFDLENBQUMsT0FBTyxNQUFNLENBQUM7Z0JBQ3pCLEtBQUssSUFBSSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUM7Z0JBQ3ZCLEtBQUssSUFBSSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUM7Z0JBQ3ZCLEtBQUssSUFBSSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUM7YUFDMUI7UUFBQSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUMvQztJQUNELE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUNwQixPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDcEIsT0FBTyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQ3RCLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQztJQUV0QixlQUFlO0lBQ2YsS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pELDREQUE0RDtRQUM1RCwrQkFBK0I7UUFDL0IsZ0RBQWdEO1FBQ2hELHFDQUFxQztRQUNyQyx1QkFBdUI7UUFDdkIsMkVBQTJFO1FBQzNFLHFCQUFxQjtRQUNyQix5QkFBeUI7UUFDekIseUJBQXlCO1FBQ3pCLGlGQUFpRjtRQUNqRixxQkFBcUI7UUFDckIsMkJBQTJCO1FBQzNCLDJCQUEyQjtRQUMzQiwyQkFBMkI7UUFDM0IsMkJBQTJCO1FBQzNCLHFGQUFxRjtRQUNyRixxQkFBcUI7UUFDckIsMkJBQTJCO1FBQzNCLDJCQUEyQjtRQUMzQiwyQkFBMkI7UUFDM0IsMkJBQTJCO1FBQzNCLDBFQUEwRTtRQUMxRSxxQkFBcUI7UUFDckIsUUFBUTtRQUNSLElBQUk7UUFDSix5Q0FBeUM7UUFFekMsSUFBSSxDQUFDLENBQUMsUUFBUSxJQUFJLE9BQU8sQ0FBQyxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUUsSUFBSSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFFLENBQUM7WUFDckQsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7Z0JBQzlCLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDekU7aUJBQU07Z0JBQ0gsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzthQUMzQztZQUNELElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO2dCQUM3QixLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZFO2lCQUFNO2dCQUNILEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7YUFDMUM7U0FDSjtLQUNKO0lBRUQsY0FBYztJQUNkLElBQUksQ0FBQyxDQUFDLFNBQVMsSUFBSSxLQUFLLENBQUMsRUFBRTtRQUN2QixLQUFLLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztLQUNyQjtJQUNELElBQUksQ0FBQyxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsRUFBRTtRQUN4QixLQUFLLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztLQUN0QjtJQUNELE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQztJQUNuQixJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtRQUN6QixLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUM1QjtJQUNELEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN6RCxJQUFJLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUFDLFNBQVM7U0FBQztRQUN6RCxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLEVBQUU7WUFDckIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1NBQ3BDO0tBQ0o7SUFFRCxjQUFjO0lBQ2QsS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pELElBQUksYUFBYSxJQUFJLE9BQU8sRUFBRTtZQUMxQixPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDMUIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtvQkFDZCxJQUFJLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO3dCQUNyQixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsTUFBTSxDQUFDLENBQUM7cUJBQzlCO2dCQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDLENBQUM7U0FDTjtLQUNKO0lBRUQsY0FBYztJQUNkLElBQUksQ0FBQyxDQUFDLGlCQUFpQixJQUFJLEtBQUssQ0FBQyxFQUFFO1FBQy9CLEtBQUssQ0FBQyxlQUFlLEdBQUcsV0FBVyxDQUFDO0tBQ3ZDO0lBRUQsY0FBYztJQUNkLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN6RCxJQUFJLE9BQU8sQ0FBQyxXQUFXLEtBQUssYUFBYSxFQUFFO1lBQ3ZDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztTQUNsRDtRQUNELElBQUksT0FBTyxDQUFDLFdBQVcsS0FBSyxhQUFhLEVBQUU7WUFDdkMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO1NBQ2xEO0tBQ0o7SUFFRixjQUFjO0lBQ2IsS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pELElBQUksQ0FBQyxDQUFDLGFBQWEsSUFBSSxPQUFPLENBQUMsRUFBRTtZQUM3QixLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzVDO0tBQ0o7SUFFRCxjQUFjO0lBQ2QsSUFBSSxLQUFLLENBQUMsZUFBZSxLQUFLLE1BQU0sRUFBRTtRQUNsQyxLQUFLLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQztLQUNsQztJQUVELGNBQWM7SUFDZCxJQUFJLEtBQUssQ0FBQyxlQUFlLEtBQUssV0FBVyxFQUFFO1FBQ3ZDLEtBQUssQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDO0tBQ2xDO0lBQ0QsSUFBSSxLQUFLLENBQUMsZUFBZSxLQUFLLE1BQU0sRUFBRTtRQUNsQyxLQUFLLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQztLQUNsQztJQUNELElBQUksS0FBSyxDQUFDLGVBQWUsS0FBSyxNQUFNLEVBQUU7UUFDbEMsS0FBSyxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7S0FDakM7SUFDRCxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsSUFBSSxLQUFLLENBQUMsRUFBRTtRQUM5QixLQUFLLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztLQUM3QjtJQUNELElBQUksQ0FBQyxDQUFDLGdCQUFnQixJQUFJLEtBQUssQ0FBQyxFQUFFO1FBQzlCLEtBQUssQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0tBQzdCO0lBRUQsY0FBYztJQUNkLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN6RCxJQUFJLENBQUMsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLEVBQUU7WUFDeEIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLEdBQUc7Z0JBQzdCLElBQUksRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQTJEO2dCQUNqRyxVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQU0sSUFBSSxPQUFPLENBQUMsV0FBVyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQWM7Z0JBQ3BLLFNBQVMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDeEcsU0FBUyxFQUFFLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3ZGLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQVc7YUFDN0g7U0FDSjtLQUNKO0lBQ0QsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JCLENBQUM7QUFHRCxNQUFNLFlBQVksR0FBRyxDQUFDLElBQVksRUFBRSxFQUFFO0lBQ2xDLFFBQVEsSUFBSSxFQUFFO1FBQ1YsS0FBSyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsS0FBSyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQyxLQUFLLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2hDO0FBQ0wsQ0FBQztBQUVNLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBOEIsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUN6RSxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDOzs7Ozs7Ozs7Ozs7QUN2aEJELDRCOzs7Ozs7Ozs7OztBQ0FBLDBCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLG1DOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLCtCOzs7Ozs7Ozs7OztBQ0FBLHdCIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuXG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdH07XG5cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdFwiaW5kZXhcIjogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgKHtcIkxpbmVHWlwiOlwiTGluZUdaXCIsXCJMaW5lU0hcIjpcIkxpbmVTSFwifVtjaHVua0lkXXx8Y2h1bmtJZCkgKyBcIi5taW4uanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbiBcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9kaXN0L1wiO1xuXG4gXHQvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIE1EQ0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNRENDb21wb25lbnQocm9vdCwgZm91bmRhdGlvbikge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvb3RfID0gcm9vdDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIHRzbGliXzEuX19zcHJlYWQoYXJncykpO1xuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgaW5pdGlhbGl6ZSBmb3VuZGF0aW9uIGhlcmUgYW5kIG5vdCB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yJ3MgZGVmYXVsdCBwYXJhbSBzbyB0aGF0XG4gICAgICAgIC8vIHRoaXMucm9vdF8gaXMgZGVmaW5lZCBhbmQgY2FuIGJlIHVzZWQgd2l0aGluIHRoZSBmb3VuZGF0aW9uIGNsYXNzLlxuICAgICAgICB0aGlzLmZvdW5kYXRpb25fID0gZm91bmRhdGlvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5nZXREZWZhdWx0Rm91bmRhdGlvbigpIDogZm91bmRhdGlvbjtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5pbml0KCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN5bmNXaXRoRE9NKCk7XG4gICAgfVxuICAgIE1EQ0NvbXBvbmVudC5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIC8vIFN1YmNsYXNzZXMgd2hpY2ggZXh0ZW5kIE1EQ0Jhc2Ugc2hvdWxkIHByb3ZpZGUgYW4gYXR0YWNoVG8oKSBtZXRob2QgdGhhdCB0YWtlcyBhIHJvb3QgZWxlbWVudCBhbmRcbiAgICAgICAgLy8gcmV0dXJucyBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50IHdpdGggaXRzIHJvb3Qgc2V0IHRvIHRoYXQgZWxlbWVudC4gQWxzbyBub3RlIHRoYXQgaW4gdGhlIGNhc2VzIG9mXG4gICAgICAgIC8vIHN1YmNsYXNzZXMsIGFuIGV4cGxpY2l0IGZvdW5kYXRpb24gY2xhc3Mgd2lsbCBub3QgaGF2ZSB0byBiZSBwYXNzZWQgaW47IGl0IHdpbGwgc2ltcGx5IGJlIGluaXRpYWxpemVkXG4gICAgICAgIC8vIGZyb20gZ2V0RGVmYXVsdEZvdW5kYXRpb24oKS5cbiAgICAgICAgcmV0dXJuIG5ldyBNRENDb21wb25lbnQocm9vdCwgbmV3IE1EQ0ZvdW5kYXRpb24oe30pKTtcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0OiBtZXRob2QgcGFyYW0gb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlczsgaXQgZG9lcyBub3QgbmVlZCB0byBiZSB1bml0IHRlc3RlZCAqL1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBfYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgdG8gZG8gYW55IGFkZGl0aW9uYWwgc2V0dXAgd29yayB0aGF0IHdvdWxkIGJlIGNvbnNpZGVyZWQgcGFydCBvZiBhXG4gICAgICAgIC8vIFwiY29uc3RydWN0b3JcIi4gRXNzZW50aWFsbHksIGl0IGlzIGEgaG9vayBpbnRvIHRoZSBwYXJlbnQgY29uc3RydWN0b3IgYmVmb3JlIHRoZSBmb3VuZGF0aW9uIGlzXG4gICAgICAgIC8vIGluaXRpYWxpemVkLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYmVzaWRlcyByb290IGFuZCBmb3VuZGF0aW9uIHdpbGwgYmUgcGFzc2VkIGluIGhlcmUuXG4gICAgfTtcbiAgICBNRENDb21wb25lbnQucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIG11c3Qgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGEgcHJvcGVybHkgY29uZmlndXJlZCBmb3VuZGF0aW9uIGNsYXNzIGZvciB0aGVcbiAgICAgICAgLy8gY29tcG9uZW50LlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSBnZXREZWZhdWx0Rm91bmRhdGlvbiB0byByZXR1cm4gYSBwcm9wZXJseSBjb25maWd1cmVkICcgK1xuICAgICAgICAgICAgJ2ZvdW5kYXRpb24gY2xhc3MnKTtcbiAgICB9O1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbFN5bmNXaXRoRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBpZiB0aGV5IG5lZWQgdG8gcGVyZm9ybSB3b3JrIHRvIHN5bmNocm9uaXplIHdpdGggYSBob3N0IERPTVxuICAgICAgICAvLyBvYmplY3QuIEFuIGV4YW1wbGUgb2YgdGhpcyB3b3VsZCBiZSBhIGZvcm0gY29udHJvbCB3cmFwcGVyIHRoYXQgbmVlZHMgdG8gc3luY2hyb25pemUgaXRzIGludGVybmFsIHN0YXRlXG4gICAgICAgIC8vIHRvIHNvbWUgcHJvcGVydHkgb3IgYXR0cmlidXRlIG9mIHRoZSBob3N0IERPTS4gUGxlYXNlIG5vdGU6IHRoaXMgaXMgKm5vdCogdGhlIHBsYWNlIHRvIHBlcmZvcm0gRE9NXG4gICAgICAgIC8vIHJlYWRzL3dyaXRlcyB0aGF0IHdvdWxkIGNhdXNlIGxheW91dCAvIHBhaW50LCBhcyB0aGlzIGlzIGNhbGxlZCBzeW5jaHJvbm91c2x5IGZyb20gd2l0aGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICB9O1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU3ViY2xhc3NlcyBtYXkgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJlbGVhc2UgYW55IHJlc291cmNlcyAvIGRlcmVnaXN0ZXIgYW55IGxpc3RlbmVycyB0aGV5IGhhdmVcbiAgICAgICAgLy8gYXR0YWNoZWQuIEFuIGV4YW1wbGUgb2YgdGhpcyBtaWdodCBiZSBkZXJlZ2lzdGVyaW5nIGEgcmVzaXplIGV2ZW50IGZyb20gdGhlIHdpbmRvdyBvYmplY3QuXG4gICAgICAgIHRoaXMuZm91bmRhdGlvbl8uZGVzdHJveSgpO1xuICAgIH07XG4gICAgTURDQ29tcG9uZW50LnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBNRENDb21wb25lbnQucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5yb290Xy5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZXMgYSBjcm9zcy1icm93c2VyLWNvbXBhdGlibGUgY3VzdG9tIGV2ZW50IGZyb20gdGhlIGNvbXBvbmVudCByb290IG9mIHRoZSBnaXZlbiB0eXBlLCB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgICAqL1xuICAgIE1EQ0NvbXBvbmVudC5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldnRUeXBlLCBldnREYXRhLCBzaG91bGRCdWJibGUpIHtcbiAgICAgICAgaWYgKHNob3VsZEJ1YmJsZSA9PT0gdm9pZCAwKSB7IHNob3VsZEJ1YmJsZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBldnQ7XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChldnRUeXBlLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogc2hvdWxkQnViYmxlLFxuICAgICAgICAgICAgICAgIGRldGFpbDogZXZ0RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2dFR5cGUsIHNob3VsZEJ1YmJsZSwgZmFsc2UsIGV2dERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vdF8uZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ0NvbXBvbmVudDtcbn0oKSk7XG5leHBvcnQgeyBNRENDb21wb25lbnQgfTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBNRENDb21wb25lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG52YXIgTURDRm91bmRhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNRENGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHZvaWQgMCkgeyBhZGFwdGVyID0ge307IH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXyA9IGFkYXB0ZXI7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byByZXR1cm4gYW4gb2JqZWN0IHdoaWNoIGV4cG9ydHMgZXZlcnlcbiAgICAgICAgICAgIC8vIENTUyBjbGFzcyB0aGUgZm91bmRhdGlvbiBjbGFzcyBuZWVkcyBhcyBhIHByb3BlcnR5LiBlLmcuIHtBQ1RJVkU6ICdtZGMtY29tcG9uZW50LS1hY3RpdmUnfVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGFsbFxuICAgICAgICAgICAgLy8gc2VtYW50aWMgc3RyaW5ncyBhcyBjb25zdGFudHMuIGUuZy4ge0FSSUFfUk9MRTogJ3RhYmxpc3QnfVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDRm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGFsbFxuICAgICAgICAgICAgLy8gb2YgaXRzIHNlbWFudGljIG51bWJlcnMgYXMgY29uc3RhbnRzLiBlLmcuIHtBTklNQVRJT05fREVMQVlfTVM6IDM1MH1cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0ZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gbWF5IGNob29zZSB0byBpbXBsZW1lbnQgdGhpcyBnZXR0ZXIgaW4gb3JkZXIgdG8gcHJvdmlkZSBhIGNvbnZlbmllbnRcbiAgICAgICAgICAgIC8vIHdheSBvZiB2aWV3aW5nIHRoZSBuZWNlc3NhcnkgbWV0aG9kcyBvZiBhbiBhZGFwdGVyLiBJbiB0aGUgZnV0dXJlLCB0aGlzIGNvdWxkIGFsc28gYmUgdXNlZCBmb3IgYWRhcHRlclxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbi5cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDRm91bmRhdGlvbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBpbml0aWFsaXphdGlvbiByb3V0aW5lcyAocmVnaXN0ZXJpbmcgZXZlbnRzLCBldGMuKVxuICAgIH07XG4gICAgTURDRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBkZS1pbml0aWFsaXphdGlvbiByb3V0aW5lcyAoZGUtcmVnaXN0ZXJpbmcgZXZlbnRzLCBldGMuKVxuICAgIH07XG4gICAgcmV0dXJuIE1EQ0ZvdW5kYXRpb247XG59KCkpO1xuZXhwb3J0IHsgTURDRm91bmRhdGlvbiB9O1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWRlZmF1bHQtZXhwb3J0IE5lZWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIE1EQyBXZWIgdjAuNDQuMCBhbmQgZWFybGllci5cbmV4cG9ydCBkZWZhdWx0IE1EQ0ZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0NvbXBvbmVudCB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBNRENDaGlwIH0gZnJvbSAnLi4vY2hpcC9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDQ2hpcEZvdW5kYXRpb24gfSBmcm9tICcuLi9jaGlwL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgTURDQ2hpcFNldEZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIF9hID0gTURDQ2hpcEZvdW5kYXRpb24uc3RyaW5ncywgSU5URVJBQ1RJT05fRVZFTlQgPSBfYS5JTlRFUkFDVElPTl9FVkVOVCwgU0VMRUNUSU9OX0VWRU5UID0gX2EuU0VMRUNUSU9OX0VWRU5ULCBSRU1PVkFMX0VWRU5UID0gX2EuUkVNT1ZBTF9FVkVOVCwgTkFWSUdBVElPTl9FVkVOVCA9IF9hLk5BVklHQVRJT05fRVZFTlQ7XG52YXIgQ0hJUF9TRUxFQ1RPUiA9IE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnN0cmluZ3MuQ0hJUF9TRUxFQ1RPUjtcbnZhciBpZENvdW50ZXIgPSAwO1xudmFyIE1EQ0NoaXBTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDQ2hpcFNldCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENDaGlwU2V0KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE1EQ0NoaXBTZXQuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ0NoaXBTZXQocm9vdCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDQ2hpcFNldC5wcm90b3R5cGUsIFwiY2hpcHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaXBzXy5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDQ2hpcFNldC5wcm90b3R5cGUsIFwic2VsZWN0ZWRDaGlwSWRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gQW4gYXJyYXkgb2YgdGhlIElEcyBvZiBhbGwgc2VsZWN0ZWQgY2hpcHMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb25fLmdldFNlbGVjdGVkQ2hpcElkcygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY2hpcEZhY3RvcnkgQSBmdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IE1EQ0NoaXAuXG4gICAgICovXG4gICAgTURDQ2hpcFNldC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChjaGlwRmFjdG9yeSkge1xuICAgICAgICBpZiAoY2hpcEZhY3RvcnkgPT09IHZvaWQgMCkgeyBjaGlwRmFjdG9yeSA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gbmV3IE1EQ0NoaXAoZWwpOyB9OyB9XG4gICAgICAgIHRoaXMuY2hpcEZhY3RvcnlfID0gY2hpcEZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY2hpcHNfID0gdGhpcy5pbnN0YW50aWF0ZUNoaXBzXyh0aGlzLmNoaXBGYWN0b3J5Xyk7XG4gICAgfTtcbiAgICBNRENDaGlwU2V0LnByb3RvdHlwZS5pbml0aWFsU3luY1dpdGhET00gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2hpcHNfLmZvckVhY2goZnVuY3Rpb24gKGNoaXApIHtcbiAgICAgICAgICAgIGlmIChjaGlwLmlkICYmIGNoaXAuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3VuZGF0aW9uXy5zZWxlY3QoY2hpcC5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZUNoaXBJbnRlcmFjdGlvbl8gPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5mb3VuZGF0aW9uXy5oYW5kbGVDaGlwSW50ZXJhY3Rpb24oZXZ0LmRldGFpbC5jaGlwSWQpOyB9O1xuICAgICAgICB0aGlzLmhhbmRsZUNoaXBTZWxlY3Rpb25fID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgX3RoaXMuZm91bmRhdGlvbl8uaGFuZGxlQ2hpcFNlbGVjdGlvbihldnQuZGV0YWlsLmNoaXBJZCwgZXZ0LmRldGFpbC5zZWxlY3RlZCwgZXZ0LmRldGFpbC5zaG91bGRJZ25vcmUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZUNoaXBSZW1vdmFsXyA9IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIF90aGlzLmZvdW5kYXRpb25fLmhhbmRsZUNoaXBSZW1vdmFsKGV2dC5kZXRhaWwuY2hpcElkKTsgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGlwTmF2aWdhdGlvbl8gPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5mb3VuZGF0aW9uXy5oYW5kbGVDaGlwTmF2aWdhdGlvbihldnQuZGV0YWlsLmNoaXBJZCwgZXZ0LmRldGFpbC5rZXksIGV2dC5kZXRhaWwuc291cmNlKTsgfTtcbiAgICAgICAgdGhpcy5saXN0ZW4oSU5URVJBQ1RJT05fRVZFTlQsIHRoaXMuaGFuZGxlQ2hpcEludGVyYWN0aW9uXyk7XG4gICAgICAgIHRoaXMubGlzdGVuKFNFTEVDVElPTl9FVkVOVCwgdGhpcy5oYW5kbGVDaGlwU2VsZWN0aW9uXyk7XG4gICAgICAgIHRoaXMubGlzdGVuKFJFTU9WQUxfRVZFTlQsIHRoaXMuaGFuZGxlQ2hpcFJlbW92YWxfKTtcbiAgICAgICAgdGhpcy5saXN0ZW4oTkFWSUdBVElPTl9FVkVOVCwgdGhpcy5oYW5kbGVDaGlwTmF2aWdhdGlvbl8pO1xuICAgIH07XG4gICAgTURDQ2hpcFNldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGlwc18uZm9yRWFjaChmdW5jdGlvbiAoY2hpcCkge1xuICAgICAgICAgICAgY2hpcC5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVubGlzdGVuKElOVEVSQUNUSU9OX0VWRU5ULCB0aGlzLmhhbmRsZUNoaXBJbnRlcmFjdGlvbl8pO1xuICAgICAgICB0aGlzLnVubGlzdGVuKFNFTEVDVElPTl9FVkVOVCwgdGhpcy5oYW5kbGVDaGlwU2VsZWN0aW9uXyk7XG4gICAgICAgIHRoaXMudW5saXN0ZW4oUkVNT1ZBTF9FVkVOVCwgdGhpcy5oYW5kbGVDaGlwUmVtb3ZhbF8pO1xuICAgICAgICB0aGlzLnVubGlzdGVuKE5BVklHQVRJT05fRVZFTlQsIHRoaXMuaGFuZGxlQ2hpcE5hdmlnYXRpb25fKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGNoaXAgb2JqZWN0IHRvIHRoZSBjaGlwIHNldCBmcm9tIHRoZSBnaXZlbiBjaGlwIGVsZW1lbnQuXG4gICAgICovXG4gICAgTURDQ2hpcFNldC5wcm90b3R5cGUuYWRkQ2hpcCA9IGZ1bmN0aW9uIChjaGlwRWwpIHtcbiAgICAgICAgY2hpcEVsLmlkID0gY2hpcEVsLmlkIHx8IFwibWRjLWNoaXAtXCIgKyArK2lkQ291bnRlcjtcbiAgICAgICAgdGhpcy5jaGlwc18ucHVzaCh0aGlzLmNoaXBGYWN0b3J5XyhjaGlwRWwpKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBTZXQucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgZm9jdXNDaGlwUHJpbWFyeUFjdGlvbkF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaXBzX1tpbmRleF0uZm9jdXNQcmltYXJ5QWN0aW9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9jdXNDaGlwVHJhaWxpbmdBY3Rpb25BdEluZGV4OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jaGlwc19baW5kZXhdLmZvY3VzVHJhaWxpbmdBY3Rpb24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRDaGlwTGlzdENvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jaGlwc18ubGVuZ3RoOyB9LFxuICAgICAgICAgICAgZ2V0SW5kZXhPZkNoaXBCeUlkOiBmdW5jdGlvbiAoY2hpcElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZpbmRDaGlwSW5kZXhfKGNoaXBJZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3RfLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgaXNSVEw6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF90aGlzLnJvb3RfKS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSA9PT0gJ3J0bCc7IH0sXG4gICAgICAgICAgICByZW1vdmVDaGlwQXRJbmRleDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCBfdGhpcy5jaGlwc18ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNoaXBzX1tpbmRleF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGlwc19baW5kZXhdLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGlwc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlRm9jdXNGcm9tQ2hpcEF0SW5kZXg6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNoaXBzX1tpbmRleF0ucmVtb3ZlRm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3RDaGlwQXRJbmRleDogZnVuY3Rpb24gKGluZGV4LCBzZWxlY3RlZCwgc2hvdWxkTm90aWZ5Q2xpZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgX3RoaXMuY2hpcHNfLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGlwc19baW5kZXhdLnNldFNlbGVjdGVkRnJvbUNoaXBTZXQoc2VsZWN0ZWQsIHNob3VsZE5vdGlmeUNsaWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgTURDQ2hpcFNldEZvdW5kYXRpb24oYWRhcHRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgY2hpcCBjb21wb25lbnRzIG9uIGFsbCBvZiB0aGUgY2hpcCBzZXQncyBjaGlsZCBjaGlwIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXQucHJvdG90eXBlLmluc3RhbnRpYXRlQ2hpcHNfID0gZnVuY3Rpb24gKGNoaXBGYWN0b3J5KSB7XG4gICAgICAgIHZhciBjaGlwRWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvckFsbChDSElQX1NFTEVDVE9SKSk7XG4gICAgICAgIHJldHVybiBjaGlwRWxlbWVudHMubWFwKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwuaWQgPSBlbC5pZCB8fCBcIm1kYy1jaGlwLVwiICsgKytpZENvdW50ZXI7XG4gICAgICAgICAgICByZXR1cm4gY2hpcEZhY3RvcnkoZWwpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjaGlwIHdpdGggdGhlIGdpdmVuIGlkLCBvciAtMSBpZiB0aGUgY2hpcCBkb2VzIG5vdCBleGlzdC5cbiAgICAgKi9cbiAgICBNRENDaGlwU2V0LnByb3RvdHlwZS5maW5kQ2hpcEluZGV4XyA9IGZ1bmN0aW9uIChjaGlwSWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaXBzXy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpcHNfW2ldLmlkID09PSBjaGlwSWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICByZXR1cm4gTURDQ2hpcFNldDtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENDaGlwU2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5leHBvcnQgdmFyIHN0cmluZ3MgPSB7XG4gICAgQ0hJUF9TRUxFQ1RPUjogJy5tZGMtY2hpcCcsXG59O1xuZXhwb3J0IHZhciBjc3NDbGFzc2VzID0ge1xuICAgIENIT0lDRTogJ21kYy1jaGlwLXNldC0tY2hvaWNlJyxcbiAgICBGSUxURVI6ICdtZGMtY2hpcC1zZXQtLWZpbHRlcicsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE1EQ0ZvdW5kYXRpb24gfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9mb3VuZGF0aW9uJztcbmltcG9ydCB7IERpcmVjdGlvbiwgRXZlbnRTb3VyY2UsIGp1bXBDaGlwS2V5cywgbmF2aWdhdGlvbktleXMsIHN0cmluZ3MgYXMgY2hpcFN0cmluZ3MgfSBmcm9tICcuLi9jaGlwL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xudmFyIE1EQ0NoaXBTZXRGb3VuZGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1EQ0NoaXBTZXRGb3VuZGF0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1EQ0NoaXBTZXRGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHNsaWJfMS5fX2Fzc2lnbih7fSwgTURDQ2hpcFNldEZvdW5kYXRpb24uZGVmYXVsdEFkYXB0ZXIsIGFkYXB0ZXIpKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyBvZiB0aGUgc2VsZWN0ZWQgY2hpcHMgaW4gdGhlIHNldC4gT25seSB1c2VkIGZvciBjaG9pY2UgY2hpcCBzZXQgb3IgZmlsdGVyIGNoaXAgc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuc2VsZWN0ZWRDaGlwSWRzXyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwU2V0Rm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0NoaXBTZXRGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDQ2hpcFNldEZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9jdXNDaGlwUHJpbWFyeUFjdGlvbkF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBmb2N1c0NoaXBUcmFpbGluZ0FjdGlvbkF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRDaGlwTGlzdENvdW50OiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMTsgfSxcbiAgICAgICAgICAgICAgICBnZXRJbmRleE9mQ2hpcEJ5SWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIC0xOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc1JUTDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2hpcEF0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVGb2N1c0Zyb21DaGlwQXRJbmRleDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNlbGVjdENoaXBBdEluZGV4OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBJRHMgb2YgYWxsIHNlbGVjdGVkIGNoaXBzLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXRTZWxlY3RlZENoaXBJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ2hpcElkc18uc2xpY2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGNoaXAgd2l0aCB0aGUgZ2l2ZW4gaWQuIERlc2VsZWN0cyBhbGwgb3RoZXIgY2hpcHMgaWYgdGhlIGNoaXAgc2V0IGlzIG9mIHRoZSBjaG9pY2UgdmFyaWFudC5cbiAgICAgKiBEb2VzIG5vdCBub3RpZnkgY2xpZW50cyBvZiB0aGUgdXBkYXRlZCBzZWxlY3Rpb24gc3RhdGUuXG4gICAgICovXG4gICAgTURDQ2hpcFNldEZvdW5kYXRpb24ucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChjaGlwSWQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RfKGNoaXBJZCwgZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGNoaXAgaW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgKi9cbiAgICBNRENDaGlwU2V0Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlQ2hpcEludGVyYWN0aW9uID0gZnVuY3Rpb24gKGNoaXBJZCkge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldEluZGV4T2ZDaGlwQnlJZChjaGlwSWQpO1xuICAgICAgICB0aGlzLnJlbW92ZUZvY3VzRnJvbUNoaXBzRXhjZXB0XyhpbmRleCk7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuQ0hPSUNFKSB8fCB0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuRklMVEVSKSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3RfKGNoaXBJZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBjaGlwIHNlbGVjdGlvbiBldmVudCwgdXNlZCB0byBoYW5kbGUgZGlzY3JlcGFuY3kgd2hlbiBzZWxlY3Rpb24gc3RhdGUgaXMgc2V0IGRpcmVjdGx5IG9uIHRoZSBDaGlwLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVDaGlwU2VsZWN0aW9uID0gZnVuY3Rpb24gKGNoaXBJZCwgc2VsZWN0ZWQsIHNob3VsZElnbm9yZSkge1xuICAgICAgICAvLyBFYXJseSBleGl0IGlmIHdlIHNob3VsZCBpZ25vcmUgdGhlIGV2ZW50XG4gICAgICAgIGlmIChzaG91bGRJZ25vcmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpcElzU2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkQ2hpcElkc18uaW5kZXhPZihjaGlwSWQpID49IDA7XG4gICAgICAgIGlmIChzZWxlY3RlZCAmJiAhY2hpcElzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KGNoaXBJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXNlbGVjdGVkICYmIGNoaXBJc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0XyhjaGlwSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBldmVudCB3aGVuIGEgY2hpcCBpcyByZW1vdmVkLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVDaGlwUmVtb3ZhbCA9IGZ1bmN0aW9uIChjaGlwSWQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hZGFwdGVyXy5nZXRJbmRleE9mQ2hpcEJ5SWQoY2hpcElkKTtcbiAgICAgICAgdGhpcy5kZXNlbGVjdEFuZE5vdGlmeUNsaWVudHNfKGNoaXBJZCk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2hpcEF0SW5kZXgoaW5kZXgpO1xuICAgICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldENoaXBMaXN0Q291bnQoKSAtIDE7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBNYXRoLm1pbihpbmRleCwgbWF4SW5kZXgpO1xuICAgICAgICB0aGlzLnJlbW92ZUZvY3VzRnJvbUNoaXBzRXhjZXB0XyhuZXh0SW5kZXgpO1xuICAgICAgICAvLyBBZnRlciByZW1vdmluZyBhIGNoaXAsIHdlIHNob3VsZCBmb2N1cyB0aGUgdHJhaWxpbmcgYWN0aW9uIGZvciB0aGUgbmV4dCBjaGlwLlxuICAgICAgICB0aGlzLmFkYXB0ZXJfLmZvY3VzQ2hpcFRyYWlsaW5nQWN0aW9uQXRJbmRleChuZXh0SW5kZXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGNoaXAgbmF2aWdhdGlvbiBldmVudC5cbiAgICAgKi9cbiAgICBNRENDaGlwU2V0Rm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlQ2hpcE5hdmlnYXRpb24gPSBmdW5jdGlvbiAoY2hpcElkLCBrZXksIHNvdXJjZSkge1xuICAgICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldENoaXBMaXN0Q291bnQoKSAtIDE7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0SW5kZXhPZkNoaXBCeUlkKGNoaXBJZCk7XG4gICAgICAgIC8vIEVhcmx5IGV4aXQgaWYgdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZSBvciB0aGUga2V5IGlzIHVudXNhYmxlXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEgfHwgIW5hdmlnYXRpb25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzUlRMID0gdGhpcy5hZGFwdGVyXy5pc1JUTCgpO1xuICAgICAgICB2YXIgc2hvdWxkSW5jcmVtZW50ID0ga2V5ID09PSBjaGlwU3RyaW5ncy5BUlJPV19SSUdIVF9LRVkgJiYgIWlzUlRMXG4gICAgICAgICAgICB8fCBrZXkgPT09IGNoaXBTdHJpbmdzLkFSUk9XX0xFRlRfS0VZICYmIGlzUlRMXG4gICAgICAgICAgICB8fCBrZXkgPT09IGNoaXBTdHJpbmdzLkFSUk9XX0RPV05fS0VZO1xuICAgICAgICB2YXIgaXNIb21lID0ga2V5ID09PSBjaGlwU3RyaW5ncy5IT01FX0tFWTtcbiAgICAgICAgdmFyIGlzRW5kID0ga2V5ID09PSBjaGlwU3RyaW5ncy5FTkRfS0VZO1xuICAgICAgICBpZiAoc2hvdWxkSW5jcmVtZW50KSB7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSG9tZSkge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICBpbmRleCA9IG1heEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFYXJseSBleGl0IGlmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzXG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiBtYXhJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlRm9jdXNGcm9tQ2hpcHNFeGNlcHRfKGluZGV4KTtcbiAgICAgICAgdGhpcy5mb2N1c0NoaXBBY3Rpb25fKGluZGV4LCBrZXksIHNvdXJjZSk7XG4gICAgfTtcbiAgICBNRENDaGlwU2V0Rm91bmRhdGlvbi5wcm90b3R5cGUuZm9jdXNDaGlwQWN0aW9uXyA9IGZ1bmN0aW9uIChpbmRleCwga2V5LCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIHNob3VsZEp1bXBDaGlwcyA9IGp1bXBDaGlwS2V5cy5oYXMoa2V5KTtcbiAgICAgICAgaWYgKHNob3VsZEp1bXBDaGlwcyAmJiBzb3VyY2UgPT09IEV2ZW50U291cmNlLlBSSU1BUlkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmZvY3VzQ2hpcFByaW1hcnlBY3Rpb25BdEluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkSnVtcENoaXBzICYmIHNvdXJjZSA9PT0gRXZlbnRTb3VyY2UuVFJBSUxJTkcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmZvY3VzQ2hpcFRyYWlsaW5nQWN0aW9uQXRJbmRleChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpciA9IHRoaXMuZ2V0RGlyZWN0aW9uXyhrZXkpO1xuICAgICAgICBpZiAoZGlyID09PSBEaXJlY3Rpb24uTEVGVCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlcl8uZm9jdXNDaGlwVHJhaWxpbmdBY3Rpb25BdEluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlyID09PSBEaXJlY3Rpb24uUklHSFQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmZvY3VzQ2hpcFByaW1hcnlBY3Rpb25BdEluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDQ2hpcFNldEZvdW5kYXRpb24ucHJvdG90eXBlLmdldERpcmVjdGlvbl8gPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBpc1JUTCA9IHRoaXMuYWRhcHRlcl8uaXNSVEwoKTtcbiAgICAgICAgaWYgKGtleSA9PT0gY2hpcFN0cmluZ3MuQVJST1dfTEVGVF9LRVkgJiYgIWlzUlRMIHx8IGtleSA9PT0gY2hpcFN0cmluZ3MuQVJST1dfUklHSFRfS0VZICYmIGlzUlRMKSB7XG4gICAgICAgICAgICByZXR1cm4gRGlyZWN0aW9uLkxFRlQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERpcmVjdGlvbi5SSUdIVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2VsZWN0cyB0aGUgY2hpcCB3aXRoIHRoZSBnaXZlbiBpZCBhbmQgb3B0aW9uYWxseSBub3RpZmllcyBjbGllbnRzLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXNlbGVjdF8gPSBmdW5jdGlvbiAoY2hpcElkLCBzaG91bGROb3RpZnlDbGllbnRzKSB7XG4gICAgICAgIGlmIChzaG91bGROb3RpZnlDbGllbnRzID09PSB2b2lkIDApIHsgc2hvdWxkTm90aWZ5Q2xpZW50cyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuc2VsZWN0ZWRDaGlwSWRzXy5pbmRleE9mKGNoaXBJZCk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2hpcElkc18uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHZhciBjaGlwSW5kZXggPSB0aGlzLmFkYXB0ZXJfLmdldEluZGV4T2ZDaGlwQnlJZChjaGlwSWQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZWxlY3RDaGlwQXRJbmRleChjaGlwSW5kZXgsIC8qKiBpc1NlbGVjdGVkICovIGZhbHNlLCBzaG91bGROb3RpZnlDbGllbnRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzZWxlY3RzIHRoZSBjaGlwIHdpdGggdGhlIGdpdmVuIGlkIGFuZCBub3RpZmllcyBjbGllbnRzLlxuICAgICAqL1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXNlbGVjdEFuZE5vdGlmeUNsaWVudHNfID0gZnVuY3Rpb24gKGNoaXBJZCkge1xuICAgICAgICB0aGlzLmRlc2VsZWN0XyhjaGlwSWQsIHRydWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBzZWxlY3Rpb24gb2YgdGhlIGNoaXAgd2l0aCB0aGUgZ2l2ZW4gaWQuXG4gICAgICovXG4gICAgTURDQ2hpcFNldEZvdW5kYXRpb24ucHJvdG90eXBlLnRvZ2dsZVNlbGVjdF8gPSBmdW5jdGlvbiAoY2hpcElkKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2hpcElkc18uaW5kZXhPZihjaGlwSWQpID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzZWxlY3RBbmROb3RpZnlDbGllbnRzXyhjaGlwSWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RBbmROb3RpZnlDbGllbnRzXyhjaGlwSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENDaGlwU2V0Rm91bmRhdGlvbi5wcm90b3R5cGUucmVtb3ZlRm9jdXNGcm9tQ2hpcHNFeGNlcHRfID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBjaGlwQ291bnQgPSB0aGlzLmFkYXB0ZXJfLmdldENoaXBMaXN0Q291bnQoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlwQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5yZW1vdmVGb2N1c0Zyb21DaGlwQXRJbmRleChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDQ2hpcFNldEZvdW5kYXRpb24ucHJvdG90eXBlLnNlbGVjdEFuZE5vdGlmeUNsaWVudHNfID0gZnVuY3Rpb24gKGNoaXBJZCkge1xuICAgICAgICB0aGlzLnNlbGVjdF8oY2hpcElkLCB0cnVlKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBTZXRGb3VuZGF0aW9uLnByb3RvdHlwZS5zZWxlY3RfID0gZnVuY3Rpb24gKGNoaXBJZCwgc2hvdWxkTm90aWZ5Q2xpZW50cykge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZENoaXBJZHNfLmluZGV4T2YoY2hpcElkKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5DSE9JQ0UpICYmIHRoaXMuc2VsZWN0ZWRDaGlwSWRzXy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNseVNlbGVjdGVkQ2hpcCA9IHRoaXMuc2VsZWN0ZWRDaGlwSWRzX1swXTtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWRJbmRleCA9IHRoaXMuYWRhcHRlcl8uZ2V0SW5kZXhPZkNoaXBCeUlkKHByZXZpb3VzbHlTZWxlY3RlZENoaXApO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoaXBJZHNfID0gW107XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNlbGVjdENoaXBBdEluZGV4KHByZXZpb3VzbHlTZWxlY3RlZEluZGV4LCAvKiogaXNTZWxlY3RlZCAqLyBmYWxzZSwgc2hvdWxkTm90aWZ5Q2xpZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZENoaXBJZHNfLnB1c2goY2hpcElkKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hZGFwdGVyXy5nZXRJbmRleE9mQ2hpcEJ5SWQoY2hpcElkKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZWxlY3RDaGlwQXRJbmRleChpbmRleCwgLyoqIGlzU2VsZWN0ZWQgKi8gdHJ1ZSwgc2hvdWxkTm90aWZ5Q2xpZW50cyk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDQ2hpcFNldEZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ0NoaXBTZXRGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDQ2hpcFNldEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9mb3VuZGF0aW9uJztcbmV4cG9ydCB7IGNzc0NsYXNzZXMgYXMgY2hpcFNldENzc0NsYXNzZXMsIHN0cmluZ3MgYXMgY2hpcFNldFN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgTURDUmlwcGxlRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9yaXBwbGUvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTURDQ2hpcEZvdW5kYXRpb24gfSBmcm9tICcuL2ZvdW5kYXRpb24nO1xudmFyIElOVEVSQUNUSU9OX0VWRU5UUyA9IFsnY2xpY2snLCAna2V5ZG93biddO1xudmFyIE1EQ0NoaXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDQ2hpcCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENDaGlwKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwLnByb3RvdHlwZSwgXCJzZWxlY3RlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhlIGNoaXAgaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvdW5kYXRpb25fLmlzU2VsZWN0ZWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgc2VsZWN0ZWQgc3RhdGUgb24gdGhlIGNoaXAuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5zZXRTZWxlY3RlZChzZWxlY3RlZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwLnByb3RvdHlwZSwgXCJzaG91bGRSZW1vdmVPblRyYWlsaW5nSWNvbkNsaWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gV2hldGhlciBhIHRyYWlsaW5nIGljb24gY2xpY2sgc2hvdWxkIHRyaWdnZXIgZXhpdC9yZW1vdmFsIG9mIHRoZSBjaGlwLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3VuZGF0aW9uXy5nZXRTaG91bGRSZW1vdmVPblRyYWlsaW5nSWNvbkNsaWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHdoZXRoZXIgYSB0cmFpbGluZyBpY29uIGNsaWNrIHNob3VsZCB0cmlnZ2VyIGV4aXQvcmVtb3ZhbCBvZiB0aGUgY2hpcC5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5zZXRTaG91bGRSZW1vdmVPblRyYWlsaW5nSWNvbkNsaWNrKHNob3VsZFJlbW92ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwLnByb3RvdHlwZSwgXCJyaXBwbGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJpcHBsZV87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwLnByb3RvdHlwZSwgXCJpZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdF8uaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ0NoaXAuYXR0YWNoVG8gPSBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByZXR1cm4gbmV3IE1EQ0NoaXAocm9vdCk7XG4gICAgfTtcbiAgICBNRENDaGlwLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHJpcHBsZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHJpcHBsZUZhY3RvcnkgPT09IHZvaWQgMCkgeyByaXBwbGVGYWN0b3J5ID0gZnVuY3Rpb24gKGVsLCBmb3VuZGF0aW9uKSB7IHJldHVybiBuZXcgTURDUmlwcGxlKGVsLCBmb3VuZGF0aW9uKTsgfTsgfVxuICAgICAgICB0aGlzLmxlYWRpbmdJY29uXyA9IHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvcihzdHJpbmdzLkxFQURJTkdfSUNPTl9TRUxFQ1RPUik7XG4gICAgICAgIHRoaXMudHJhaWxpbmdJY29uXyA9IHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvcihzdHJpbmdzLlRSQUlMSU5HX0lDT05fU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLmNoZWNrbWFya18gPSB0aGlzLnJvb3RfLnF1ZXJ5U2VsZWN0b3Ioc3RyaW5ncy5DSEVDS01BUktfU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLnByaW1hcnlBY3Rpb25fID0gdGhpcy5yb290Xy5xdWVyeVNlbGVjdG9yKHN0cmluZ3MuUFJJTUFSWV9BQ1RJT05fU0VMRUNUT1IpO1xuICAgICAgICB0aGlzLnRyYWlsaW5nQWN0aW9uXyA9IHRoaXMucm9vdF8ucXVlcnlTZWxlY3RvcihzdHJpbmdzLlRSQUlMSU5HX0FDVElPTl9TRUxFQ1RPUik7XG4gICAgICAgIC8vIERPIE5PVCBJTkxJTkUgdGhpcyB2YXJpYWJsZS4gRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGZvdW5kYXRpb25zIHRha2UgYSBQYXJ0aWFsPE1EQ0Zvb0FkYXB0ZXI+LlxuICAgICAgICAvLyBUbyBlbnN1cmUgd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IG9taXQgYW55IG1ldGhvZHMsIHdlIG5lZWQgYSBzZXBhcmF0ZSwgc3Ryb25nbHkgdHlwZWQgYWRhcHRlciB2YXJpYWJsZS5cbiAgICAgICAgdmFyIHJpcHBsZUFkYXB0ZXIgPSB0c2xpYl8xLl9fYXNzaWduKHt9LCBNRENSaXBwbGUuY3JlYXRlQWRhcHRlcih0aGlzKSwgeyBjb21wdXRlQm91bmRpbmdSZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mb3VuZGF0aW9uXy5nZXREaW1lbnNpb25zKCk7IH0gfSk7XG4gICAgICAgIHRoaXMucmlwcGxlXyA9IHJpcHBsZUZhY3RvcnkodGhpcy5yb290XywgbmV3IE1EQ1JpcHBsZUZvdW5kYXRpb24ocmlwcGxlQWRhcHRlcikpO1xuICAgIH07XG4gICAgTURDQ2hpcC5wcm90b3R5cGUuaW5pdGlhbFN5bmNXaXRoRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmhhbmRsZUludGVyYWN0aW9uXyA9IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIF90aGlzLmZvdW5kYXRpb25fLmhhbmRsZUludGVyYWN0aW9uKGV2dCk7IH07XG4gICAgICAgIHRoaXMuaGFuZGxlVHJhbnNpdGlvbkVuZF8gPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5mb3VuZGF0aW9uXy5oYW5kbGVUcmFuc2l0aW9uRW5kKGV2dCk7IH07XG4gICAgICAgIHRoaXMuaGFuZGxlVHJhaWxpbmdJY29uSW50ZXJhY3Rpb25fID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZvdW5kYXRpb25fLmhhbmRsZVRyYWlsaW5nSWNvbkludGVyYWN0aW9uKGV2dCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlS2V5ZG93bl8gPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5mb3VuZGF0aW9uXy5oYW5kbGVLZXlkb3duKGV2dCk7IH07XG4gICAgICAgIElOVEVSQUNUSU9OX0VWRU5UUy5mb3JFYWNoKGZ1bmN0aW9uIChldnRUeXBlKSB7XG4gICAgICAgICAgICBfdGhpcy5saXN0ZW4oZXZ0VHlwZSwgX3RoaXMuaGFuZGxlSW50ZXJhY3Rpb25fKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdGVuKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5oYW5kbGVUcmFuc2l0aW9uRW5kXyk7XG4gICAgICAgIHRoaXMubGlzdGVuKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duXyk7XG4gICAgICAgIGlmICh0aGlzLnRyYWlsaW5nSWNvbl8pIHtcbiAgICAgICAgICAgIElOVEVSQUNUSU9OX0VWRU5UUy5mb3JFYWNoKGZ1bmN0aW9uIChldnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdJY29uXy5hZGRFdmVudExpc3RlbmVyKGV2dFR5cGUsIF90aGlzLmhhbmRsZVRyYWlsaW5nSWNvbkludGVyYWN0aW9uXyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDQ2hpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yaXBwbGVfLmRlc3Ryb3koKTtcbiAgICAgICAgSU5URVJBQ1RJT05fRVZFTlRTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgIF90aGlzLnVubGlzdGVuKGV2dFR5cGUsIF90aGlzLmhhbmRsZUludGVyYWN0aW9uXyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVubGlzdGVuKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5oYW5kbGVUcmFuc2l0aW9uRW5kXyk7XG4gICAgICAgIHRoaXMudW5saXN0ZW4oJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd25fKTtcbiAgICAgICAgaWYgKHRoaXMudHJhaWxpbmdJY29uXykge1xuICAgICAgICAgICAgSU5URVJBQ1RJT05fRVZFTlRTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50cmFpbGluZ0ljb25fLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgX3RoaXMuaGFuZGxlVHJhaWxpbmdJY29uSW50ZXJhY3Rpb25fKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmVnaW5zIHRoZSBleGl0IGFuaW1hdGlvbiB3aGljaCBsZWFkcyB0byByZW1vdmFsIG9mIHRoZSBjaGlwLlxuICAgICAqL1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLmJlZ2luRXhpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5iZWdpbkV4aXQoKTtcbiAgICB9O1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLmdldERlZmF1bHRGb3VuZGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBETyBOT1QgSU5MSU5FIHRoaXMgdmFyaWFibGUuIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBmb3VuZGF0aW9ucyB0YWtlIGEgUGFydGlhbDxNRENGb29BZGFwdGVyPi5cbiAgICAgICAgLy8gVG8gZW5zdXJlIHdlIGRvbid0IGFjY2lkZW50YWxseSBvbWl0IGFueSBtZXRob2RzLCB3ZSBuZWVkIGEgc2VwYXJhdGUsIHN0cm9uZ2x5IHR5cGVkIGFkYXB0ZXIgdmFyaWFibGUuXG4gICAgICAgIHZhciBhZGFwdGVyID0ge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLnJvb3RfLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIGFkZENsYXNzVG9MZWFkaW5nSWNvbjogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5sZWFkaW5nSWNvbl8pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGVhZGluZ0ljb25fLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRUYXJnZXRIYXNDbGFzczogZnVuY3Rpb24gKHRhcmdldCwgY2xhc3NOYW1lKSB7IHJldHVybiB0YXJnZXQgPyB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOiBmYWxzZTsgfSxcbiAgICAgICAgICAgIGZvY3VzUHJpbWFyeUFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wcmltYXJ5QWN0aW9uXykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmltYXJ5QWN0aW9uXy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1c1RyYWlsaW5nQWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnRyYWlsaW5nQWN0aW9uXykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmFpbGluZ0FjdGlvbl8uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2hlY2ttYXJrQm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jaGVja21hcmtfID8gX3RoaXMuY2hlY2ttYXJrXy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGw7IH0sXG4gICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlVmFsdWU6IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHsgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF90aGlzLnJvb3RfKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5TmFtZSk7IH0sXG4gICAgICAgICAgICBnZXRSb290Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yb290Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgfSxcbiAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBfdGhpcy5yb290Xy5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsgfSxcbiAgICAgICAgICAgIGhhc0xlYWRpbmdJY29uOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIV90aGlzLmxlYWRpbmdJY29uXzsgfSxcbiAgICAgICAgICAgIGhhc1RyYWlsaW5nQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhIV90aGlzLnRyYWlsaW5nQWN0aW9uXzsgfSxcbiAgICAgICAgICAgIGlzUlRMOiBmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShfdGhpcy5yb290XykuZ2V0UHJvcGVydHlWYWx1ZSgnZGlyZWN0aW9uJykgPT09ICdydGwnOyB9LFxuICAgICAgICAgICAgbm90aWZ5SW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmVtaXQoc3RyaW5ncy5JTlRFUkFDVElPTl9FVkVOVCwgeyBjaGlwSWQ6IF90aGlzLmlkIH0sIHRydWUgLyogc2hvdWxkQnViYmxlICovKTsgfSxcbiAgICAgICAgICAgIG5vdGlmeU5hdmlnYXRpb246IGZ1bmN0aW9uIChrZXksIHNvdXJjZSkgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLk5BVklHQVRJT05fRVZFTlQsIHsgY2hpcElkOiBfdGhpcy5pZCwga2V5OiBrZXksIHNvdXJjZTogc291cmNlIH0sIHRydWUgLyogc2hvdWxkQnViYmxlICovKTsgfSxcbiAgICAgICAgICAgIG5vdGlmeVJlbW92YWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KHN0cmluZ3MuUkVNT1ZBTF9FVkVOVCwgeyBjaGlwSWQ6IF90aGlzLmlkLCByb290OiBfdGhpcy5yb290XyB9LCB0cnVlIC8qIHNob3VsZEJ1YmJsZSAqLyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90aWZ5U2VsZWN0aW9uOiBmdW5jdGlvbiAoc2VsZWN0ZWQsIHNob3VsZElnbm9yZSkgeyByZXR1cm4gX3RoaXMuZW1pdChzdHJpbmdzLlNFTEVDVElPTl9FVkVOVCwgeyBjaGlwSWQ6IF90aGlzLmlkLCBzZWxlY3RlZDogc2VsZWN0ZWQsIHNob3VsZElnbm9yZTogc2hvdWxkSWdub3JlIH0sIHRydWUgLyogc2hvdWxkQnViYmxlICovKTsgfSxcbiAgICAgICAgICAgIG5vdGlmeVRyYWlsaW5nSWNvbkludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5lbWl0KHN0cmluZ3MuVFJBSUxJTkdfSUNPTl9JTlRFUkFDVElPTl9FVkVOVCwgeyBjaGlwSWQ6IF90aGlzLmlkIH0sIHRydWUgLyogc2hvdWxkQnViYmxlICovKTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBfdGhpcy5yb290Xy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICByZW1vdmVDbGFzc0Zyb21MZWFkaW5nSWNvbjogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5sZWFkaW5nSWNvbl8pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubGVhZGluZ0ljb25fLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UHJpbWFyeUFjdGlvbkF0dHI6IGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wcmltYXJ5QWN0aW9uXykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmltYXJ5QWN0aW9uXy5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRTdHlsZVByb3BlcnR5OiBmdW5jdGlvbiAocHJvcGVydHlOYW1lLCB2YWx1ZSkgeyByZXR1cm4gX3RoaXMucm9vdF8uc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHlOYW1lLCB2YWx1ZSk7IH0sXG4gICAgICAgICAgICBzZXRUcmFpbGluZ0FjdGlvbkF0dHI6IGZ1bmN0aW9uIChhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy50cmFpbGluZ0FjdGlvbl8pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhaWxpbmdBY3Rpb25fLnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBNRENDaGlwRm91bmRhdGlvbihhZGFwdGVyKTtcbiAgICB9O1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLnNldFNlbGVjdGVkRnJvbUNoaXBTZXQgPSBmdW5jdGlvbiAoc2VsZWN0ZWQsIHNob3VsZE5vdGlmeUNsaWVudHMpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5zZXRTZWxlY3RlZEZyb21DaGlwU2V0KHNlbGVjdGVkLCBzaG91bGROb3RpZnlDbGllbnRzKTtcbiAgICB9O1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLmZvY3VzUHJpbWFyeUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5mb2N1c1ByaW1hcnlBY3Rpb24oKTtcbiAgICB9O1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLmZvY3VzVHJhaWxpbmdBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbl8uZm9jdXNUcmFpbGluZ0FjdGlvbigpO1xuICAgIH07XG4gICAgTURDQ2hpcC5wcm90b3R5cGUucmVtb3ZlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbl8ucmVtb3ZlRm9jdXMoKTtcbiAgICB9O1xuICAgIE1EQ0NoaXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucm9vdF8ucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMucm9vdF8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTURDQ2hpcDtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENDaGlwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5leHBvcnQgdmFyIERpcmVjdGlvbjtcbihmdW5jdGlvbiAoRGlyZWN0aW9uKSB7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIlJJR0hUXCJdID0gMF0gPSBcIlJJR0hUXCI7XG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIkxFRlRcIl0gPSAxXSA9IFwiTEVGVFwiO1xufSkoRGlyZWN0aW9uIHx8IChEaXJlY3Rpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBFdmVudFNvdXJjZTtcbihmdW5jdGlvbiAoRXZlbnRTb3VyY2UpIHtcbiAgICBFdmVudFNvdXJjZVtFdmVudFNvdXJjZVtcIlBSSU1BUllcIl0gPSAwXSA9IFwiUFJJTUFSWVwiO1xuICAgIEV2ZW50U291cmNlW0V2ZW50U291cmNlW1wiVFJBSUxJTkdcIl0gPSAxXSA9IFwiVFJBSUxJTkdcIjtcbiAgICBFdmVudFNvdXJjZVtFdmVudFNvdXJjZVtcIk5PTkVcIl0gPSAyXSA9IFwiTk9ORVwiO1xufSkoRXZlbnRTb3VyY2UgfHwgKEV2ZW50U291cmNlID0ge30pKTtcbmV4cG9ydCB2YXIgc3RyaW5ncyA9IHtcbiAgICBBUklBX0NIRUNLRUQ6ICdhcmlhLWNoZWNrZWQnLFxuICAgIEFSUk9XX0RPV05fS0VZOiAnQXJyb3dEb3duJyxcbiAgICBBUlJPV19MRUZUX0tFWTogJ0Fycm93TGVmdCcsXG4gICAgQVJST1dfUklHSFRfS0VZOiAnQXJyb3dSaWdodCcsXG4gICAgQVJST1dfVVBfS0VZOiAnQXJyb3dVcCcsXG4gICAgQkFDS1NQQUNFX0tFWTogJ0JhY2tzcGFjZScsXG4gICAgQ0hFQ0tNQVJLX1NFTEVDVE9SOiAnLm1kYy1jaGlwX19jaGVja21hcmsnLFxuICAgIERFTEVURV9LRVk6ICdEZWxldGUnLFxuICAgIEVORF9LRVk6ICdFbmQnLFxuICAgIEVOVEVSX0tFWTogJ0VudGVyJyxcbiAgICBFTlRSWV9BTklNQVRJT05fTkFNRTogJ21kYy1jaGlwLWVudHJ5JyxcbiAgICBIT01FX0tFWTogJ0hvbWUnLFxuICAgIElOVEVSQUNUSU9OX0VWRU5UOiAnTURDQ2hpcDppbnRlcmFjdGlvbicsXG4gICAgTEVBRElOR19JQ09OX1NFTEVDVE9SOiAnLm1kYy1jaGlwX19pY29uLS1sZWFkaW5nJyxcbiAgICBOQVZJR0FUSU9OX0VWRU5UOiAnTURDQ2hpcDpuYXZpZ2F0aW9uJyxcbiAgICBQUklNQVJZX0FDVElPTl9TRUxFQ1RPUjogJy5tZGMtY2hpcF9fcHJpbWFyeS1hY3Rpb24nLFxuICAgIFJFTU9WQUxfRVZFTlQ6ICdNRENDaGlwOnJlbW92YWwnLFxuICAgIFNFTEVDVElPTl9FVkVOVDogJ01EQ0NoaXA6c2VsZWN0aW9uJyxcbiAgICBTUEFDRUJBUl9LRVk6ICcgJyxcbiAgICBUQUJfSU5ERVg6ICd0YWJpbmRleCcsXG4gICAgVFJBSUxJTkdfQUNUSU9OX1NFTEVDVE9SOiAnLm1kYy1jaGlwX190cmFpbGluZy1hY3Rpb24nLFxuICAgIFRSQUlMSU5HX0lDT05fSU5URVJBQ1RJT05fRVZFTlQ6ICdNRENDaGlwOnRyYWlsaW5nSWNvbkludGVyYWN0aW9uJyxcbiAgICBUUkFJTElOR19JQ09OX1NFTEVDVE9SOiAnLm1kYy1jaGlwX19pY29uLS10cmFpbGluZycsXG59O1xuZXhwb3J0IHZhciBjc3NDbGFzc2VzID0ge1xuICAgIENIRUNLTUFSSzogJ21kYy1jaGlwX19jaGVja21hcmsnLFxuICAgIENISVBfRVhJVDogJ21kYy1jaGlwLS1leGl0JyxcbiAgICBERUxFVEFCTEU6ICdtZGMtY2hpcC0tZGVsZXRhYmxlJyxcbiAgICBISURERU5fTEVBRElOR19JQ09OOiAnbWRjLWNoaXBfX2ljb24tLWxlYWRpbmctaGlkZGVuJyxcbiAgICBMRUFESU5HX0lDT046ICdtZGMtY2hpcF9faWNvbi0tbGVhZGluZycsXG4gICAgUFJJTUFSWV9BQ1RJT046ICdtZGMtY2hpcF9fcHJpbWFyeS1hY3Rpb24nLFxuICAgIFNFTEVDVEVEOiAnbWRjLWNoaXAtLXNlbGVjdGVkJyxcbiAgICBURVhUOiAnbWRjLWNoaXBfX3RleHQnLFxuICAgIFRSQUlMSU5HX0FDVElPTjogJ21kYy1jaGlwX190cmFpbGluZy1hY3Rpb24nLFxuICAgIFRSQUlMSU5HX0lDT046ICdtZGMtY2hpcF9faWNvbi0tdHJhaWxpbmcnLFxufTtcbmV4cG9ydCB2YXIgbmF2aWdhdGlvbktleXMgPSBuZXcgU2V0KCk7XG4vLyBJRTExIGhhcyBubyBzdXBwb3J0IGZvciBuZXcgU2V0IHdpdGggaXRlcmFibGUgc28gd2UgbmVlZCB0byBpbml0aWFsaXplIHRoaXMgYnkgaGFuZFxubmF2aWdhdGlvbktleXMuYWRkKHN0cmluZ3MuQVJST1dfTEVGVF9LRVkpO1xubmF2aWdhdGlvbktleXMuYWRkKHN0cmluZ3MuQVJST1dfUklHSFRfS0VZKTtcbm5hdmlnYXRpb25LZXlzLmFkZChzdHJpbmdzLkFSUk9XX0RPV05fS0VZKTtcbm5hdmlnYXRpb25LZXlzLmFkZChzdHJpbmdzLkFSUk9XX1VQX0tFWSk7XG5uYXZpZ2F0aW9uS2V5cy5hZGQoc3RyaW5ncy5FTkRfS0VZKTtcbm5hdmlnYXRpb25LZXlzLmFkZChzdHJpbmdzLkhPTUVfS0VZKTtcbmV4cG9ydCB2YXIganVtcENoaXBLZXlzID0gbmV3IFNldCgpO1xuLy8gSUUxMSBoYXMgbm8gc3VwcG9ydCBmb3IgbmV3IFNldCB3aXRoIGl0ZXJhYmxlIHNvIHdlIG5lZWQgdG8gaW5pdGlhbGl6ZSB0aGlzIGJ5IGhhbmRcbmp1bXBDaGlwS2V5cy5hZGQoc3RyaW5ncy5BUlJPV19VUF9LRVkpO1xuanVtcENoaXBLZXlzLmFkZChzdHJpbmdzLkFSUk9XX0RPV05fS0VZKTtcbmp1bXBDaGlwS2V5cy5hZGQoc3RyaW5ncy5IT01FX0tFWSk7XG5qdW1wQ2hpcEtleXMuYWRkKHN0cmluZ3MuRU5EX0tFWSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgTURDRm91bmRhdGlvbiB9IGZyb20gJ0BtYXRlcmlhbC9iYXNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHsgY3NzQ2xhc3NlcywgRGlyZWN0aW9uLCBFdmVudFNvdXJjZSwganVtcENoaXBLZXlzLCBuYXZpZ2F0aW9uS2V5cywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBlbXB0eUNsaWVudFJlY3QgPSB7XG4gICAgYm90dG9tOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICB3aWR0aDogMCxcbn07XG52YXIgTURDQ2hpcEZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDQ2hpcEZvdW5kYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTURDQ2hpcEZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0c2xpYl8xLl9fYXNzaWduKHt9LCBNRENDaGlwRm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGEgdHJhaWxpbmcgaWNvbiBjbGljayBzaG91bGQgaW1tZWRpYXRlbHkgdHJpZ2dlciBleGl0L3JlbW92YWwgb2YgdGhlIGNoaXAuXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zaG91bGRSZW1vdmVPblRyYWlsaW5nSWNvbkNsaWNrXyA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ0NoaXBGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDQ2hpcEZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENDaGlwRm91bmRhdGlvbiwgXCJkZWZhdWx0QWRhcHRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGFkZENsYXNzVG9MZWFkaW5nSWNvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0SGFzQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzUHJpbWFyeUFjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGZvY3VzVHJhaWxpbmdBY3Rpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBnZXRDaGVja21hcmtCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5Q2xpZW50UmVjdDsgfSxcbiAgICAgICAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlVmFsdWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICAgICAgICAgIGdldFJvb3RCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVtcHR5Q2xpZW50UmVjdDsgfSxcbiAgICAgICAgICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgaGFzTGVhZGluZ0ljb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGhhc1RyYWlsaW5nQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc1JUTDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5SW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBub3RpZnlOYXZpZ2F0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5UmVtb3ZhbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeVNlbGVjdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeVRyYWlsaW5nSWNvbkludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc0Zyb21MZWFkaW5nSWNvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldFByaW1hcnlBY3Rpb25BdHRyOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldFRyYWlsaW5nQWN0aW9uQXR0cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLmlzU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuU0VMRUNURUQpO1xuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRfKHNlbGVjdGVkKTtcbiAgICAgICAgdGhpcy5ub3RpZnlTZWxlY3Rpb25fKHNlbGVjdGVkKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRTZWxlY3RlZEZyb21DaGlwU2V0ID0gZnVuY3Rpb24gKHNlbGVjdGVkLCBzaG91bGROb3RpZnlDbGllbnRzKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRfKHNlbGVjdGVkKTtcbiAgICAgICAgaWYgKHNob3VsZE5vdGlmeUNsaWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5SWdub3JlZFNlbGVjdGlvbl8oc2VsZWN0ZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0U2hvdWxkUmVtb3ZlT25UcmFpbGluZ0ljb25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdWxkUmVtb3ZlT25UcmFpbGluZ0ljb25DbGlja187XG4gICAgfTtcbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0U2hvdWxkUmVtb3ZlT25UcmFpbGluZ0ljb25DbGljayA9IGZ1bmN0aW9uIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgdGhpcy5zaG91bGRSZW1vdmVPblRyYWlsaW5nSWNvbkNsaWNrXyA9IHNob3VsZFJlbW92ZTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXREaW1lbnNpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZ2V0Um9vdFJlY3QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5hZGFwdGVyXy5nZXRSb290Qm91bmRpbmdDbGllbnRSZWN0KCk7IH07XG4gICAgICAgIHZhciBnZXRDaGVja21hcmtSZWN0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYWRhcHRlcl8uZ2V0Q2hlY2ttYXJrQm91bmRpbmdDbGllbnRSZWN0KCk7IH07XG4gICAgICAgIC8vIFdoZW4gYSBjaGlwIGhhcyBhIGNoZWNrbWFyayBhbmQgbm90IGEgbGVhZGluZyBpY29uLCB0aGUgYm91bmRpbmcgcmVjdCBjaGFuZ2VzIGluIHNpemUgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIHNpemUgb2YgdGhlIGNoZWNrbWFyay5cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0ZXJfLmhhc0xlYWRpbmdJY29uKCkpIHtcbiAgICAgICAgICAgIHZhciBjaGVja21hcmtSZWN0ID0gZ2V0Q2hlY2ttYXJrUmVjdCgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrbWFya1JlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm9vdFJlY3QgPSBnZXRSb290UmVjdCgpO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrbWFyayBpcyBhIHNxdWFyZSwgbWVhbmluZyB0aGUgY2xpZW50IHJlY3QncyB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBpZGVudGljYWwgb25jZSB0aGUgYW5pbWF0aW9uIGNvbXBsZXRlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB0aGUgY2hlY2tib3ggaXMgaW5pdGlhbGx5IGhpZGRlbiBieSBzZXR0aW5nIHRoZSB3aWR0aCB0byAwLlxuICAgICAgICAgICAgICAgIC8vIFRvIGFjY291bnQgZm9yIGFuIGluaXRpYWwgd2lkdGggb2YgMCwgd2UgdXNlIHRoZSBjaGVja2JveCdzIGhlaWdodCBpbnN0ZWFkICh3aGljaCBlcXVhbHMgdGhlIGVuZC1zdGF0ZSB3aWR0aClcbiAgICAgICAgICAgICAgICAvLyB3aGVuIGFkZGluZyBpdCB0byB0aGUgcm9vdCBjbGllbnQgcmVjdCdzIHdpZHRoLlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogcm9vdFJlY3QuYm90dG9tLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJvb3RSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogcm9vdFJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJvb3RSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHJvb3RSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHJvb3RSZWN0LndpZHRoICsgY2hlY2ttYXJrUmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Um9vdFJlY3QoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJlZ2lucyB0aGUgZXhpdCBhbmltYXRpb24gd2hpY2ggbGVhZHMgdG8gcmVtb3ZhbCBvZiB0aGUgY2hpcC5cbiAgICAgKi9cbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUuYmVnaW5FeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKGNzc0NsYXNzZXMuQ0hJUF9FWElUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYW4gaW50ZXJhY3Rpb24gZXZlbnQgb24gdGhlIHJvb3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlSW50ZXJhY3Rpb24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGlmICh0aGlzLnNob3VsZEhhbmRsZUludGVyYWN0aW9uXyhldnQpKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeUludGVyYWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzUHJpbWFyeUFjdGlvbl8oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHRyYW5zaXRpb24gZW5kIGV2ZW50IG9uIHRoZSByb290IGVsZW1lbnQuXG4gICAgICovXG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEhhbmRsZSB0cmFuc2l0aW9uIGVuZCBldmVudCBvbiB0aGUgY2hpcCB3aGVuIGl0IGlzIGFib3V0IHRvIGJlIHJlbW92ZWQuXG4gICAgICAgIHZhciBzaG91bGRIYW5kbGUgPSB0aGlzLmFkYXB0ZXJfLmV2ZW50VGFyZ2V0SGFzQ2xhc3MoZXZ0LnRhcmdldCwgY3NzQ2xhc3Nlcy5DSElQX0VYSVQpO1xuICAgICAgICB2YXIgd2lkdGhJc0FuaW1hdGluZyA9IGV2dC5wcm9wZXJ0eU5hbWUgPT09ICd3aWR0aCc7XG4gICAgICAgIHZhciBvcGFjaXR5SXNBbmltYXRpbmcgPSBldnQucHJvcGVydHlOYW1lID09PSAnb3BhY2l0eSc7XG4gICAgICAgIGlmIChzaG91bGRIYW5kbGUgJiYgb3BhY2l0eUlzQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vdXNpbmctY3NzLXRyYW5zaXRpb25zLWF1dG8tZGltZW5zaW9ucy8jYXJ0aWNsZS1oZWFkZXItaWQtNVxuICAgICAgICAgICAgdmFyIGNoaXBXaWR0aF8xID0gdGhpcy5hZGFwdGVyXy5nZXRDb21wdXRlZFN0eWxlVmFsdWUoJ3dpZHRoJyk7XG4gICAgICAgICAgICAvLyBPbiB0aGUgbmV4dCBmcmFtZSAob25jZSB3ZSBnZXQgdGhlIGNvbXB1dGVkIHdpZHRoKSwgZXhwbGljaXRseSBzZXQgdGhlIGNoaXAncyB3aWR0aFxuICAgICAgICAgICAgLy8gdG8gaXRzIGN1cnJlbnQgcGl4ZWwgd2lkdGgsIHNvIHdlIGFyZW4ndCB0cmFuc2l0aW9uaW5nIG91dCBvZiAnYXV0bycuXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnNldFN0eWxlUHJvcGVydHkoJ3dpZHRoJywgY2hpcFdpZHRoXzEpO1xuICAgICAgICAgICAgICAgIC8vIFRvIG1pdGlnYXRlIGppdHRlciwgc3RhcnQgdHJhbnNpdGlvbmluZyBwYWRkaW5nIGFuZCBtYXJnaW4gYmVmb3JlIHdpZHRoLlxuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnNldFN0eWxlUHJvcGVydHkoJ3BhZGRpbmcnLCAnMCcpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnNldFN0eWxlUHJvcGVydHkoJ21hcmdpbicsICcwJyk7XG4gICAgICAgICAgICAgICAgLy8gT24gdGhlIG5leHQgZnJhbWUgKG9uY2Ugd2lkdGggaXMgZXhwbGljaXRseSBzZXQpLCB0cmFuc2l0aW9uIHdpZHRoIHRvIDAuXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8uc2V0U3R5bGVQcm9wZXJ0eSgnd2lkdGgnLCAnMCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEhhbmRsZSAmJiB3aWR0aElzQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvY3VzXygpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlSZW1vdmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGEgdHJhbnNpdGlvbiBlbmQgZXZlbnQgb24gdGhlIGxlYWRpbmcgaWNvbiBvciBjaGVja21hcmssIHNpbmNlIHRoZSB0cmFuc2l0aW9uIGVuZCBldmVudCBidWJibGVzLlxuICAgICAgICBpZiAoIW9wYWNpdHlJc0FuaW1hdGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaG91bGRIaWRlTGVhZGluZ0ljb24gPSB0aGlzLmFkYXB0ZXJfLmV2ZW50VGFyZ2V0SGFzQ2xhc3MoZXZ0LnRhcmdldCwgY3NzQ2xhc3Nlcy5MRUFESU5HX0lDT04pXG4gICAgICAgICAgICAmJiB0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuU0VMRUNURUQpO1xuICAgICAgICB2YXIgc2hvdWxkU2hvd0xlYWRpbmdJY29uID0gdGhpcy5hZGFwdGVyXy5ldmVudFRhcmdldEhhc0NsYXNzKGV2dC50YXJnZXQsIGNzc0NsYXNzZXMuQ0hFQ0tNQVJLKVxuICAgICAgICAgICAgJiYgIXRoaXMuYWRhcHRlcl8uaGFzQ2xhc3MoY3NzQ2xhc3Nlcy5TRUxFQ1RFRCk7XG4gICAgICAgIGlmIChzaG91bGRIaWRlTGVhZGluZ0ljb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzVG9MZWFkaW5nSWNvbihjc3NDbGFzc2VzLkhJRERFTl9MRUFESU5HX0lDT04pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRTaG93TGVhZGluZ0ljb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzRnJvbUxlYWRpbmdJY29uKGNzc0NsYXNzZXMuSElEREVOX0xFQURJTkdfSUNPTik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYW4gaW50ZXJhY3Rpb24gZXZlbnQgb24gdGhlIHRyYWlsaW5nIGljb24gZWxlbWVudC4gVGhpcyBpcyB1c2VkIHRvXG4gICAgICogcHJldmVudCB0aGUgcmlwcGxlIGZyb20gYWN0aXZhdGluZyBvbiBpbnRlcmFjdGlvbiB3aXRoIHRoZSB0cmFpbGluZyBpY29uLlxuICAgICAqL1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVUcmFpbGluZ0ljb25JbnRlcmFjdGlvbiA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSGFuZGxlSW50ZXJhY3Rpb25fKGV2dCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5VHJhaWxpbmdJY29uSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpcF8oZXZ0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGtleWRvd24gZXZlbnQgZnJvbSB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5oYW5kbGVLZXlkb3duID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRSZW1vdmVDaGlwXyhldnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVDaGlwXyhldnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXkgPSBldnQua2V5O1xuICAgICAgICAvLyBFYXJseSBleGl0IGlmIHRoZSBrZXkgaXMgbm90IHVzYWJsZVxuICAgICAgICBpZiAoIW5hdmlnYXRpb25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIGZvciBtb3ZlbWVudCBrZXlzIHdoaWNoIGNvdWxkIGluY2x1ZGUgc2Nyb2xsaW5nXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZvY3VzTmV4dEFjdGlvbl8oZXZ0KTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5yZW1vdmVGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRQcmltYXJ5QWN0aW9uQXR0cihzdHJpbmdzLlRBQl9JTkRFWCwgJy0xJyk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0VHJhaWxpbmdBY3Rpb25BdHRyKHN0cmluZ3MuVEFCX0lOREVYLCAnLTEnKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5mb2N1c1ByaW1hcnlBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm9jdXNQcmltYXJ5QWN0aW9uXygpO1xuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLmZvY3VzVHJhaWxpbmdBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGVyXy5oYXNUcmFpbGluZ0FjdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb2N1c1ByaW1hcnlBY3Rpb25fKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb2N1c1RyYWlsaW5nQWN0aW9uXygpO1xuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLmZvY3VzTmV4dEFjdGlvbl8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBrZXkgPSBldnQua2V5O1xuICAgICAgICB2YXIgaGFzVHJhaWxpbmdBY3Rpb24gPSB0aGlzLmFkYXB0ZXJfLmhhc1RyYWlsaW5nQWN0aW9uKCk7XG4gICAgICAgIHZhciBkaXIgPSB0aGlzLmdldERpcmVjdGlvbl8oa2V5KTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0RXZ0U291cmNlXyhldnQpO1xuICAgICAgICAvLyBFYXJseSBleGl0IGlmIHRoZSBrZXkgc2hvdWxkIGp1bXAga2V5cyBvciB0aGUgY2hpcCBvbmx5IGhhcyBvbmUgYWN0aW9uIChpLmUuIG5vIHRyYWlsaW5nIGFjdGlvbilcbiAgICAgICAgaWYgKGp1bXBDaGlwS2V5cy5oYXMoa2V5KSB8fCAhaGFzVHJhaWxpbmdBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ubm90aWZ5TmF2aWdhdGlvbihrZXksIHNvdXJjZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gRXZlbnRTb3VyY2UuUFJJTUFSWSAmJiBkaXIgPT09IERpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9jdXNUcmFpbGluZ0FjdGlvbl8oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlID09PSBFdmVudFNvdXJjZS5UUkFJTElORyAmJiBkaXIgPT09IERpcmVjdGlvbi5MRUZUKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb2N1c1ByaW1hcnlBY3Rpb25fKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlOYXZpZ2F0aW9uKGtleSwgRXZlbnRTb3VyY2UuTk9ORSk7XG4gICAgfTtcbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0RXZ0U291cmNlXyA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uZXZlbnRUYXJnZXRIYXNDbGFzcyhldnQudGFyZ2V0LCBjc3NDbGFzc2VzLlBSSU1BUllfQUNUSU9OKSkge1xuICAgICAgICAgICAgcmV0dXJuIEV2ZW50U291cmNlLlBSSU1BUlk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlcl8uZXZlbnRUYXJnZXRIYXNDbGFzcyhldnQudGFyZ2V0LCBjc3NDbGFzc2VzLlRSQUlMSU5HX0FDVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybiBFdmVudFNvdXJjZS5UUkFJTElORztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXZlbnRTb3VyY2UuTk9ORTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5nZXREaXJlY3Rpb25fID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgaXNSVEwgPSB0aGlzLmFkYXB0ZXJfLmlzUlRMKCk7XG4gICAgICAgIGlmIChrZXkgPT09IHN0cmluZ3MuQVJST1dfTEVGVF9LRVkgJiYgIWlzUlRMIHx8IGtleSA9PT0gc3RyaW5ncy5BUlJPV19SSUdIVF9LRVkgJiYgaXNSVEwpIHtcbiAgICAgICAgICAgIHJldHVybiBEaXJlY3Rpb24uTEVGVDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGlyZWN0aW9uLlJJR0hUO1xuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLmZvY3VzUHJpbWFyeUFjdGlvbl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0UHJpbWFyeUFjdGlvbkF0dHIoc3RyaW5ncy5UQUJfSU5ERVgsICcwJyk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNQcmltYXJ5QWN0aW9uKCk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0VHJhaWxpbmdBY3Rpb25BdHRyKHN0cmluZ3MuVEFCX0lOREVYLCAnLTEnKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5mb2N1c1RyYWlsaW5nQWN0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRUcmFpbGluZ0FjdGlvbkF0dHIoc3RyaW5ncy5UQUJfSU5ERVgsICcwJyk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZm9jdXNUcmFpbGluZ0FjdGlvbigpO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldFByaW1hcnlBY3Rpb25BdHRyKHN0cmluZ3MuVEFCX0lOREVYLCAnLTEnKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5yZW1vdmVGb2N1c18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0VHJhaWxpbmdBY3Rpb25BdHRyKHN0cmluZ3MuVEFCX0lOREVYLCAnLTEnKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRQcmltYXJ5QWN0aW9uQXR0cihzdHJpbmdzLlRBQl9JTkRFWCwgJy0xJyk7XG4gICAgfTtcbiAgICBNRENDaGlwRm91bmRhdGlvbi5wcm90b3R5cGUucmVtb3ZlQ2hpcF8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVtb3ZlT25UcmFpbGluZ0ljb25DbGlja18pIHtcbiAgICAgICAgICAgIHRoaXMuYmVnaW5FeGl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5zaG91bGRIYW5kbGVJbnRlcmFjdGlvbl8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIGlmIChldnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleUV2dCA9IGV2dDtcbiAgICAgICAgcmV0dXJuIGtleUV2dC5rZXkgPT09IHN0cmluZ3MuRU5URVJfS0VZIHx8IGtleUV2dC5rZXkgPT09IHN0cmluZ3MuU1BBQ0VCQVJfS0VZO1xuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLnNob3VsZFJlbW92ZUNoaXBfID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICB2YXIgaXNEZWxldGFibGUgPSB0aGlzLmFkYXB0ZXJfLmhhc0NsYXNzKGNzc0NsYXNzZXMuREVMRVRBQkxFKTtcbiAgICAgICAgcmV0dXJuIGlzRGVsZXRhYmxlICYmIChldnQua2V5ID09PSBzdHJpbmdzLkJBQ0tTUEFDRV9LRVkgfHwgZXZ0LmtleSA9PT0gc3RyaW5ncy5ERUxFVEVfS0VZKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRTZWxlY3RlZF8gPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLmFkZENsYXNzKGNzc0NsYXNzZXMuU0VMRUNURUQpO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5zZXRQcmltYXJ5QWN0aW9uQXR0cihzdHJpbmdzLkFSSUFfQ0hFQ0tFRCwgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoY3NzQ2xhc3Nlcy5TRUxFQ1RFRCk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldFByaW1hcnlBY3Rpb25BdHRyKHN0cmluZ3MuQVJJQV9DSEVDS0VELCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDQ2hpcEZvdW5kYXRpb24ucHJvdG90eXBlLm5vdGlmeVNlbGVjdGlvbl8gPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5ub3RpZnlTZWxlY3Rpb24oc2VsZWN0ZWQsIGZhbHNlKTtcbiAgICB9O1xuICAgIE1EQ0NoaXBGb3VuZGF0aW9uLnByb3RvdHlwZS5ub3RpZnlJZ25vcmVkU2VsZWN0aW9uXyA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeVNlbGVjdGlvbihzZWxlY3RlZCwgdHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTURDQ2hpcEZvdW5kYXRpb247XG59KE1EQ0ZvdW5kYXRpb24pKTtcbmV4cG9ydCB7IE1EQ0NoaXBGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDQ2hpcEZvdW5kYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3VuZGF0aW9uLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9mb3VuZGF0aW9uJztcbmV4cG9ydCB7IGNzc0NsYXNzZXMgYXMgY2hpcENzc0NsYXNzZXMsIHN0cmluZ3MgYXMgY2hpcFN0cmluZ3MgfSBmcm9tICcuL2NvbnN0YW50cyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vY2hpcC9pbmRleCc7XG5leHBvcnQgKiBmcm9tICcuL2NoaXAtc2V0L2luZGV4Jztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBTdG9yZXMgcmVzdWx0IGZyb20gYXBwbHlQYXNzaXZlIHRvIGF2b2lkIHJlZHVuZGFudCBwcm9jZXNzaW5nIHRvIGRldGVjdFxuICogcGFzc2l2ZSBldmVudCBsaXN0ZW5lciBzdXBwb3J0LlxuICovXG52YXIgc3VwcG9ydHNQYXNzaXZlXztcbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgYW5kXG4gKiBpZiBzbywgdXNlIHRoZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBhc3NpdmUoZ2xvYmFsT2JqLCBmb3JjZVJlZnJlc2gpIHtcbiAgICBpZiAoZ2xvYmFsT2JqID09PSB2b2lkIDApIHsgZ2xvYmFsT2JqID0gd2luZG93OyB9XG4gICAgaWYgKGZvcmNlUmVmcmVzaCA9PT0gdm9pZCAwKSB7IGZvcmNlUmVmcmVzaCA9IGZhbHNlOyB9XG4gICAgaWYgKHN1cHBvcnRzUGFzc2l2ZV8gPT09IHVuZGVmaW5lZCB8fCBmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgdmFyIGlzU3VwcG9ydGVkXzEgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2JhbE9iai5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LCB7XG4gICAgICAgICAgICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU3VwcG9ydGVkXzEgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWRfMTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfSAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWVtcHR5IGNhbm5vdCB0aHJvdyBlcnJvciBkdWUgdG8gdGVzdHMuIHRzbGludCBhbHNvIGRpc2FibGVzIGNvbnNvbGUubG9nLlxuICAgICAgICBzdXBwb3J0c1Bhc3NpdmVfID0gaXNTdXBwb3J0ZWRfMTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZV8gPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEEgXCJwb255ZmlsbFwiIGlzIGEgcG9seWZpbGwgdGhhdCBkb2Vzbid0IG1vZGlmeSB0aGUgZ2xvYmFsIHByb3RvdHlwZSBjaGFpbi5cbiAqIFRoaXMgbWFrZXMgcG9ueWZpbGxzIHNhZmVyIHRoYW4gdHJhZGl0aW9uYWwgcG9seWZpbGxzLCBlc3BlY2lhbGx5IGZvciBsaWJyYXJpZXMgbGlrZSBNREMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xvc2VzdCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgICB9XG4gICAgdmFyIGVsID0gZWxlbWVudDtcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgICAgaWYgKG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hlcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHZhciBuYXRpdmVNYXRjaGVzID0gZWxlbWVudC5tYXRjaGVzXG4gICAgICAgIHx8IGVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yXG4gICAgICAgIHx8IGVsZW1lbnQubXNNYXRjaGVzU2VsZWN0b3I7XG4gICAgcmV0dXJuIG5hdGl2ZU1hdGNoZXMuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb255ZmlsbC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENDb21wb25lbnQgfSBmcm9tICdAbWF0ZXJpYWwvYmFzZS9jb21wb25lbnQnO1xuaW1wb3J0IHsgYXBwbHlQYXNzaXZlIH0gZnJvbSAnQG1hdGVyaWFsL2RvbS9ldmVudHMnO1xuaW1wb3J0IHsgbWF0Y2hlcyB9IGZyb20gJ0BtYXRlcmlhbC9kb20vcG9ueWZpbGwnO1xuaW1wb3J0IHsgTURDUmlwcGxlRm91bmRhdGlvbiB9IGZyb20gJy4vZm91bmRhdGlvbic7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG52YXIgTURDUmlwcGxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1EQ1JpcHBsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENSaXBwbGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1EQ1JpcHBsZS5hdHRhY2hUbyA9IGZ1bmN0aW9uIChyb290LCBvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHsgaXNVbmJvdW5kZWQ6IHVuZGVmaW5lZCB9OyB9XG4gICAgICAgIHZhciByaXBwbGUgPSBuZXcgTURDUmlwcGxlKHJvb3QpO1xuICAgICAgICAvLyBPbmx5IG92ZXJyaWRlIHVuYm91bmRlZCBiZWhhdmlvciBpZiBvcHRpb24gaXMgZXhwbGljaXRseSBzcGVjaWZpZWRcbiAgICAgICAgaWYgKG9wdHMuaXNVbmJvdW5kZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmlwcGxlLnVuYm91bmRlZCA9IG9wdHMuaXNVbmJvdW5kZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJpcHBsZTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZS5jcmVhdGVBZGFwdGVyID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gaW5zdGFuY2Uucm9vdF8uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpOyB9LFxuICAgICAgICAgICAgYnJvd3NlclN1cHBvcnRzQ3NzVmFyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbC5zdXBwb3J0c0Nzc1ZhcmlhYmxlcyh3aW5kb3cpOyB9LFxuICAgICAgICAgICAgY29tcHV0ZUJvdW5kaW5nUmVjdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5zdGFuY2Uucm9vdF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IH0sXG4gICAgICAgICAgICBjb250YWluc0V2ZW50VGFyZ2V0OiBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiBpbnN0YW5jZS5yb290Xy5jb250YWlucyh0YXJnZXQpOyB9LFxuICAgICAgICAgICAgZGVyZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKGV2dFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2Uucm9vdF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlcik7IH0sXG4gICAgICAgICAgICBnZXRXaW5kb3dQYWdlT2Zmc2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6IHdpbmRvdy5wYWdlWU9mZnNldCB9KTsgfSxcbiAgICAgICAgICAgIGlzU3VyZmFjZUFjdGl2ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0Y2hlcyhpbnN0YW5jZS5yb290XywgJzphY3RpdmUnKTsgfSxcbiAgICAgICAgICAgIGlzU3VyZmFjZURpc2FibGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKGluc3RhbmNlLmRpc2FibGVkKTsgfSxcbiAgICAgICAgICAgIGlzVW5ib3VuZGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKGluc3RhbmNlLnVuYm91bmRlZCk7IH0sXG4gICAgICAgICAgICByZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbiAoZXZ0VHlwZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnRUeXBlLCBoYW5kbGVyLCBhcHBseVBhc3NpdmUoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIChldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlciwgYXBwbHlQYXNzaXZlKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVyKTsgfSxcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBpbnN0YW5jZS5yb290Xy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7IH0sXG4gICAgICAgICAgICB1cGRhdGVDc3NWYXJpYWJsZTogZnVuY3Rpb24gKHZhck5hbWUsIHZhbHVlKSB7IHJldHVybiBpbnN0YW5jZS5yb290Xy5zdHlsZS5zZXRQcm9wZXJ0eSh2YXJOYW1lLCB2YWx1ZSk7IH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDUmlwcGxlLnByb3RvdHlwZSwgXCJ1bmJvdW5kZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMudW5ib3VuZGVkXyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHVuYm91bmRlZCkge1xuICAgICAgICAgICAgdGhpcy51bmJvdW5kZWRfID0gQm9vbGVhbih1bmJvdW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5zZXRVbmJvdW5kZWRfKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZm91bmRhdGlvbl8uYWN0aXZhdGUoKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5kZWFjdGl2YXRlKCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGUucHJvdG90eXBlLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3VuZGF0aW9uXy5sYXlvdXQoKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdEZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTURDUmlwcGxlRm91bmRhdGlvbihNRENSaXBwbGUuY3JlYXRlQWRhcHRlcih0aGlzKSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGUucHJvdG90eXBlLmluaXRpYWxTeW5jV2l0aERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLnJvb3RfO1xuICAgICAgICB0aGlzLnVuYm91bmRlZCA9ICdtZGNSaXBwbGVJc1VuYm91bmRlZCcgaW4gcm9vdC5kYXRhc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc3VyZSBDb21waWxlciB0aHJvd3MgYW4gYWNjZXNzIGNvbnRyb2wgZXJyb3Igd2hlbiBkaXJlY3RseSBhY2Nlc3NpbmcgYVxuICAgICAqIHByb3RlY3RlZCBvciBwcml2YXRlIHByb3BlcnR5IGluc2lkZSBhIGdldHRlci9zZXR0ZXIsIGxpa2UgdW5ib3VuZGVkIGFib3ZlLlxuICAgICAqIEJ5IGFjY2Vzc2luZyB0aGUgcHJvdGVjdGVkIHByb3BlcnR5IGluc2lkZSBhIG1ldGhvZCwgd2Ugc29sdmUgdGhhdCBwcm9ibGVtLlxuICAgICAqIFRoYXQncyB3aHkgdGhpcyBmdW5jdGlvbiBleGlzdHMuXG4gICAgICovXG4gICAgTURDUmlwcGxlLnByb3RvdHlwZS5zZXRVbmJvdW5kZWRfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZvdW5kYXRpb25fLnNldFVuYm91bmRlZChCb29sZWFuKHRoaXMudW5ib3VuZGVkXykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ1JpcHBsZTtcbn0oTURDQ29tcG9uZW50KSk7XG5leHBvcnQgeyBNRENSaXBwbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmV4cG9ydCB2YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICAvLyBSaXBwbGUgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgdGhlIFwicm9vdFwiIGNvbXBvbmVudCBpcyByZWFsbHkgYSBcIm1peGluXCIgb2Ygc29ydHMsXG4gICAgLy8gZ2l2ZW4gdGhhdCBpdCdzIGFuICd1cGdyYWRlJyB0byBhbiBleGlzdGluZyBjb21wb25lbnQuIFRoYXQgYmVpbmcgc2FpZCBpdCBpcyB0aGUgcm9vdFxuICAgIC8vIENTUyBjbGFzcyB0aGF0IGFsbCBvdGhlciBDU1MgY2xhc3NlcyBkZXJpdmUgZnJvbS5cbiAgICBCR19GT0NVU0VEOiAnbWRjLXJpcHBsZS11cGdyYWRlZC0tYmFja2dyb3VuZC1mb2N1c2VkJyxcbiAgICBGR19BQ1RJVkFUSU9OOiAnbWRjLXJpcHBsZS11cGdyYWRlZC0tZm9yZWdyb3VuZC1hY3RpdmF0aW9uJyxcbiAgICBGR19ERUFDVElWQVRJT046ICdtZGMtcmlwcGxlLXVwZ3JhZGVkLS1mb3JlZ3JvdW5kLWRlYWN0aXZhdGlvbicsXG4gICAgUk9PVDogJ21kYy1yaXBwbGUtdXBncmFkZWQnLFxuICAgIFVOQk9VTkRFRDogJ21kYy1yaXBwbGUtdXBncmFkZWQtLXVuYm91bmRlZCcsXG59O1xuZXhwb3J0IHZhciBzdHJpbmdzID0ge1xuICAgIFZBUl9GR19TQ0FMRTogJy0tbWRjLXJpcHBsZS1mZy1zY2FsZScsXG4gICAgVkFSX0ZHX1NJWkU6ICctLW1kYy1yaXBwbGUtZmctc2l6ZScsXG4gICAgVkFSX0ZHX1RSQU5TTEFURV9FTkQ6ICctLW1kYy1yaXBwbGUtZmctdHJhbnNsYXRlLWVuZCcsXG4gICAgVkFSX0ZHX1RSQU5TTEFURV9TVEFSVDogJy0tbWRjLXJpcHBsZS1mZy10cmFuc2xhdGUtc3RhcnQnLFxuICAgIFZBUl9MRUZUOiAnLS1tZGMtcmlwcGxlLWxlZnQnLFxuICAgIFZBUl9UT1A6ICctLW1kYy1yaXBwbGUtdG9wJyxcbn07XG5leHBvcnQgdmFyIG51bWJlcnMgPSB7XG4gICAgREVBQ1RJVkFUSU9OX1RJTUVPVVRfTVM6IDIyNSxcbiAgICBGR19ERUFDVElWQVRJT05fTVM6IDE1MCxcbiAgICBJTklUSUFMX09SSUdJTl9TQ0FMRTogMC42LFxuICAgIFBBRERJTkc6IDEwLFxuICAgIFRBUF9ERUxBWV9NUzogMzAwLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBjc3NDbGFzc2VzLCBudW1iZXJzLCBzdHJpbmdzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0Tm9ybWFsaXplZEV2ZW50Q29vcmRzIH0gZnJvbSAnLi91dGlsJztcbi8vIEFjdGl2YXRpb24gZXZlbnRzIHJlZ2lzdGVyZWQgb24gdGhlIHJvb3QgZWxlbWVudCBvZiBlYWNoIGluc3RhbmNlIGZvciBhY3RpdmF0aW9uXG52YXIgQUNUSVZBVElPTl9FVkVOVF9UWVBFUyA9IFtcbiAgICAndG91Y2hzdGFydCcsICdwb2ludGVyZG93bicsICdtb3VzZWRvd24nLCAna2V5ZG93bicsXG5dO1xuLy8gRGVhY3RpdmF0aW9uIGV2ZW50cyByZWdpc3RlcmVkIG9uIGRvY3VtZW50RWxlbWVudCB3aGVuIGEgcG9pbnRlci1yZWxhdGVkIGRvd24gZXZlbnQgb2NjdXJzXG52YXIgUE9JTlRFUl9ERUFDVElWQVRJT05fRVZFTlRfVFlQRVMgPSBbXG4gICAgJ3RvdWNoZW5kJywgJ3BvaW50ZXJ1cCcsICdtb3VzZXVwJywgJ2NvbnRleHRtZW51Jyxcbl07XG4vLyBzaW11bHRhbmVvdXMgbmVzdGVkIGFjdGl2YXRpb25zXG52YXIgYWN0aXZhdGVkVGFyZ2V0cyA9IFtdO1xudmFyIE1EQ1JpcHBsZUZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTURDUmlwcGxlRm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENSaXBwbGVGb3VuZGF0aW9uKGFkYXB0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHNsaWJfMS5fX2Fzc2lnbih7fSwgTURDUmlwcGxlRm91bmRhdGlvbi5kZWZhdWx0QWRhcHRlciwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGlvblRpbWVyXyA9IDA7XG4gICAgICAgIF90aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyA9IDA7XG4gICAgICAgIF90aGlzLmZnU2NhbGVfID0gJzAnO1xuICAgICAgICBfdGhpcy5mcmFtZV8gPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgX3RoaXMuaW5pdGlhbFNpemVfID0gMDtcbiAgICAgICAgX3RoaXMubGF5b3V0RnJhbWVfID0gMDtcbiAgICAgICAgX3RoaXMubWF4UmFkaXVzXyA9IDA7XG4gICAgICAgIF90aGlzLnVuYm91bmRlZENvb3Jkc18gPSB7IGxlZnQ6IDAsIHRvcDogMCB9O1xuICAgICAgICBfdGhpcy5hY3RpdmF0aW9uU3RhdGVfID0gX3RoaXMuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZV8oKTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGlvblRpbWVyQ2FsbGJhY2tfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGlvbkFuaW1hdGlvbkhhc0VuZGVkXyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5ydW5EZWFjdGl2YXRpb25VWExvZ2ljSWZSZWFkeV8oKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYWN0aXZhdGVIYW5kbGVyXyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5hY3RpdmF0ZV8oZSk7IH07XG4gICAgICAgIF90aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmRlYWN0aXZhdGVfKCk7IH07XG4gICAgICAgIF90aGlzLmZvY3VzSGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVGb2N1cygpOyB9O1xuICAgICAgICBfdGhpcy5ibHVySGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVCbHVyKCk7IH07XG4gICAgICAgIF90aGlzLnJlc2l6ZUhhbmRsZXJfID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubGF5b3V0KCk7IH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZUZvdW5kYXRpb24sIFwiY3NzQ2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENSaXBwbGVGb3VuZGF0aW9uLCBcInN0cmluZ3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDUmlwcGxlRm91bmRhdGlvbiwgXCJudW1iZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ1JpcHBsZUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBicm93c2VyU3VwcG9ydHNDc3NWYXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIGNvbXB1dGVCb3VuZGluZ1JlY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9KTsgfSxcbiAgICAgICAgICAgICAgICBjb250YWluc0V2ZW50VGFyZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyUmVzaXplSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGdldFdpbmRvd1BhZ2VPZmZzZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IHg6IDAsIHk6IDAgfSk7IH0sXG4gICAgICAgICAgICAgICAgaXNTdXJmYWNlQWN0aXZlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIGlzU3VyZmFjZURpc2FibGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIGlzVW5ib3VuZGVkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyRG9jdW1lbnRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVzaXplSGFuZGxlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgdXBkYXRlQ3NzVmFyaWFibGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdXBwb3J0c1ByZXNzUmlwcGxlID0gdGhpcy5zdXBwb3J0c1ByZXNzUmlwcGxlXygpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUm9vdEhhbmRsZXJzXyhzdXBwb3J0c1ByZXNzUmlwcGxlKTtcbiAgICAgICAgaWYgKHN1cHBvcnRzUHJlc3NSaXBwbGUpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3NlcywgUk9PVF8xID0gX2EuUk9PVCwgVU5CT1VOREVEXzEgPSBfYS5VTkJPVU5ERUQ7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLmFkZENsYXNzKFJPT1RfMSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFkYXB0ZXJfLmlzVW5ib3VuZGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoVU5CT1VOREVEXzEpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVbmJvdW5kZWQgcmlwcGxlcyBuZWVkIGxheW91dCBsb2dpYyBhcHBsaWVkIGltbWVkaWF0ZWx5IHRvIHNldCBjb29yZGluYXRlcyBmb3IgYm90aCBzaGFkZSBhbmQgcmlwcGxlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxheW91dEludGVybmFsXygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1ByZXNzUmlwcGxlXygpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmF0aW9uVGltZXJfKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGlvblRpbWVyXyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0aW9uVGltZXJfID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5GR19BQ1RJVkFUSU9OKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXykge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mZ0RlYWN0aXZhdGlvblJlbW92YWxUaW1lcl8gPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkZHX0RFQUNUSVZBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSBNRENSaXBwbGVGb3VuZGF0aW9uLmNzc0NsYXNzZXMsIFJPT1RfMiA9IF9hLlJPT1QsIFVOQk9VTkRFRF8yID0gX2EuVU5CT1VOREVEO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZW1vdmVDbGFzcyhST09UXzIpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKFVOQk9VTkRFRF8yKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDc3NWYXJzXygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXJlZ2lzdGVyUm9vdEhhbmRsZXJzXygpO1xuICAgICAgICB0aGlzLmRlcmVnaXN0ZXJEZWFjdGl2YXRpb25IYW5kbGVyc18oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBldnQgT3B0aW9uYWwgZXZlbnQgY29udGFpbmluZyBwb3NpdGlvbiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZV8oZXZ0KTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZV8oKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMubGF5b3V0RnJhbWVfKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmxheW91dEZyYW1lXyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXlvdXRGcmFtZV8gPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubGF5b3V0SW50ZXJuYWxfKCk7XG4gICAgICAgICAgICBfdGhpcy5sYXlvdXRGcmFtZV8gPSAwO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldFVuYm91bmRlZCA9IGZ1bmN0aW9uICh1bmJvdW5kZWQpIHtcbiAgICAgICAgdmFyIFVOQk9VTkRFRCA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5VTkJPVU5ERUQ7XG4gICAgICAgIGlmICh1bmJvdW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoVU5CT1VOREVEKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoVU5CT1VOREVEKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkJHX0ZPQ1VTRUQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkJHX0ZPQ1VTRUQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdlIGNvbXB1dGUgdGhpcyBwcm9wZXJ0eSBzbyB0aGF0IHdlIGFyZSBub3QgcXVlcnlpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNsaWVudFxuICAgICAqIHVudGlsIHRoZSBwb2ludCBpbiB0aW1lIHdoZXJlIHRoZSBmb3VuZGF0aW9uIHJlcXVlc3RzIGl0LiBUaGlzIHByZXZlbnRzIHNjZW5hcmlvcyB3aGVyZVxuICAgICAqIGNsaWVudC1zaWRlIGZlYXR1cmUtZGV0ZWN0aW9uIG1heSBoYXBwZW4gdG9vIGVhcmx5LCBzdWNoIGFzIHdoZW4gY29tcG9uZW50cyBhcmUgcmVuZGVyZWQgb24gdGhlIHNlcnZlclxuICAgICAqIGFuZCB0aGVuIGluaXRpYWxpemVkIGF0IG1vdW50IHRpbWUgb24gdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5zdXBwb3J0c1ByZXNzUmlwcGxlXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlcl8uYnJvd3NlclN1cHBvcnRzQ3NzVmFycygpO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVmYXVsdEFjdGl2YXRpb25TdGF0ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhY3RpdmF0aW9uRXZlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhhc0RlYWN0aXZhdGlvblVYUnVuOiBmYWxzZSxcbiAgICAgICAgICAgIGlzQWN0aXZhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUHJvZ3JhbW1hdGljOiBmYWxzZSxcbiAgICAgICAgICAgIHdhc0FjdGl2YXRlZEJ5UG9pbnRlcjogZmFsc2UsXG4gICAgICAgICAgICB3YXNFbGVtZW50TWFkZUFjdGl2ZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBzdXBwb3J0c1ByZXNzUmlwcGxlIFBhc3NlZCBmcm9tIGluaXQgdG8gc2F2ZSBhIHJlZHVuZGFudCBmdW5jdGlvbiBjYWxsXG4gICAgICovXG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucmVnaXN0ZXJSb290SGFuZGxlcnNfID0gZnVuY3Rpb24gKHN1cHBvcnRzUHJlc3NSaXBwbGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHN1cHBvcnRzUHJlc3NSaXBwbGUpIHtcbiAgICAgICAgICAgIEFDVElWQVRJT05fRVZFTlRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZXZ0VHlwZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIF90aGlzLmFjdGl2YXRlSGFuZGxlcl8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlclJlc2l6ZUhhbmRsZXIodGhpcy5yZXNpemVIYW5kbGVyXyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcl8pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcl8pO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucmVnaXN0ZXJEZWFjdGl2YXRpb25IYW5kbGVyc18gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChldnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVySW50ZXJhY3Rpb25IYW5kbGVyKCdrZXl1cCcsIHRoaXMuZGVhY3RpdmF0ZUhhbmRsZXJfKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyXy5yZWdpc3RlckRvY3VtZW50SW50ZXJhY3Rpb25IYW5kbGVyKGV2dFR5cGUsIF90aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVyZWdpc3RlclJvb3RIYW5kbGVyc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIEFDVElWQVRJT05fRVZFTlRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZXZ0VHlwZSkge1xuICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8uZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpcy5hY3RpdmF0ZUhhbmRsZXJfKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcignZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcl8pO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJJbnRlcmFjdGlvbkhhbmRsZXIoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyXyk7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXJfLmlzVW5ib3VuZGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uZGVyZWdpc3RlclJlc2l6ZUhhbmRsZXIodGhpcy5yZXNpemVIYW5kbGVyXyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmRlcmVnaXN0ZXJEZWFjdGl2YXRpb25IYW5kbGVyc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uZGVyZWdpc3RlckludGVyYWN0aW9uSGFuZGxlcigna2V5dXAnLCB0aGlzLmRlYWN0aXZhdGVIYW5kbGVyXyk7XG4gICAgICAgIFBPSU5URVJfREVBQ1RJVkFUSU9OX0VWRU5UX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgICAgIF90aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJEb2N1bWVudEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpcy5kZWFjdGl2YXRlSGFuZGxlcl8pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJlbW92ZUNzc1ZhcnNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmlwcGxlU3RyaW5ncyA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uc3RyaW5ncztcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyaXBwbGVTdHJpbmdzKTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZignVkFSXycpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUocmlwcGxlU3RyaW5nc1trZXldLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZV8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXJfLmlzU3VyZmFjZURpc2FibGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZhdGlvblN0YXRlID0gdGhpcy5hY3RpdmF0aW9uU3RhdGVfO1xuICAgICAgICBpZiAoYWN0aXZhdGlvblN0YXRlLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXZvaWQgcmVhY3RpbmcgdG8gZm9sbG93LW9uIGV2ZW50cyBmaXJlZCBieSB0b3VjaCBkZXZpY2UgYWZ0ZXIgYW4gYWxyZWFkeS1wcm9jZXNzZWQgdXNlciBpbnRlcmFjdGlvblxuICAgICAgICB2YXIgcHJldmlvdXNBY3RpdmF0aW9uRXZlbnQgPSB0aGlzLnByZXZpb3VzQWN0aXZhdGlvbkV2ZW50XztcbiAgICAgICAgdmFyIGlzU2FtZUludGVyYWN0aW9uID0gcHJldmlvdXNBY3RpdmF0aW9uRXZlbnQgJiYgZXZ0ICE9PSB1bmRlZmluZWQgJiYgcHJldmlvdXNBY3RpdmF0aW9uRXZlbnQudHlwZSAhPT0gZXZ0LnR5cGU7XG4gICAgICAgIGlmIChpc1NhbWVJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFjdGl2YXRpb25TdGF0ZS5pc0FjdGl2YXRlZCA9IHRydWU7XG4gICAgICAgIGFjdGl2YXRpb25TdGF0ZS5pc1Byb2dyYW1tYXRpYyA9IGV2dCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuYWN0aXZhdGlvbkV2ZW50ID0gZXZ0O1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUud2FzQWN0aXZhdGVkQnlQb2ludGVyID0gYWN0aXZhdGlvblN0YXRlLmlzUHJvZ3JhbW1hdGljID8gZmFsc2UgOiBldnQgIT09IHVuZGVmaW5lZCAmJiAoZXZ0LnR5cGUgPT09ICdtb3VzZWRvd24nIHx8IGV2dC50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZXZ0LnR5cGUgPT09ICdwb2ludGVyZG93bicpO1xuICAgICAgICB2YXIgaGFzQWN0aXZhdGVkQ2hpbGQgPSBldnQgIT09IHVuZGVmaW5lZCAmJiBhY3RpdmF0ZWRUYXJnZXRzLmxlbmd0aCA+IDAgJiYgYWN0aXZhdGVkVGFyZ2V0cy5zb21lKGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIF90aGlzLmFkYXB0ZXJfLmNvbnRhaW5zRXZlbnRUYXJnZXQodGFyZ2V0KTsgfSk7XG4gICAgICAgIGlmIChoYXNBY3RpdmF0ZWRDaGlsZCkge1xuICAgICAgICAgICAgLy8gSW1tZWRpYXRlbHkgcmVzZXQgYWN0aXZhdGlvbiBzdGF0ZSwgd2hpbGUgcHJlc2VydmluZyBsb2dpYyB0aGF0IHByZXZlbnRzIHRvdWNoIGZvbGxvdy1vbiBldmVudHNcbiAgICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhY3RpdmF0ZWRUYXJnZXRzLnB1c2goZXZ0LnRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRGVhY3RpdmF0aW9uSGFuZGxlcnNfKGV2dCk7XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlID0gdGhpcy5jaGVja0VsZW1lbnRNYWRlQWN0aXZlXyhldnQpO1xuICAgICAgICBpZiAoYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVBY3RpdmF0aW9uXygpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBSZXNldCBhcnJheSBvbiBuZXh0IGZyYW1lIGFmdGVyIHRoZSBjdXJyZW50IGV2ZW50IGhhcyBoYWQgYSBjaGFuY2UgdG8gYnViYmxlIHRvIHByZXZlbnQgYW5jZXN0b3IgcmlwcGxlc1xuICAgICAgICAgICAgYWN0aXZhdGVkVGFyZ2V0cyA9IFtdO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmF0aW9uU3RhdGUud2FzRWxlbWVudE1hZGVBY3RpdmVcbiAgICAgICAgICAgICAgICAmJiBldnQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICYmIChldnQua2V5ID09PSAnICcgfHwgZXZ0LmtleUNvZGUgPT09IDMyKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHNwYWNlIHdhcyBwcmVzc2VkLCB0cnkgYWdhaW4gd2l0aGluIGFuIHJBRiBjYWxsIHRvIGRldGVjdCA6YWN0aXZlLCBiZWNhdXNlIGRpZmZlcmVudCBVQXMgcmVwb3J0XG4gICAgICAgICAgICAgICAgLy8gYWN0aXZlIHN0YXRlcyBpbmNvbnNpc3RlbnRseSB3aGVuIHRoZXkncmUgY2FsbGVkIHdpdGhpbiBldmVudCBoYW5kbGluZyBjb2RlOlxuICAgICAgICAgICAgICAgIC8vIC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjM1OTcxXG4gICAgICAgICAgICAgICAgLy8gLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMjkzNzQxXG4gICAgICAgICAgICAgICAgLy8gV2UgdHJ5IGZpcnN0IG91dHNpZGUgckFGIHRvIHN1cHBvcnQgRWRnZSwgd2hpY2ggZG9lcyBub3QgZXhoaWJpdCB0aGlzIHByb2JsZW0sIGJ1dCB3aWxsIGNyYXNoIGlmIGEgQ1NTXG4gICAgICAgICAgICAgICAgLy8gdmFyaWFibGUgaXMgc2V0IHdpdGhpbiBhIHJBRiBjYWxsYmFjayBmb3IgYSBzdWJtaXQgYnV0dG9uIGludGVyYWN0aW9uICgjMjI0MSkuXG4gICAgICAgICAgICAgICAgYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlID0gX3RoaXMuY2hlY2tFbGVtZW50TWFkZUFjdGl2ZV8oZXZ0KTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGVBY3RpdmF0aW9uXygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWN0aXZhdGlvblN0YXRlLndhc0VsZW1lbnRNYWRlQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgYWN0aXZhdGlvbiBzdGF0ZSBpbW1lZGlhdGVseSBpZiBlbGVtZW50IHdhcyBub3QgbWFkZSBhY3RpdmUuXG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGlvblN0YXRlXyA9IF90aGlzLmRlZmF1bHRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuY2hlY2tFbGVtZW50TWFkZUFjdGl2ZV8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHJldHVybiAoZXZ0ICE9PSB1bmRlZmluZWQgJiYgZXZ0LnR5cGUgPT09ICdrZXlkb3duJykgPyB0aGlzLmFkYXB0ZXJfLmlzU3VyZmFjZUFjdGl2ZSgpIDogdHJ1ZTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmFuaW1hdGVBY3RpdmF0aW9uXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gTURDUmlwcGxlRm91bmRhdGlvbi5zdHJpbmdzLCBWQVJfRkdfVFJBTlNMQVRFX1NUQVJUID0gX2EuVkFSX0ZHX1RSQU5TTEFURV9TVEFSVCwgVkFSX0ZHX1RSQU5TTEFURV9FTkQgPSBfYS5WQVJfRkdfVFJBTlNMQVRFX0VORDtcbiAgICAgICAgdmFyIF9iID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLCBGR19ERUFDVElWQVRJT04gPSBfYi5GR19ERUFDVElWQVRJT04sIEZHX0FDVElWQVRJT04gPSBfYi5GR19BQ1RJVkFUSU9OO1xuICAgICAgICB2YXIgREVBQ1RJVkFUSU9OX1RJTUVPVVRfTVMgPSBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuREVBQ1RJVkFUSU9OX1RJTUVPVVRfTVM7XG4gICAgICAgIHRoaXMubGF5b3V0SW50ZXJuYWxfKCk7XG4gICAgICAgIHZhciB0cmFuc2xhdGVTdGFydCA9ICcnO1xuICAgICAgICB2YXIgdHJhbnNsYXRlRW5kID0gJyc7XG4gICAgICAgIGlmICghdGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICB2YXIgX2MgPSB0aGlzLmdldEZnVHJhbnNsYXRpb25Db29yZGluYXRlc18oKSwgc3RhcnRQb2ludCA9IF9jLnN0YXJ0UG9pbnQsIGVuZFBvaW50ID0gX2MuZW5kUG9pbnQ7XG4gICAgICAgICAgICB0cmFuc2xhdGVTdGFydCA9IHN0YXJ0UG9pbnQueCArIFwicHgsIFwiICsgc3RhcnRQb2ludC55ICsgXCJweFwiO1xuICAgICAgICAgICAgdHJhbnNsYXRlRW5kID0gZW5kUG9pbnQueCArIFwicHgsIFwiICsgZW5kUG9pbnQueSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXJfLnVwZGF0ZUNzc1ZhcmlhYmxlKFZBUl9GR19UUkFOU0xBVEVfU1RBUlQsIHRyYW5zbGF0ZVN0YXJ0KTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfVFJBTlNMQVRFX0VORCwgdHJhbnNsYXRlRW5kKTtcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBvbmdvaW5nIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uIGFuaW1hdGlvbnNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGlvblRpbWVyXyk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZnRGVhY3RpdmF0aW9uUmVtb3ZhbFRpbWVyXyk7XG4gICAgICAgIHRoaXMucm1Cb3VuZGVkQWN0aXZhdGlvbkNsYXNzZXNfKCk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoRkdfREVBQ1RJVkFUSU9OKTtcbiAgICAgICAgLy8gRm9yY2UgbGF5b3V0IGluIG9yZGVyIHRvIHJlLXRyaWdnZXIgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgdGhpcy5hZGFwdGVyXy5jb21wdXRlQm91bmRpbmdSZWN0KCk7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoRkdfQUNUSVZBVElPTik7XG4gICAgICAgIHRoaXMuYWN0aXZhdGlvblRpbWVyXyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYWN0aXZhdGlvblRpbWVyQ2FsbGJhY2tfKCk7IH0sIERFQUNUSVZBVElPTl9USU1FT1VUX01TKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldEZnVHJhbnNsYXRpb25Db29yZGluYXRlc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuYWN0aXZhdGlvblN0YXRlXywgYWN0aXZhdGlvbkV2ZW50ID0gX2EuYWN0aXZhdGlvbkV2ZW50LCB3YXNBY3RpdmF0ZWRCeVBvaW50ZXIgPSBfYS53YXNBY3RpdmF0ZWRCeVBvaW50ZXI7XG4gICAgICAgIHZhciBzdGFydFBvaW50O1xuICAgICAgICBpZiAod2FzQWN0aXZhdGVkQnlQb2ludGVyKSB7XG4gICAgICAgICAgICBzdGFydFBvaW50ID0gZ2V0Tm9ybWFsaXplZEV2ZW50Q29vcmRzKGFjdGl2YXRpb25FdmVudCwgdGhpcy5hZGFwdGVyXy5nZXRXaW5kb3dQYWdlT2Zmc2V0KCksIHRoaXMuYWRhcHRlcl8uY29tcHV0ZUJvdW5kaW5nUmVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5mcmFtZV8ud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuZnJhbWVfLmhlaWdodCAvIDIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIENlbnRlciB0aGUgZWxlbWVudCBhcm91bmQgdGhlIHN0YXJ0IHBvaW50LlxuICAgICAgICBzdGFydFBvaW50ID0ge1xuICAgICAgICAgICAgeDogc3RhcnRQb2ludC54IC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMiksXG4gICAgICAgICAgICB5OiBzdGFydFBvaW50LnkgLSAodGhpcy5pbml0aWFsU2l6ZV8gLyAyKSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVuZFBvaW50ID0ge1xuICAgICAgICAgICAgeDogKHRoaXMuZnJhbWVfLndpZHRoIC8gMikgLSAodGhpcy5pbml0aWFsU2l6ZV8gLyAyKSxcbiAgICAgICAgICAgIHk6ICh0aGlzLmZyYW1lXy5oZWlnaHQgLyAyKSAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBzdGFydFBvaW50OiBzdGFydFBvaW50LCBlbmRQb2ludDogZW5kUG9pbnQgfTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnJ1bkRlYWN0aXZhdGlvblVYTG9naWNJZlJlYWR5XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJvdGggd2hlbiBhIHBvaW50aW5nIGRldmljZSBpcyByZWxlYXNlZCwgYW5kIHdoZW4gdGhlIGFjdGl2YXRpb24gYW5pbWF0aW9uIGVuZHMuXG4gICAgICAgIC8vIFRoZSBkZWFjdGl2YXRpb24gYW5pbWF0aW9uIHNob3VsZCBvbmx5IHJ1biBhZnRlciBib3RoIG9mIHRob3NlIG9jY3VyLlxuICAgICAgICB2YXIgRkdfREVBQ1RJVkFUSU9OID0gTURDUmlwcGxlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkZHX0RFQUNUSVZBVElPTjtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5hY3RpdmF0aW9uU3RhdGVfLCBoYXNEZWFjdGl2YXRpb25VWFJ1biA9IF9hLmhhc0RlYWN0aXZhdGlvblVYUnVuLCBpc0FjdGl2YXRlZCA9IF9hLmlzQWN0aXZhdGVkO1xuICAgICAgICB2YXIgYWN0aXZhdGlvbkhhc0VuZGVkID0gaGFzRGVhY3RpdmF0aW9uVVhSdW4gfHwgIWlzQWN0aXZhdGVkO1xuICAgICAgICBpZiAoYWN0aXZhdGlvbkhhc0VuZGVkICYmIHRoaXMuYWN0aXZhdGlvbkFuaW1hdGlvbkhhc0VuZGVkXykge1xuICAgICAgICAgICAgdGhpcy5ybUJvdW5kZWRBY3RpdmF0aW9uQ2xhc3Nlc18oKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoRkdfREVBQ1RJVkFUSU9OKTtcbiAgICAgICAgICAgIHRoaXMuZmdEZWFjdGl2YXRpb25SZW1vdmFsVGltZXJfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoRkdfREVBQ1RJVkFUSU9OKTtcbiAgICAgICAgICAgIH0sIG51bWJlcnMuRkdfREVBQ1RJVkFUSU9OX01TKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUucm1Cb3VuZGVkQWN0aXZhdGlvbkNsYXNzZXNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgRkdfQUNUSVZBVElPTiA9IE1EQ1JpcHBsZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5GR19BQ1RJVkFUSU9OO1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEZHX0FDVElWQVRJT04pO1xuICAgICAgICB0aGlzLmFjdGl2YXRpb25BbmltYXRpb25IYXNFbmRlZF8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy5jb21wdXRlQm91bmRpbmdSZWN0KCk7XG4gICAgfTtcbiAgICBNRENSaXBwbGVGb3VuZGF0aW9uLnByb3RvdHlwZS5yZXNldEFjdGl2YXRpb25TdGF0ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucHJldmlvdXNBY3RpdmF0aW9uRXZlbnRfID0gdGhpcy5hY3RpdmF0aW9uU3RhdGVfLmFjdGl2YXRpb25FdmVudDtcbiAgICAgICAgdGhpcy5hY3RpdmF0aW9uU3RhdGVfID0gdGhpcy5kZWZhdWx0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgICAvLyBUb3VjaCBkZXZpY2VzIG1heSBmaXJlIGFkZGl0aW9uYWwgZXZlbnRzIGZvciB0aGUgc2FtZSBpbnRlcmFjdGlvbiB3aXRoaW4gYSBzaG9ydCB0aW1lLlxuICAgICAgICAvLyBTdG9yZSB0aGUgcHJldmlvdXMgZXZlbnQgdW50aWwgaXQncyBzYWZlIHRvIGFzc3VtZSB0aGF0IHN1YnNlcXVlbnQgZXZlbnRzIGFyZSBmb3IgbmV3IGludGVyYWN0aW9ucy5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcmV2aW91c0FjdGl2YXRpb25FdmVudF8gPSB1bmRlZmluZWQ7IH0sIE1EQ1JpcHBsZUZvdW5kYXRpb24ubnVtYmVycy5UQVBfREVMQVlfTVMpO1xuICAgIH07XG4gICAgTURDUmlwcGxlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVhY3RpdmF0ZV8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhY3RpdmF0aW9uU3RhdGUgPSB0aGlzLmFjdGl2YXRpb25TdGF0ZV87XG4gICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpbiBzY2VuYXJpb3Mgc3VjaCBhcyB3aGVuIHlvdSBoYXZlIGEga2V5dXAgZXZlbnQgdGhhdCBibHVycyB0aGUgZWxlbWVudC5cbiAgICAgICAgaWYgKCFhY3RpdmF0aW9uU3RhdGUuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSB0c2xpYl8xLl9fYXNzaWduKHt9LCBhY3RpdmF0aW9uU3RhdGUpO1xuICAgICAgICBpZiAoYWN0aXZhdGlvblN0YXRlLmlzUHJvZ3JhbW1hdGljKSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYW5pbWF0ZURlYWN0aXZhdGlvbl8oc3RhdGUpOyB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRBY3RpdmF0aW9uU3RhdGVfKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlcmVnaXN0ZXJEZWFjdGl2YXRpb25IYW5kbGVyc18oKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZhdGlvblN0YXRlXy5oYXNEZWFjdGl2YXRpb25VWFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuYW5pbWF0ZURlYWN0aXZhdGlvbl8oc3RhdGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0QWN0aXZhdGlvblN0YXRlXygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmFuaW1hdGVEZWFjdGl2YXRpb25fID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB3YXNBY3RpdmF0ZWRCeVBvaW50ZXIgPSBfYS53YXNBY3RpdmF0ZWRCeVBvaW50ZXIsIHdhc0VsZW1lbnRNYWRlQWN0aXZlID0gX2Eud2FzRWxlbWVudE1hZGVBY3RpdmU7XG4gICAgICAgIGlmICh3YXNBY3RpdmF0ZWRCeVBvaW50ZXIgfHwgd2FzRWxlbWVudE1hZGVBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMucnVuRGVhY3RpdmF0aW9uVVhMb2dpY0lmUmVhZHlfKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLmxheW91dEludGVybmFsXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5mcmFtZV8gPSB0aGlzLmFkYXB0ZXJfLmNvbXB1dGVCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgdmFyIG1heERpbSA9IE1hdGgubWF4KHRoaXMuZnJhbWVfLmhlaWdodCwgdGhpcy5mcmFtZV8ud2lkdGgpO1xuICAgICAgICAvLyBTdXJmYWNlIGRpYW1ldGVyIGlzIHRyZWF0ZWQgZGlmZmVyZW50bHkgZm9yIHVuYm91bmRlZCB2cy4gYm91bmRlZCByaXBwbGVzLlxuICAgICAgICAvLyBVbmJvdW5kZWQgcmlwcGxlIGRpYW1ldGVyIGlzIGNhbGN1bGF0ZWQgc21hbGxlciBzaW5jZSB0aGUgc3VyZmFjZSBpcyBleHBlY3RlZCB0byBhbHJlYWR5IGJlIHBhZGRlZCBhcHByb3ByaWF0ZWx5XG4gICAgICAgIC8vIHRvIGV4dGVuZCB0aGUgaGl0Ym94LCBhbmQgdGhlIHJpcHBsZSBpcyBleHBlY3RlZCB0byBtZWV0IHRoZSBlZGdlcyBvZiB0aGUgcGFkZGVkIGhpdGJveCAod2hpY2ggaXMgdHlwaWNhbGx5XG4gICAgICAgIC8vIHNxdWFyZSkuIEJvdW5kZWQgcmlwcGxlcywgb24gdGhlIG90aGVyIGhhbmQsIGFyZSBmdWxseSBleHBlY3RlZCB0byBleHBhbmQgYmV5b25kIHRoZSBzdXJmYWNlJ3MgbG9uZ2VzdCBkaWFtZXRlclxuICAgICAgICAvLyAoY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgZGlhZ29uYWwgcGx1cyBhIGNvbnN0YW50IHBhZGRpbmcpLCBhbmQgYXJlIGNsaXBwZWQgYXQgdGhlIHN1cmZhY2UncyBib3JkZXIgdmlhXG4gICAgICAgIC8vIGBvdmVyZmxvdzogaGlkZGVuYC5cbiAgICAgICAgdmFyIGdldEJvdW5kZWRSYWRpdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaHlwb3RlbnVzZSA9IE1hdGguc3FydChNYXRoLnBvdyhfdGhpcy5mcmFtZV8ud2lkdGgsIDIpICsgTWF0aC5wb3coX3RoaXMuZnJhbWVfLmhlaWdodCwgMikpO1xuICAgICAgICAgICAgcmV0dXJuIGh5cG90ZW51c2UgKyBNRENSaXBwbGVGb3VuZGF0aW9uLm51bWJlcnMuUEFERElORztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXhSYWRpdXNfID0gdGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpID8gbWF4RGltIDogZ2V0Qm91bmRlZFJhZGl1cygpO1xuICAgICAgICAvLyBSaXBwbGUgaXMgc2l6ZWQgYXMgYSBmcmFjdGlvbiBvZiB0aGUgbGFyZ2VzdCBkaW1lbnNpb24gb2YgdGhlIHN1cmZhY2UsIHRoZW4gc2NhbGVzIHVwIHVzaW5nIGEgQ1NTIHNjYWxlIHRyYW5zZm9ybVxuICAgICAgICB2YXIgaW5pdGlhbFNpemUgPSBNYXRoLmZsb29yKG1heERpbSAqIE1EQ1JpcHBsZUZvdW5kYXRpb24ubnVtYmVycy5JTklUSUFMX09SSUdJTl9TQ0FMRSk7XG4gICAgICAgIC8vIFVuYm91bmRlZCByaXBwbGUgc2l6ZSBzaG91bGQgYWx3YXlzIGJlIGV2ZW4gbnVtYmVyIHRvIGVxdWFsbHkgY2VudGVyIGFsaWduLlxuICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpICYmIGluaXRpYWxTaXplICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsU2l6ZV8gPSBpbml0aWFsU2l6ZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxTaXplXyA9IGluaXRpYWxTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmdTY2FsZV8gPSBcIlwiICsgdGhpcy5tYXhSYWRpdXNfIC8gdGhpcy5pbml0aWFsU2l6ZV87XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0Q3NzVmFyc18oKTtcbiAgICB9O1xuICAgIE1EQ1JpcHBsZUZvdW5kYXRpb24ucHJvdG90eXBlLnVwZGF0ZUxheW91dENzc1ZhcnNfID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSBNRENSaXBwbGVGb3VuZGF0aW9uLnN0cmluZ3MsIFZBUl9GR19TSVpFID0gX2EuVkFSX0ZHX1NJWkUsIFZBUl9MRUZUID0gX2EuVkFSX0xFRlQsIFZBUl9UT1AgPSBfYS5WQVJfVE9QLCBWQVJfRkdfU0NBTEUgPSBfYS5WQVJfRkdfU0NBTEU7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX0ZHX1NJWkUsIHRoaXMuaW5pdGlhbFNpemVfICsgXCJweFwiKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyXy51cGRhdGVDc3NWYXJpYWJsZShWQVJfRkdfU0NBTEUsIHRoaXMuZmdTY2FsZV8pO1xuICAgICAgICBpZiAodGhpcy5hZGFwdGVyXy5pc1VuYm91bmRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVuYm91bmRlZENvb3Jkc18gPSB7XG4gICAgICAgICAgICAgICAgbGVmdDogTWF0aC5yb3VuZCgodGhpcy5mcmFtZV8ud2lkdGggLyAyKSAtICh0aGlzLmluaXRpYWxTaXplXyAvIDIpKSxcbiAgICAgICAgICAgICAgICB0b3A6IE1hdGgucm91bmQoKHRoaXMuZnJhbWVfLmhlaWdodCAvIDIpIC0gKHRoaXMuaW5pdGlhbFNpemVfIC8gMikpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX0xFRlQsIHRoaXMudW5ib3VuZGVkQ29vcmRzXy5sZWZ0ICsgXCJweFwiKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlcl8udXBkYXRlQ3NzVmFyaWFibGUoVkFSX1RPUCwgdGhpcy51bmJvdW5kZWRDb29yZHNfLnRvcCArIFwicHhcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNRENSaXBwbGVGb3VuZGF0aW9uO1xufShNRENGb3VuZGF0aW9uKSk7XG5leHBvcnQgeyBNRENSaXBwbGVGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDUmlwcGxlRm91bmRhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvdW5kYXRpb24uanMubWFwIiwiLyoqXG4gKiBTdG9yZXMgcmVzdWx0IGZyb20gc3VwcG9ydHNDc3NWYXJpYWJsZXMgdG8gYXZvaWQgcmVkdW5kYW50IHByb2Nlc3NpbmcgdG9cbiAqIGRldGVjdCBDU1MgY3VzdG9tIHZhcmlhYmxlIHN1cHBvcnQuXG4gKi9cbnZhciBzdXBwb3J0c0Nzc1ZhcmlhYmxlc187XG5mdW5jdGlvbiBkZXRlY3RFZGdlUHNldWRvVmFyQnVnKHdpbmRvd09iaikge1xuICAgIC8vIERldGVjdCB2ZXJzaW9ucyBvZiBFZGdlIHdpdGggYnVnZ3kgdmFyKCkgc3VwcG9ydFxuICAgIC8vIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTE0OTU0NDgvXG4gICAgdmFyIGRvY3VtZW50ID0gd2luZG93T2JqLmRvY3VtZW50O1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbm9kZS5jbGFzc05hbWUgPSAnbWRjLXJpcHBsZS1zdXJmYWNlLS10ZXN0LWVkZ2UtdmFyLWJ1Zyc7XG4gICAgLy8gQXBwZW5kIHRvIGhlYWQgaW5zdGVhZCBvZiBib2R5IGJlY2F1c2UgdGhpcyBzY3JpcHQgbWlnaHQgYmUgaW52b2tlZCBpbiB0aGVcbiAgICAvLyBoZWFkLCBpbiB3aGljaCBjYXNlIHRoZSBib2R5IGRvZXNuJ3QgZXhpc3QgeWV0LiBUaGUgcHJvYmUgd29ya3MgZWl0aGVyIHdheS5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIC8vIFRoZSBidWcgZXhpc3RzIGlmIDo6YmVmb3JlIHN0eWxlIGVuZHMgdXAgcHJvcGFnYXRpbmcgdG8gdGhlIHBhcmVudCBlbGVtZW50LlxuICAgIC8vIEFkZGl0aW9uYWxseSwgZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIG51bGwgaW4gaWZyYW1lcyB3aXRoIGRpc3BsYXk6IFwibm9uZVwiIGluIEZpcmVmb3gsXG4gICAgLy8gYnV0IEZpcmVmb3ggaXMga25vd24gdG8gc3VwcG9ydCBDU1MgY3VzdG9tIHByb3BlcnRpZXMgY29ycmVjdGx5LlxuICAgIC8vIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTQ4Mzk3XG4gICAgdmFyIGNvbXB1dGVkU3R5bGUgPSB3aW5kb3dPYmouZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICB2YXIgaGFzUHNldWRvVmFyQnVnID0gY29tcHV0ZWRTdHlsZSAhPT0gbnVsbCAmJiBjb21wdXRlZFN0eWxlLmJvcmRlclRvcFN0eWxlID09PSAnc29saWQnO1xuICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gaGFzUHNldWRvVmFyQnVnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzQ3NzVmFyaWFibGVzKHdpbmRvd09iaiwgZm9yY2VSZWZyZXNoKSB7XG4gICAgaWYgKGZvcmNlUmVmcmVzaCA9PT0gdm9pZCAwKSB7IGZvcmNlUmVmcmVzaCA9IGZhbHNlOyB9XG4gICAgdmFyIENTUyA9IHdpbmRvd09iai5DU1M7XG4gICAgdmFyIHN1cHBvcnRzQ3NzVmFycyA9IHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQ3NzVmFyaWFibGVzXyA9PT0gJ2Jvb2xlYW4nICYmICFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQ3NzVmFyaWFibGVzXztcbiAgICB9XG4gICAgdmFyIHN1cHBvcnRzRnVuY3Rpb25QcmVzZW50ID0gQ1NTICYmIHR5cGVvZiBDU1Muc3VwcG9ydHMgPT09ICdmdW5jdGlvbic7XG4gICAgaWYgKCFzdXBwb3J0c0Z1bmN0aW9uUHJlc2VudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBleHBsaWNpdGx5U3VwcG9ydHNDc3NWYXJzID0gQ1NTLnN1cHBvcnRzKCctLWNzcy12YXJzJywgJ3llcycpO1xuICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NDY2OVxuICAgIC8vIFNlZTogUkVBRE1FIHNlY3Rpb24gb24gU2FmYXJpXG4gICAgdmFyIHdlQXJlRmVhdHVyZURldGVjdGluZ1NhZmFyaTEwcGx1cyA9IChDU1Muc3VwcG9ydHMoJygtLWNzcy12YXJzOiB5ZXMpJykgJiZcbiAgICAgICAgQ1NTLnN1cHBvcnRzKCdjb2xvcicsICcjMDAwMDAwMDAnKSk7XG4gICAgaWYgKGV4cGxpY2l0bHlTdXBwb3J0c0Nzc1ZhcnMgfHwgd2VBcmVGZWF0dXJlRGV0ZWN0aW5nU2FmYXJpMTBwbHVzKSB7XG4gICAgICAgIHN1cHBvcnRzQ3NzVmFycyA9ICFkZXRlY3RFZGdlUHNldWRvVmFyQnVnKHdpbmRvd09iaik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdXBwb3J0c0Nzc1ZhcnMgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgc3VwcG9ydHNDc3NWYXJpYWJsZXNfID0gc3VwcG9ydHNDc3NWYXJzO1xuICAgIH1cbiAgICByZXR1cm4gc3VwcG9ydHNDc3NWYXJzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRFdmVudENvb3JkcyhldnQsIHBhZ2VPZmZzZXQsIGNsaWVudFJlY3QpIHtcbiAgICBpZiAoIWV2dCkge1xuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XG4gICAgfVxuICAgIHZhciB4ID0gcGFnZU9mZnNldC54LCB5ID0gcGFnZU9mZnNldC55O1xuICAgIHZhciBkb2N1bWVudFggPSB4ICsgY2xpZW50UmVjdC5sZWZ0O1xuICAgIHZhciBkb2N1bWVudFkgPSB5ICsgY2xpZW50UmVjdC50b3A7XG4gICAgdmFyIG5vcm1hbGl6ZWRYO1xuICAgIHZhciBub3JtYWxpemVkWTtcbiAgICAvLyBEZXRlcm1pbmUgdG91Y2ggcG9pbnQgcmVsYXRpdmUgdG8gdGhlIHJpcHBsZSBjb250YWluZXIuXG4gICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgdmFyIHRvdWNoRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gdG91Y2hFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSB0b3VjaEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIG1vdXNlRXZlbnQgPSBldnQ7XG4gICAgICAgIG5vcm1hbGl6ZWRYID0gbW91c2VFdmVudC5wYWdlWCAtIGRvY3VtZW50WDtcbiAgICAgICAgbm9ybWFsaXplZFkgPSBtb3VzZUV2ZW50LnBhZ2VZIC0gZG9jdW1lbnRZO1xuICAgIH1cbiAgICByZXR1cm4geyB4OiBub3JtYWxpemVkWCwgeTogbm9ybWFsaXplZFkgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0VHh0Qm94RGltLCBzZXRQYXJhbXMsIGdldFBhcmFtcywgcHV0UGFyYW1zLCBnZXRSYW5kb21JZCwgZ2V0TmFtZUZyb21JZCB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgUk1HU3RhdGlvbiwgSW50MlN0YXRpb24sIEludDNMU3RhdGlvbiwgSW50M1JTdGF0aW9uLCBPU0kxMUxTdGF0aW9uLCBPU0kxMVJTdGF0aW9uLCBPU0kxMkxTdGF0aW9uLCBPU0kxMlJTdGF0aW9uLCBPU0kyMlN0YXRpb24sIE9TSTIyTFN0YXRpb24sIE9TSTIyUlN0YXRpb24sIE9TSTIyRW5kU3RhdGlvbiB9IGZyb20gJy4uL1N0YXRpb24vU3RhdGlvbic7XHJcblxyXG5pbXBvcnQgeyBJRCwgTmFtZSwgU3RhdGlvbkluZm8sIFJNR1BhcmFtLCBEaXJlY3Rpb25Mb25nIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5cclxuaW50ZXJmYWNlIFN0YXRpb25EaWN0IHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogUk1HU3RhdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJNR0xpbmUge1xyXG4gICAgcHJvdGVjdGVkIF9zdmdIZWlnaHQ6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBfc3ZnV2lkdGg6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBfc3ZnRGVzdFdpZHRoOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9zaG93T3V0ZXI6IGJvb2xlYW47XHJcbiAgICB0aGVtZUNpdHk7IHRoZW1lTGluZTsgX3RoZW1lQ29sb3VyOyBfZmdDb2xvdXI7XHJcbiAgICBwcml2YXRlIF95UGM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX3N0cmlwUGM6IG51bWJlcjtcclxuICAgIHByb3RlY3RlZCBfcGFkZGluZzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfbG9uZ0ludGVydmFsID0gMTtcclxuICAgIHByaXZhdGUgX2JyYW5jaFNwYWNpbmc6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX3R4dEZsaXA6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgc3RhdGlvbnMgPSB7fSBhcyBTdGF0aW9uRGljdDtcclxuICAgIHByb3RlY3RlZCBfY3VycmVudFN0bklkOiBJRDtcclxuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uOiAnbCcgfCAncic7XHJcbiAgICBwcm90ZWN0ZWQgX3BsYXRmb3JtTnVtOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgX2NoYXJGb3JtOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgX2xpbmVOYW1lczogTmFtZTtcclxuICAgIHByaXZhdGUgX2Rlc3RMZWdhY3k6IGJvb2xlYW47IFxyXG5cclxuICAgIGNvbnN0cnVjdG9yIChwYXJhbTogUk1HUGFyYW0pIHtcclxuICAgICAgICB0aGlzLl9zdmdIZWlnaHQgPSBwYXJhbS5zdmdfaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX3N2Z1dpZHRoID0gcGFyYW0uc3ZnX3dpZHRoO1xyXG4gICAgICAgIHRoaXMuX3N2Z0Rlc3RXaWR0aCA9IHBhcmFtLnN2Z19kZXN0X3dpZHRoO1xyXG4gICAgICAgIHRoaXMuX3Nob3dPdXRlciA9IHBhcmFtWydzaG93X291dGVyJ107XHJcblxyXG4gICAgICAgIFt0aGlzLnRoZW1lQ2l0eSwgdGhpcy50aGVtZUxpbmUsIHRoaXMuX3RoZW1lQ29sb3VyLCB0aGlzLl9mZ0NvbG91cl0gPSBwYXJhbS50aGVtZTtcclxuXHJcbiAgICAgICAgdGhpcy55UGMgPSBwYXJhbVsneV9wYyddO1xyXG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYXJhbVsncGFkZGluZyddO1xyXG4gICAgICAgIHRoaXMuX3N0cmlwUGMgPSBwYXJhbVsnc3RyaXBfcGMnXTtcclxuICAgICAgICB0aGlzLl9icmFuY2hTcGFjaW5nID0gcGFyYW0uYnJhbmNoX3NwYWNpbmc7XHJcbiAgICAgICAgdGhpcy5fdHh0RmxpcCA9IHBhcmFtWyd0eHRfZmxpcCddO1xyXG5cclxuICAgICAgICB0aGlzLl9saW5lTmFtZXMgPSBwYXJhbVsnbGluZV9uYW1lJ107XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0gPSB0aGlzLl9pbml0U3RuSW5zdGFuY2Uoc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jdXJyZW50U3RuSWQgPSBwYXJhbVsnY3VycmVudF9zdG5faWR4J107XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcGFyYW1bJ2RpcmVjdGlvbiddO1xyXG4gICAgICAgIHRoaXMuX3BsYXRmb3JtTnVtID0gcGFyYW1bJ3BsYXRmb3JtX251bSddO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2Rlc3RMZWdhY3kgPSBwYXJhbVsnZGVzdF9sZWdhY3knXTtcclxuXHJcbiAgICAgICAgdGhpcy5fY2hhckZvcm0gPSBwYXJhbS5jaGFyX2Zvcm07XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBvdGhlciBwcm9wZXJ0aWVzIG9mIHN0YXRpb25zXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5uYW1lUG9zID0gdGhpcy5fdHh0RmxpcCA/ICF0aGlzLl9zdG5OYW1lUG9zKHN0bklkKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFN0bkluc3RhbmNlKHN0bklkOiBJRCwgc3RuSW5mbzogU3RhdGlvbkluZm8pIHtcclxuICAgICAgICBzd2l0Y2ggKHN0bkluZm8uY2hhbmdlX3R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnaW50Mic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjFfcGwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMV91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3ByJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50MlN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgICAgICBjYXNlICdpbnQzX2wnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kzMV91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTMxX3BsJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50M0xTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICAgICAgY2FzZSAnaW50M19yJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMzFfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kzMV9wcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludDNSU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfcGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0kxMUxTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTExUlN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3BsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTNfdWwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxM19wbCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTEyTFN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3ByJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTNfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxM19wcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTEyUlN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgICAgICBjYXNlICdvc2kyMl9wbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3VsJzpcclxuICAgICAgICAgICAgICAgIGlmIChzdG5JbmZvLnBhcmVudHNbMF0gPT0gJ2xpbmVzdGFydCcgfHwgc3RuSW5mby5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTIyRW5kU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1NJMjJMU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3ByJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfdXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKHN0bkluZm8ucGFyZW50c1swXSA9PSAnbGluZXN0YXJ0JyB8fCBzdG5JbmZvLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1NJMjJFbmRTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0kyMlJTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUk1HU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2lkdGggKGluIHBpeGVscykgb2YgYHN2ZyNkZXN0aW5hdGlvbmAuIFxyXG4gICAgICovXHJcbiAgICAvLyBnZXQgc3ZnRGVzdFdpZHRoKCkge3JldHVybiBnZXRQYXJhbXMoKS5zdmdfZGVzdF93aWR0aDt9XHJcbiAgICBzZXQgc3ZnRGVzdFdpZHRoKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsIDw9IDApIHtyZXR1cm47fVxyXG4gICAgICAgIHRoaXMuX3N2Z0Rlc3RXaWR0aCA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ3N2Z19kZXN0X3dpZHRoJywgdmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3U1ZHRnJhbWUoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHRlciBvZiB3aWR0aCBvZiBgc3ZnI3JhaWxtYXBgLiBcclxuICAgICAqL1xyXG4gICAgc2V0IHN2Z1dpZHRoKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsIDw9IDApIHtyZXR1cm47fVxyXG4gICAgICAgIHRoaXMuX3N2Z1dpZHRoID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnc3ZnX3dpZHRoJywgdmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3U1ZHRnJhbWUoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU3RuTmFtZUJnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2YgdmVydGljYWwgcG9zaXRpb24gb2YgbGluZSAoeSkuXHJcbiAgICAgKiBAcGFyYW0gdmFsIFBlcmNlbnRhZ2Ugb2YgdmVydGljYWwgcG9zaXRpb24sIGdpdmVuIGZpeGVkIGBzdmdIZWlnaHRgXHJcbiAgICAgKi9cclxuICAgIHNldCB5UGModmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl95UGMgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCd5X3BjJywgdmFsKTtcclxuXHJcbiAgICAgICAgbGV0IHkgPSB2YWwgKiB0aGlzLl9zdmdIZWlnaHQgLyAxMDA7XHJcbiAgICAgICAgJCgnZyNtYWluJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7eX0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBhZGRpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB2YWwgPSBOdW1iZXIodmFsKTtcclxuICAgICAgICB0aGlzLl9wYWRkaW5nID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygncGFkZGluZycsIHZhbCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgYnJhbmNoU3BhY2luZyh2YWw6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2JyYW5jaFNwYWNpbmcgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdicmFuY2hfc3BhY2luZycsIHZhbCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdHh0RmxpcCh2YWw6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl90eHRGbGlwID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygndHh0X2ZsaXAnLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UubmFtZVBvcyA9IHRoaXMuX3R4dEZsaXAgPyAhdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCkgOiB0aGlzLl9zdG5OYW1lUG9zKHN0bklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdGhlbWVDb2xvdXIoaGV4czogc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLl90aGVtZUNvbG91ciA9IGhleHNbMF07XHJcbiAgICAgICAgdGhpcy5fZmdDb2xvdXIgPSBoZXhzWzFdO1xyXG5cclxuICAgICAgICB2YXIgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBwYXJhbS50aGVtZVsyXSA9IGhleHNbMF07XHJcbiAgICAgICAgcGFyYW0udGhlbWVbM10gPSBoZXhzWzFdIGFzICcjZmZmJyB8ICcjMDAwJztcclxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG5cclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dGVyIG9mIHRyYWluIGRpcmVjdGlvbi4gXHJcbiAgICAgKi9cclxuICAgIHNldCBkaXJlY3Rpb24odmFsOiAnbCcgfCAncicpIHtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdkaXJlY3Rpb24nLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHRlciBvZiBwbGF0Zm9ybSBudW1iZXIgKGNhbiBiZSBzdHJpbmcpLiBcclxuICAgICAqL1xyXG4gICAgc2V0IHBsYXRmb3JtTnVtKHZhbDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fcGxhdGZvcm1OdW0gPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdwbGF0Zm9ybV9udW0nLCB2YWwpO1xyXG4gICAgICAgICQoJy5ybWctbmFtZV9fcGxhdGZvcm1udW0nKS50ZXh0KHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2YgY2hhcmFjdGVyIGZvcm0uIFxyXG4gICAgICogQHBhcmFtIHZhbCAndHJhZCcsICdjbicsICd0dycgb3IgJ2pwJ1xyXG4gICAgICovXHJcbiAgICBzZXQgY2hhckZvcm0odmFsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9jaGFyRm9ybSA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ2NoYXJfZm9ybScsIHZhbCk7XHJcblxyXG4gICAgICAgICQoJy5ybWctbmFtZV9fY2hhci10cmFkLCAucm1nLW5hbWVfX2NoYXItY24sIC5ybWctbmFtZV9fY2hhci10dywgLnJtZy1uYW1lX19jaGFyLWpwJylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdybWctbmFtZV9fY2hhci10cmFkIHJtZy1uYW1lX19jaGFyLWNuIHJtZy1uYW1lX19jaGFyLXR3IHJtZy1uYW1lX19jaGFyLWpwJylcclxuICAgICAgICAgICAgLmFkZENsYXNzKGBybWctbmFtZV9fY2hhci0ke3ZhbH1gKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2YgbmFtZXMgb2YgbGluZS4gXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lTmFtZXModmFsOiBOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZU5hbWVzID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnbGluZV9uYW1lJywgdmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dGVyIG9mIGxlZ2FjeSBzdHlsZSBvZiBkZXN0aW5hdGlvbiBpbmZvcm1hdGlvbiBwYW5lbC4gXHJcbiAgICAgKi9cclxuICAgIHNldCBkZXN0TGVnYWN5KHZhbDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2Rlc3RMZWdhY3kgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdkZXN0X2xlZ2FjeScsIHZhbCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHRlciBvZiBjdXJyZW50IHN0YXRpb24uIFxyXG4gICAgICovXHJcbiAgICBzZXQgY3VycmVudFN0bklkKHZhbDogSUQpIHtcclxuICAgICAgICB0aGlzLl9jdXJyZW50U3RuSWQgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdjdXJyZW50X3N0bl9pZHgnLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVN0bk5hbWVCZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5jcmVtZW50IG9mIHRoZSB3ZWlnaHQgb2Ygb3V0LWJvdW5kIGVkZ2Ugb2YgYSBzdGF0aW9uLCB3aGljaCBpbmNyZWFzZXMgdGhlIGhvcml6b250YWwgaW50ZXJ2YWwgZnJvbSBpdHMgY2hpbGRyZW4uIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX3JpZ2h0V2lkZUZhY3RvcihzdG5JZDogSUQpIHtcclxuICAgICAgICB2YXIgcmVzID0gMDtcclxuICAgICAgICBsZXQgc3RuSW5zdGFuY2UgPSB0aGlzLnN0YXRpb25zW3N0bklkXTtcclxuICAgICAgICBpZiAoc3RuSW5zdGFuY2UgaW5zdGFuY2VvZiBJbnQzUlN0YXRpb24pIHtyZXMgKz0gdGhpcy5fbG9uZ0ludGVydmFsO31cclxuICAgICAgICBpZiAoc3RuSW5zdGFuY2UgaW5zdGFuY2VvZiBPU0kxMVJTdGF0aW9uKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbDt9XHJcbiAgICAgICAgaWYgKHN0bkluc3RhbmNlIGluc3RhbmNlb2YgT1NJMTJSU3RhdGlvbikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWw7fVxyXG4gICAgICAgIGlmIChzdG5JbnN0YW5jZSBpbnN0YW5jZW9mIE9TSTIyU3RhdGlvbikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWw7fVxyXG4gICAgICAgIHZhciBzdG5DbGFzc2VzID0gWydJbnQzUlN0YXRpb24nLCAnT1NJMTFSU3RhdGlvbicsICdPU0kxMlJTdGF0aW9uJywgJ09TSTIyTFN0YXRpb24nLCAnT1NJMjJSU3RhdGlvbiddO1xyXG4gICAgICAgIGlmIChzdG5DbGFzc2VzLmluY2x1ZGVzKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWUpKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbDt9XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPT0gMikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWwvMjt9XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5jcmVtZW50IG9mIHRoZSB3ZWlnaHQgb2YgaW4tYm91bmQgZWRnZSBvZiBhIHN0YXRpb24sIHdoaWNoIGluY3JlYXNlcyB0aGUgaG9yaXpvbnRhbCBpbnRlcnZhbCBmcm9tIGl0cyBwYXJlbnRzLiBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9sZWZ0V2lkZUZhY3RvcihzdG5JZDogSUQpIHtcclxuICAgICAgICB2YXIgcmVzID0gMDtcclxuICAgICAgICBsZXQgc3RuSW5zdGFuY2UgPSB0aGlzLnN0YXRpb25zW3N0bklkXTtcclxuICAgICAgICBpZiAoc3RuSW5zdGFuY2UgaW5zdGFuY2VvZiBJbnQzTFN0YXRpb24pIHtyZXMgKz0gdGhpcy5fbG9uZ0ludGVydmFsO31cclxuICAgICAgICBpZiAoc3RuSW5zdGFuY2UgaW5zdGFuY2VvZiBPU0kxMUxTdGF0aW9uKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbDt9XHJcbiAgICAgICAgaWYgKHN0bkluc3RhbmNlIGluc3RhbmNlb2YgT1NJMTJMU3RhdGlvbikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWw7fVxyXG4gICAgICAgIGlmIChzdG5JbnN0YW5jZSBpbnN0YW5jZW9mIE9TSTIyU3RhdGlvbikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWw7fVxyXG4gICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPT0gMikge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWwvMjt9XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGF0aCB3ZWlnaHQgZnJvbSBzdGF0aW9uIDEgdG8gc3RhdGlvbiAyIChzdGF0aW9uIDIgbXVzdCBiZSBhIGNoaWxkIG9mIHN0YXRpb24gMSwgb3RoZXJ3aXNlIHJldHVybiBgLUluZmluaXR5YCkuXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfcGF0aFdlaWdodChzdG5JZDE6IElELCBzdG5JZDI6IElEKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRpb25zW3N0bklkMV0uY2hpbGRyZW4uaW5jbHVkZXMoc3RuSWQyKSkge3JldHVybiAtSW5maW5pdHk7fVxyXG4gICAgICAgIHJldHVybiAxICsgdGhpcy5fcmlnaHRXaWRlRmFjdG9yKHN0bklkMSkgKyB0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZDIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JpdGljYWwgcGF0aCBhbmQgY29ycmVzcG9uZGluZyBsZW5ndGggZnJvbSBhIHN0YXRpb24gdG8gYW5vdGhlci4gXHJcbiAgICAgKiBAcGFyYW0gZnJvbSBJRCBvZiBzdGF0aW9uIG9uIHRoZSBsZWZ0XHJcbiAgICAgKiBAcGFyYW0gdG8gSUQgb2Ygc3RhdGlvbiBvbiB0aGUgbGVmdFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX2NwKGZyb206IElELCB0bzogSUQpIHtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGZyb20gPT0gdG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgbGVuOiAwLCBub2RlczogW2Zyb21dIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhbGxMZW5ndGhzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGxldCBjcml0aWNhbFBhdGhzOiBJRFtdW10gPSBbXTtcclxuICAgICAgICB0aGlzLnN0YXRpb25zW2Zyb21dLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY3AgPSBzZWxmLl9jcChjaGlsZCwgdG8pO1xyXG4gICAgICAgICAgICBpZiAoY3AubGVuIDwgMCkge3JldHVybjt9XHJcbiAgICAgICAgICAgIGFsbExlbmd0aHMucHVzaCh0aGlzLl9wYXRoV2VpZ2h0KGZyb20sIGNoaWxkKSArIGNwLmxlbik7XHJcbiAgICAgICAgICAgIGNwLm5vZGVzLnVuc2hpZnQoZnJvbSk7XHJcbiAgICAgICAgICAgIGNyaXRpY2FsUGF0aHMucHVzaChjcC5ub2Rlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IG1heExlbmd0aCA9IE1hdGgubWF4KC4uLmFsbExlbmd0aHMpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsZW4nOiBtYXhMZW5ndGgsIFxyXG4gICAgICAgICAgICAnbm9kZXMnOiBjcml0aWNhbFBhdGhzW2FsbExlbmd0aHMuaW5kZXhPZihtYXhMZW5ndGgpXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXR0ZXIgb2YgY3JpdGljYWwgcGF0aCAoZnJvbSBsZWZ0IHRvIHJpZ2h0KSBhbmQgY29ycmVzcG9uZGluZyBsZW5ndGggb2YgdGhlIGVudGlyZSBsaW5lLiBcclxuICAgICAqL1xyXG4gICAgZ2V0IGNyaXRpY2FsUGF0aCgpIHtcclxuICAgICAgICBsZXQgYWxsTGVuZ3RoczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBsZXQgY3JpdGljYWxQYXRoczogSURbXVtdID0gW107XHJcbiAgICAgICAgdGhpcy5sZWZ0RGVzdHMuZm9yRWFjaChsZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHREZXN0cy5mb3JFYWNoKHJkID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjcCA9IHRoaXMuX2NwKGxkLCByZCk7XHJcbiAgICAgICAgICAgICAgICBhbGxMZW5ndGhzLnB1c2goY3AubGVuKTtcclxuICAgICAgICAgICAgICAgIGNyaXRpY2FsUGF0aHMucHVzaChjcC5ub2Rlcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBtYXhMZW4gPSBNYXRoLm1heCguLi5hbGxMZW5ndGhzKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnbGVuJzogbWF4TGVuLFxyXG4gICAgICAgICAgICAnbm9kZXMnOiBjcml0aWNhbFBhdGhzW2FsbExlbmd0aHMuaW5kZXhPZihtYXhMZW4pXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgX3RvcG9PcmRlcihmcm9tOiBJRCwgdHBvOiBJRFtdID0gW10pIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdHBvLnB1c2goZnJvbSk7XHJcbiAgICAgICAgdGhpcy5zdGF0aW9uc1tmcm9tXS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKGNoaWxkKSA9PSAyICYmIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHMuaW5kZXhPZihmcm9tKT09MCkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2FpdCB0aGUgb3RoZXIgYnJhbmNoXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIHRwby5jb25jYXQoc2VsZi5fdG9wb09yZGVyKGNoaWxkLCB0cG8pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHBvO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0cG8oKSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuX3RvcG9PcmRlcignbGluZXN0YXJ0Jyk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zbGljZSgxLCByZXMubGVuZ3RoLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdHJpcFkoKSB7cmV0dXJuIHRoaXMuX3N0cmlwUGMgKiB0aGlzLl9zdmdIZWlnaHQgLyAxMDA7fVxyXG4gICAgZ2V0IHR1cm5pbmdSYWRpdXMoKSB7cmV0dXJuIHRoaXMuX2JyYW5jaFNwYWNpbmcvMiAqIChNYXRoLnNxcnQoMikgLyAoTWF0aC5zcXJ0KDIpLTEpKTt9XHJcblxyXG4gICAgZ2V0IGxpbmVYcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB0aGlzLl9zdmdXaWR0aCAqIHRoaXMuX3BhZGRpbmcgLyAxMDAsIFxyXG4gICAgICAgICAgICB0aGlzLl9zdmdXaWR0aCAqICgxIC0gdGhpcy5fcGFkZGluZy8xMDApXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbGVmdERlc3RzKCkge3JldHVybiB0aGlzLnN0YXRpb25zLmxpbmVzdGFydC5jaGlsZHJlbjt9XHJcbiAgICBnZXQgcmlnaHREZXN0cygpIHtyZXR1cm4gdGhpcy5zdGF0aW9ucy5saW5lZW5kLnBhcmVudHM7fVxyXG5cclxuICAgIGdldCBsVmFsaWREZXN0cygpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShcclxuICAgICAgICAgICAgbmV3IFNldChcclxuICAgICAgICAgICAgICAgIHRoaXMucm91dGVzXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihyb3V0ZSA9PiByb3V0ZS5pbmRleE9mKHRoaXMuX2N1cnJlbnRTdG5JZCkgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAocm91dGUgPT4gcm91dGUuZmlsdGVyKHN0bklkID0+IHN0bklkICE9PSAnbGluZWVuZCcgJiYgc3RuSWQgIT09ICdsaW5lc3RhcnQnKVswXSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJWYWxpZERlc3RzKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICBuZXcgU2V0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2YodGhpcy5fY3VycmVudFN0bklkKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChyb3V0ZSA9PiByb3V0ZS5maWx0ZXIoc3RuSWQgPT4gc3RuSWQgIT09ICdsaW5lZW5kJyAmJiBzdG5JZCAhPT0gJ2xpbmVzdGFydCcpLnJldmVyc2UoKVswXSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmRlZ3JlZSBvZiBhIHN0YXRpb24gbm9kZS5cclxuICAgICAqL1xyXG4gICAgX3N0bkluZGVncmVlKHN0bklkOiBJRCkge3JldHVybiB0aGlzLnN0YXRpb25zW3N0bklkXS5pbkRlZ3JlZTt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXRkZWdyZWUgb2YgYSBzdGF0aW9uIG5vZGUuIFxyXG4gICAgICovXHJcbiAgICBfc3RuT3V0ZGVncmVlKHN0bklkOiBJRCkge3JldHVybiB0aGlzLnN0YXRpb25zW3N0bklkXS5vdXREZWdyZWU7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSG9yaXpvbnRhbCBwb3NpdGlvbiAoaW4gc2hhcmVzKSBvZiBzdGF0aW9uIGljb24uIFxyXG4gICAgICovXHJcbiAgICBfc3RuWFNoYXJlKHN0bklkOiBJRCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgdmFyIGNwID0gdGhpcy5jcml0aWNhbFBhdGg7XHJcbiAgICAgICAgaWYgKGNwLm5vZGVzLmluY2x1ZGVzKHN0bklkKSkge3JldHVybiB0aGlzLl9jcChjcC5ub2Rlc1swXSwgc3RuSWQpLmxlbjt9XHJcblxyXG4gICAgICAgIHZhciBwYXJ0U291cmNlID0gc3RuSWQ7XHJcbiAgICAgICAgdmFyIHBhcnRTaW5rID0gc3RuSWQ7XHJcbiAgICAgICAgdmFyIGxlZnRPcGVuSmF3ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHJpZ2h0T3BlbkphdyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5zdGF0aW9uc1twYXJ0U291cmNlXS5wYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50ID09ICdsaW5lc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0T3BlbkphdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJ0U291cmNlID0gcGFyZW50O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHBhcnRTb3VyY2UpID4gMSkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbcGFydFNpbmtdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5bMF0gIT0gJ2xpbmVlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0U2luayA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmlnaHRPcGVuSmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShwYXJ0U2luaykgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxlbmd0aFRvU291cmNlID0gdGhpcy5fY3AocGFydFNvdXJjZSwgc3RuSWQpLmxlbjtcclxuICAgICAgICB2YXIgbGVuZ3RoVG9TaW5rID0gdGhpcy5fY3Aoc3RuSWQsIHBhcnRTaW5rKS5sZW47XHJcbiAgICAgICAgaWYgKGxlZnRPcGVuSmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBhY3R1YWxQYXJ0TGVuZ3RoID0gdGhpcy5fY3AoY3Aubm9kZXNbMF0sIHBhcnRTaW5rKS5sZW47XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9zdG5YU2hhcmUocGFydFNpbmspIC0gbGVuZ3RoVG9TaW5rIC8gKGxlbmd0aFRvU291cmNlICsgbGVuZ3RoVG9TaW5rKSAqIGFjdHVhbFBhcnRMZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIGlmIChyaWdodE9wZW5KYXcpIHtcclxuICAgICAgICAgICAgdmFyIGFjdHVhbFBhcnRMZW5ndGggPSB0aGlzLl9jcChwYXJ0U291cmNlLCBjcC5ub2Rlcy5zbGljZSgtMSlbMF0pLmxlbjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYWN0dWFsUGFydExlbmd0aCA9IHRoaXMuX2NwKHBhcnRTb3VyY2UsIHBhcnRTaW5rKS5sZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmLl9zdG5YU2hhcmUocGFydFNvdXJjZSkgKyBsZW5ndGhUb1NvdXJjZSAvIChsZW5ndGhUb1NvdXJjZSArIGxlbmd0aFRvU2luaykgKiBhY3R1YWxQYXJ0TGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSG9yaXpvbnRhbCBwb3NpdGlvbiAoaW4gcGl4ZWxzKSBvZiBzdGF0aW9uIGljb24uIFxyXG4gICAgICovXHJcbiAgICBfc3RuUmVhbFgoc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgbGV0IFtsaW5lU3RhcnQsIGxpbmVFbmRdID0gdGhpcy5saW5lWHM7XHJcbiAgICAgICAgcmV0dXJuIGxpbmVTdGFydCArIHRoaXMuX3N0blhTaGFyZShzdG5JZCkgLyB0aGlzLmNyaXRpY2FsUGF0aC5sZW4gKiAobGluZUVuZCAtIGxpbmVTdGFydCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNaXJyb3IgYF9zdG5ZU2hhcmVNVFJgLiBcclxuICAgICAqL1xyXG4gICAgX3N0bllTaGFyZShzdG5JZDogSUQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZlcnRpY2FsIHBvc2l0aW9uIChpbiBzaGFyZXMpIG9mIHN0YXRpb24gaWNvbiBpZiB1c2luZyBNVFIgc3R5bGUgKGZvciBjb25zaXN0ZW5jeSBvZiBtZXRob2QgYFJNR0xpbmUubmV3U3RuUG9zc2libGVMb2MoKWApLiBcclxuICAgICAqL1xyXG4gICAgX3N0bllTaGFyZU1UUihzdG5JZDogSUQpIHtcclxuICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSB8fCB0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPiAxIHx8IHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3RuUHJlZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF07XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmIChzdG5QcmVkKSB7XHJcbiAgICAgICAgICAgIC8vIHBhcmVudCBleGlzdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHN0blByZWQpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vIHNpYmxpbmcsIHRoZW4geSBzYW1lIGFzIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3N0bllTaGFyZU1UUihzdG5QcmVkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHNpYmxpbmcgZXhpc3RzLCB0aGVuIHkgZGVwZW5kcyBvbiBpdHMgaWR4IG9mIGJlaW5nIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGlvbnNbc3RuUHJlZF0uY2hpbGRyZW4uaW5kZXhPZihzdG5JZCkgPT0gMCkgPyAxIDogLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBubyBwYXJlbnQsIG11c3QgYmUgbGluZXN0YXJ0XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZlcnRpY2FsIHBvc2l0aW9uIChpbiBwaXhlbHMpIG9mIHN0YXRpb24gaWNvbiByZWxhdGVkIHRvIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGxpbmUuIFxyXG4gICAgICovXHJcbiAgICBfc3RuUmVhbFkoc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgcmV0dXJuIC10aGlzLl9zdG5ZU2hhcmUoc3RuSWQpICogdGhpcy5fYnJhbmNoU3BhY2luZztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHN0YXRpb24gMiBpcyBhIHN1Y2Nlc3NvciBvZiBzdGF0aW9uIDEsIGZhbHNlIG90aGVyd2lzZS4gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2lzU3VjY2Vzc29yKHN0bklkMTogSUQsIHN0bklkMjogSUQpIHtcclxuICAgICAgICBmb3IgKGxldCByb3V0ZSBvZiB0aGlzLnJvdXRlcykge1xyXG4gICAgICAgICAgICBsZXQgaWR4MSA9IHJvdXRlLmluZGV4T2Yoc3RuSWQxKTtcclxuICAgICAgICAgICAgbGV0IGlkeDIgPSByb3V0ZS5pbmRleE9mKHN0bklkMik7XHJcbiAgICAgICAgICAgIGlmIChpZHgxICE9PSAtMSAmJiBpZHgyICE9PSAtMSAmJiBpZHgxIDwgaWR4Mikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgc3RhdGlvbiAyIGlzIGEgcHJlZGVjZXNzb3Igb2Ygc3RhdGlvbiAxLCBmYWxzZSBvdGhlcndpc2UuIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9pc1ByZWRlY2Vzc29yKHN0bklkMTogSUQsIHN0bklkMjogSUQpIHtcclxuICAgICAgICBmb3IgKGxldCByb3V0ZSBvZiB0aGlzLnJvdXRlcykge1xyXG4gICAgICAgICAgICBsZXQgaWR4MSA9IHJvdXRlLmluZGV4T2Yoc3RuSWQxKTtcclxuICAgICAgICAgICAgbGV0IGlkeDIgPSByb3V0ZS5pbmRleE9mKHN0bklkMik7XHJcbiAgICAgICAgICAgIGlmIChpZHgxICE9PSAtMSAmJiBpZHgyICE9PSAtMSAmJiBpZHgyIDwgaWR4MSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHN0YXRlIG9mIGEgc3RhdGlvbiAoLTE6IHBhc3NlZCwgMDogY3VycmVudCwgMTogZnV0dXJlKS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9zdG5TdGF0ZShzdG5JZDogSUQpIHtcclxuICAgICAgICBpZiAoc3RuSWQgPT0gdGhpcy5fY3VycmVudFN0bklkKSB7cmV0dXJuIDA7fVxyXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT0gJ3InKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1N1Y2Nlc3Nvcih0aGlzLl9jdXJyZW50U3RuSWQsIHN0bklkKSA/IDEgOiAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNQcmVkZWNlc3Nvcih0aGlzLl9jdXJyZW50U3RuSWQsIHN0bklkKSA/IDEgOiAtMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGF0aW9uIG5hbWUgcG9zaXRpb24gKGBmYWxzZWA6IGFib3ZlIGxpbmUsIGB0cnVlYDogYmVsb3cgbGluZSwgZ2l2ZW4gYHR4dEZsaXBgIGlzIGBmYWxzZWApLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIF9zdG5OYW1lUG9zKHN0bklkOiBJRCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChzdG5JZCA9PT0gJ2xpbmVzdGFydCcpIHtyZXR1cm4gdHJ1ZTt9XHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGxldCBjcCA9IHRoaXMuY3JpdGljYWxQYXRoLm5vZGVzO1xyXG4gICAgICAgIGxldCBwb3MgPSBjcC5pbmRleE9mKHN0bklkKSAlIDI7IC8vIC0xLCAwIG9yIDE7XHJcbiAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcclxuICAgICAgICAgICAgbGV0IHBhcklkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShwYXJJZCkgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9zdG5OYW1lUG9zKHBhcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gIXNlbGYuX3N0bk5hbWVQb3MocGFySWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9zID09PSAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGhlaWdodCBhbmQgd2lkdGggZm9yIGJvdGggYHN2Z2BzLiBcclxuICAgICAqL1xyXG4gICAgZHJhd1NWR0ZyYW1lKCkge1xyXG4gICAgICAgICQoJyNyYWlsbWFwLCAjb3V0ZXInKS5hdHRyKHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuX3N2Z1dpZHRoLCBcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9zdmdIZWlnaHRcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjZGVzdGluYXRpb24sICNkZXN0X291dGVyJykuYXR0cih7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9zdmdEZXN0V2lkdGgsIFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX3N2Z0hlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBib3JkZXIgb2YgYm90aCBgc3ZnYHMsIGJ1dCB0aGUgc3Ryb2tlIGNvbG91ciBvZiB0aGUgYm9yZGVycyBhcmUgY3VycmVudGx5IHNldCBhcyBgbm9uZWAuIFxyXG4gICAgICovXHJcbiAgICBzaG93RnJhbWVPdXRlcigpIHtcclxuICAgICAgICAvLyB2YXIgb3V0ZXJDb2xvdXIgPSB0aGlzLl9zaG93T3V0ZXIgPyAnYmxhY2snIDogJ25vbmUnO1xyXG4gICAgICAgIC8vICQoJyNvdXRlciwgI2Rlc3Rfb3V0ZXInKS5hdHRyKCdzdHJva2UnLCBvdXRlckNvbG91cik7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdXRlcikge1xyXG4gICAgICAgICAgICAkKCcjb3V0ZXIsICNkZXN0X291dGVyJykuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNvdXRlciwgI2Rlc3Rfb3V0ZXInKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhdyBhbGwgc3RhdGlvbnMuIChQcmV2aW91c2x5IGRyYXduIHN0YXRpb24gaWNvbnMgYXJlIG5vdCByZW1vdmVkLiApXHJcbiAgICAgKi9cclxuICAgIGRyYXdTdG5zKCkge1xyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICAkKCcjc3RuX2ljb25zJykuYXBwZW5kKHN0bkluc3RhbmNlLmh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTsgLy8gUmVmcmVzaCBET01cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBiYWNrZ3JvdW5kIG9mIGN1cnJlbnQgc3RhdGlvbiBuYW1lLiBgeWAgYW5kIGBoZWlnaHRgIGFyZSBjaGFuZ2VkIHdoaWxlIHN0YXRpb24gaWNvbiBpcyByZS1kcmF3biBhbmQgYFJNR1N0YXRpb24ubmFtZUhUTUxgIGlzIGxvYWRlZC4gXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVN0bk5hbWVCZygpIHtcclxuICAgICAgICB2YXIgc3RuTmFtZURpbSA9IGdldFR4dEJveERpbShcclxuICAgICAgICAgICAgJChgI3N0bl9pY29ucyA+ICMke3RoaXMuX2N1cnJlbnRTdG5JZH0gPiAuTmFtZWApWzBdIGFzIEVsZW1lbnQgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LFxyXG4gICAgICAgICAgICAncmFpbG1hcCdcclxuICAgICAgICApO1xyXG4gICAgICAgICQoJyNjdXJyZW50X2JnJykuYXR0cih7XHJcbiAgICAgICAgICAgIHg6IHN0bk5hbWVEaW0ueC0zLCBcclxuICAgICAgICAgICAgd2lkdGg6IHN0bk5hbWVEaW0ud2lkdGgrNiwgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0bkRYKCkge3JldHVybiB0aGlzLnR1cm5pbmdSYWRpdXMgLSB0aGlzLl9icmFuY2hTcGFjaW5nLzJ9O1xyXG4gICAgZ2V0IHN0bkRZKCkge3JldHVybiB0aGlzLl9icmFuY2hTcGFjaW5nLzJ9O1xyXG4gICAgZ2V0IHN0bkV4dHJhSCgpIHtcclxuICAgICAgICB2YXIgW2xpbmVTdGFydCwgbGluZUVuZF0gPSB0aGlzLmxpbmVYcztcclxuICAgICAgICByZXR1cm4gKGxpbmVFbmQgLSBsaW5lU3RhcnQpIC8gdGhpcy5jcml0aWNhbFBhdGgubGVuICogdGhpcy5fbG9uZ0ludGVydmFsO1xyXG4gICAgfVxyXG4gICAgZ2V0IHN0blNwYXJlSCgpIHtcclxuICAgICAgICB2YXIgW2xpbmVTdGFydCwgbGluZUVuZF0gPSB0aGlzLmxpbmVYcztcclxuICAgICAgICB2YXIgZGggPSAoIChsaW5lRW5kLWxpbmVTdGFydCkvdGhpcy5jcml0aWNhbFBhdGgubGVuIC0gMip0aGlzLnN0bkRYICkgLyAyO1xyXG4gICAgICAgIGlmIChkaCA8IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBTVkcgd2lkdGggdG9vIHNtYWxsISAke2RofWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGg7XHJcbiAgICB9XHJcbiAgICBnZXQgcGF0aFR1cm5FTkUoKSB7cmV0dXJuIGBhICR7dGhpcy50dXJuaW5nUmFkaXVzfSwke3RoaXMudHVybmluZ1JhZGl1c30gMCAwLDAgJHt0aGlzLnN0bkRYfSwkey10aGlzLnN0bkRZfWB9O1xyXG4gICAgZ2V0IHBhdGhUdXJuTkVFKCkge3JldHVybiBgYSAke3RoaXMudHVybmluZ1JhZGl1c30sJHt0aGlzLnR1cm5pbmdSYWRpdXN9IDAgMCwxICR7dGhpcy5zdG5EWH0sJHstdGhpcy5zdG5EWX1gfTtcclxuICAgIGdldCBwYXRoVHVybkVTRSgpIHtyZXR1cm4gYGEgJHt0aGlzLnR1cm5pbmdSYWRpdXN9LCR7dGhpcy50dXJuaW5nUmFkaXVzfSAwIDAsMSAke3RoaXMuc3RuRFh9LCR7dGhpcy5zdG5EWX1gfTtcclxuICAgIGdldCBwYXRoVHVyblNFRSgpIHtyZXR1cm4gYGEgJHt0aGlzLnR1cm5pbmdSYWRpdXN9LCR7dGhpcy50dXJuaW5nUmFkaXVzfSAwIDAsMCAke3RoaXMuc3RuRFh9LCR7dGhpcy5zdG5EWX1gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGBkYCBhdHRyaWJ1dGUgb2YgYDxwYXRoPmAgZWxlbWVudCB0aHJvdWdoIGFsbCBzdGF0aW9ucyBpbnB1dC4gXHJcbiAgICAgKi9cclxuICAgIF9saW5lUGF0aChzdG5JZHM6IElEW10pIHtcclxuICAgICAgICB2YXIgW3ByZXZJZCwgcHJldlksIHByZXZYXTogW3N0cmluZz8sIG51bWJlcj8sIG51bWJlcj9dID0gW107XHJcbiAgICAgICAgdmFyIHBhdGggPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIHsgc3RuRXh0cmFILCBzdG5TcGFyZUgsIHBhdGhUdXJuRVNFLCBwYXRoVHVyblNFRSwgcGF0aFR1cm5FTkUsIHBhdGhUdXJuTkVFLCBzdG5EWCB9ID0gdGhpcztcclxuXHJcbiAgICAgICAgc3RuSWRzLmZvckVhY2goc3RuSWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgW3gseV0gPSBbJ19zdG5SZWFsWCcsICdfc3RuUmVhbFknXS5tYXAoZnVuID0+IHRoaXNbZnVuXShzdG5JZCkpO1xyXG4gICAgICAgICAgICBpZiAoIXByZXZZICYmIHByZXZZICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcclxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChgTSAke3h9LCR7eX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeSA+IHByZXZZKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgeT09PTAgPyBgaCAke3ggLSBwcmV2WCAtIHN0bkV4dHJhSCp0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZCkgLSBzdG5TcGFyZUggLSBzdG5EWCoyfWAgOiBgaCAke3N0bkV4dHJhSCAqIHRoaXMuX3JpZ2h0V2lkZUZhY3RvcihwcmV2SWQpICsgc3RuU3BhcmVIfWBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gocGF0aFR1cm5FU0UsIHBhdGhUdXJuU0VFKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh5IDwgcHJldlkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChcclxuICAgICAgICAgICAgICAgICAgICB5PT09MCA/IGBoICR7eCAtIHByZXZYIC0gc3RuRXh0cmFIKnRoaXMuX2xlZnRXaWRlRmFjdG9yKHN0bklkKSAtIHN0blNwYXJlSCAtIHN0bkRYKjJ9YCA6IGBoICR7c3RuRXh0cmFIICogdGhpcy5fcmlnaHRXaWRlRmFjdG9yKHByZXZJZCkgKyBzdG5TcGFyZUh9YFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChwYXRoVHVybkVORSwgcGF0aFR1cm5ORUUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChgSCAke3h9YCk7XHJcbiAgICAgICAgICAgIFtwcmV2SWQsIHByZXZYLCBwcmV2WV0gPSBbc3RuSWQsIHgsIHldO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaW1wbGlmeSBwYXRoXHJcbiAgICAgICAgcmV0dXJuIHBhdGguam9pbignICcpLnJlcGxhY2UoLyggSCAoW1xcZC5dKykpKy9nLCAnIEggJDInKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3TGluZSgpIHtcclxuICAgICAgICB0aGlzLmJyYW5jaGVzLm1hcChicmFuY2ggPT4ge1xyXG4gICAgICAgICAgICB2YXIgbGluZU1haW5TdG5zID0gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5zdGF0ZSA+PSAwKTtcclxuICAgICAgICAgICAgdmFyIGxpbmVQYXNzU3RucyA9IGJyYW5jaC5maWx0ZXIoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RhdGUgPD0gMCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobGluZU1haW5TdG5zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zID0gYnJhbmNoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobGluZU1haW5TdG5zLmZpbHRlcihzdG5JZCA9PiBsaW5lUGFzc1N0bnMuaW5kZXhPZihzdG5JZCkgIT09IC0xKS5sZW5ndGggPT0gMCAmJiBsaW5lTWFpblN0bnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0d28gc2V0IGRpc2pvaW50XHJcbiAgICAgICAgICAgICAgICBpZiAobGluZVBhc3NTdG5zWzBdID09PSBicmFuY2hbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAtMSAtMSAxIDFcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMucHVzaChsaW5lTWFpblN0bnNbMF0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lTWFpblN0bnNbMF0gPT09IGJyYW5jaFswXSAmJiBsaW5lTWFpblN0bnNbbGluZU1haW5TdG5zLmxlbmd0aC0xXSA9PT0gYnJhbmNoW2JyYW5jaC5sZW5ndGgtMV0gJiYgbGluZVBhc3NTdG5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3RucyA9IGJyYW5jaDtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lTWFpblN0bnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gMSAxIC0xIC0xXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zLnVuc2hpZnQobGluZU1haW5TdG5zW2xpbmVNYWluU3Rucy5sZW5ndGgtMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKCcjbGluZV9tYWluJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZU1haW5TdG5zKX0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICQoJyNsaW5lX3Bhc3MnKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8cGF0aD4nLCB7ZDp0aGlzLl9saW5lUGF0aChsaW5lUGFzc1N0bnMpfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2xpbmVfbWFpbicpLmh0bWwoJCgnI2xpbmVfbWFpbicpLmh0bWwoKSk7XHJcbiAgICAgICAgJCgnI2xpbmVfcGFzcycpLmh0bWwoJCgnI2xpbmVfcGFzcycpLmh0bWwoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1N0cmlwKCkge1xyXG4gICAgICAgIC8vICQoJyNzdHJpcCwgI2Rlc3Rfc3RyaXAnKS5hdHRyKCdkJywgYE0gMCwke3RoaXMuc3RyaXBZfSBIICR7dGhpcy5fc3ZnV2lkdGh9YClcclxuICAgICAgICAkKCcjc3RyaXAnKS5hdHRyKCdkJywgYE0gMCwke3RoaXMuc3RyaXBZfSBIICR7dGhpcy5fc3ZnV2lkdGh9YCk7XHJcbiAgICAgICAgJCgnI2Rlc3Rfc3RyaXAnKS5hdHRyKCdkJywgYE0gMCwke3RoaXMuc3RyaXBZfSBIICR7dGhpcy5fc3ZnRGVzdFdpZHRofWApO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGxUaGVtZUNvbG91cigpIHtcclxuICAgICAgICAkKCcjbGluZV9tYWluLCAjc3RyaXAsICNkZXN0X3N0cmlwJykuYXR0cignc3Ryb2tlJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG4gICAgICAgICQoJyNkZXN0X25hbWUgPiAjcGxhdGZvcm0gPiBjaXJjbGUnKS5hdHRyKCdmaWxsJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdEZXN0SW5mbygpIHtcclxuICAgICAgICAkKCcjZGVzdF9uYW1lID4gI3BsYXRmb3JtID4gdGV4dCcpLnRleHQodGhpcy5fcGxhdGZvcm1OdW0pO1xyXG5cclxuICAgICAgICBsZXQgdmFsaWREZXN0OiBJRFtdID0gdGhpc1t0aGlzLl9kaXJlY3Rpb24gKyAnVmFsaWREZXN0cyddO1xyXG4gICAgICAgIGxldCB0eHRBbmNob3IgPSB0aGlzLl9kaXJlY3Rpb249PT0nbCcgPyAnc3RhcnQnIDogJ2VuZCc7XHJcblxyXG4gICAgICAgIHZhciBbZGVzdE5hbWVaSCwgZGVzdE5hbWVFTl0gPSBbMCwxXS5tYXAoaWR4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkRGVzdC5tYXAoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0ubmFtZVtpZHhdLnJlcGxhY2UoL1xcXFwvZywgJyAnKSkuam9pbignLycpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9kZXN0TGVnYWN5KSB7XHJcbiAgICAgICAgICAgIHZhciBbbGluZU5hbWVaSCwgbGluZU5hbWVFTl0gPSB0aGlzLl9saW5lTmFtZXM7XHJcbiAgICAgICAgICAgIGxpbmVOYW1lRU4gKz0gJyAnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBsaW5lTmFtZVpIID0gbGluZU5hbWVFTiA9ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnI2Rlc3RfbmFtZSA+IGc6bGFzdC1jaGlsZCB0ZXh0JykuZXEoMCkudGV4dChgJHtsaW5lTmFtZVpIfeW+gCR7ZGVzdE5hbWVaSH1gKTtcclxuICAgICAgICAkKCcjZGVzdF9uYW1lID4gZzpsYXN0LWNoaWxkIHRleHQnKS5lcSgxKS50ZXh0KGAke2xpbmVOYW1lRU59dG8gJHtkZXN0TmFtZUVOfWApO1xyXG5cclxuICAgICAgICB2YXIgYmNyID0gJCgnI2Rlc3RfbmFtZSA+IGc6bGFzdC1jaGlsZCcpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHZhciBmbGFnTGVuZ3RoID0gMTYwICsgMTUwICsgYmNyLndpZHRoICsgNDUgKyA1MDtcclxuICAgICAgICB2YXIgaXNMZWZ0ID0gKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpID8gMSA6IC0xO1xyXG4gICAgICAgIHZhciBhcnJvd1ggPSAodGhpcy5fc3ZnRGVzdFdpZHRoIC0gaXNMZWZ0ICogZmxhZ0xlbmd0aCkgLyAyO1xyXG4gICAgICAgIHZhciBhcnJvd1JvdGF0ZSA9IDkwICogKDEgLSBpc0xlZnQpO1xyXG4gICAgICAgIHZhciBwbGF0Zm9ybU51bVggPSBhcnJvd1ggKyBpc0xlZnQgKiAoMTYwICsgNTAgKyA3NSk7XHJcbiAgICAgICAgdmFyIGRlc3ROYW1lWCA9IHBsYXRmb3JtTnVtWCArIGlzTGVmdCAqICg3NSArIDQ1KTtcclxuICAgICAgICAkKCcjZGVzdF9uYW1lID4gdXNlJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2Fycm93WH0sMTMwKXJvdGF0ZSgke2Fycm93Um90YXRlfSlgKTtcclxuICAgICAgICAkKCcjZGVzdF9uYW1lID4gI3BsYXRmb3JtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3BsYXRmb3JtTnVtWH0sMTMwKWApO1xyXG4gICAgICAgICQoJyNkZXN0X25hbWUgPiBnOmxhc3QtY2hpbGQnKS5hdHRyKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZGVzdE5hbWVYfSwxMDUpYCwgXHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHR4dEFuY2hvclxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRGb250cygpIHtcclxuICAgICAgICAkKCcucm1nLW5hbWVfX3poJykuYWRkQ2xhc3MoYHJtZy1uYW1lX19jaGFyLSR7dGhpcy5fY2hhckZvcm19YCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RuTmFtZShzdG5JZDogSUQsIG5hbWVzOiBOYW1lLCBzdG5OdW06IHN0cmluZykge1xyXG4gICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5uYW1lID0gbmFtZXM7XHJcbiAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLm51bSA9IHN0bk51bTtcclxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5uYW1lID0gbmFtZXM7XHJcbiAgICAgICAgLy8gdGhpcy5zdGF0aW9uc1tzdG5JZF0uX25hbWVaSCA9IG5hbWVaSDtcclxuICAgICAgICAvLyB0aGlzLnN0YXRpb25zW3N0bklkXS5fbmFtZUVOID0gbmFtZUVOO1xyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0bk51bSA9IHN0bk51bTtcclxuXHJcbiAgICAgICAgJChgI3N0bl9pY29ucyAjJHtzdG5JZH1gKS5yZW1vdmUoKTtcclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuYXBwZW5kKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmh0bWwpO1xyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5sZWZ0RGVzdHMuaW5jbHVkZXMoc3RuSWQpICYmIHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmlnaHREZXN0cy5pbmNsdWRlcyhzdG5JZCkgJiYgdGhpcy5fZGlyZWN0aW9uID09ICdyJykge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuICAgICAgICBpZiAoc3RuSWQgPT0gdGhpcy5fY3VycmVudFN0bklkKSB7dGhpcy51cGRhdGVTdG5OYW1lQmcoKTt9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQ6IElELCB0eXBlLCBpbmZvPW51bGwpIHtcclxuICAgICAgICB2YXIgcHJldkNsYXNzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY29uc3RydWN0b3IubmFtZTtcclxuXHJcbiAgICAgICAgLy8gVjIuNiBkYXRhIHN0cnVjdHVyZVxyXG4gICAgICAgIGxldCBjaGFuZ2VUeXBlID0gdHlwZS5zcGxpdCgnXycpWzBdO1xyXG4gICAgICAgIGxldCB0aWNrX2RpcmVjID0gKHR5cGUgPT09ICdub25lJyB8fCB0eXBlID09PSAnaW50MicpID8gJ3InIDogdHlwZS5zcGxpdCgnXycpWzFdLnNwbGl0KCcnKS5zbGljZSgpLnJldmVyc2UoKVswXTtcclxuICAgICAgICBsZXQgcGFpZF9hcmVhID0gKHR5cGUuaW5kZXhPZignb3NpJykhPT0tMSkgPyB0eXBlLnNwbGl0KCdfJylbMV1bMF09PT0ncCcgOiB0cnVlO1xyXG4gICAgICAgIGxldCBvc2lfbmFtZXMgPSAodHlwZS5pbmRleE9mKCdvc2knKSE9PS0xKSA/IFtpbmZvWzFdWzBdXSA6IFtdO1xyXG4gICAgICAgIGxldCB0cmFuc2ZlckluZm8gPSBpbmZvLmxlbmd0aD09PTIgPyBbaW5mb1swXSwgaW5mb1sxXS5zbGljZSgxKV0gOiBpbmZvO1xyXG5cclxuICAgICAgICB2YXIgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hhbmdlX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgIGlmICh0eXBlID09ICdub25lJykge1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbW11dO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0udHJhbnNmZXIgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBjaGFuZ2VUeXBlLCBcclxuICAgICAgICAgICAgICAgIHRpY2tfZGlyZWM6IHRpY2tfZGlyZWMsIFxyXG4gICAgICAgICAgICAgICAgcGFpZF9hcmVhOiBwYWlkX2FyZWEsXHJcbiAgICAgICAgICAgICAgICBvc2lfbmFtZXM6IFtdLCBcclxuICAgICAgICAgICAgICAgIGluZm86IFtbXV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBwYXJhbS5zdG5fbGlzdFtzdG5JZF0udHJhbnNmZXIgPSBpbmZvO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBpbmZvO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0udHJhbnNmZXIgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBjaGFuZ2VUeXBlLCBcclxuICAgICAgICAgICAgICAgIHRpY2tfZGlyZWM6IHRpY2tfZGlyZWMsIFxyXG4gICAgICAgICAgICAgICAgcGFpZF9hcmVhOiBwYWlkX2FyZWEsXHJcbiAgICAgICAgICAgICAgICBvc2lfbmFtZXM6IG9zaV9uYW1lcywgXHJcbiAgICAgICAgICAgICAgICBpbmZvOiB0cmFuc2ZlckluZm9cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0gPSB0aGlzLl9pbml0U3RuSW5zdGFuY2Uoc3RuSWQsIHBhcmFtLnN0bl9saXN0W3N0bklkXSk7XHJcblxyXG4gICAgICAgIGlmIChwcmV2Q2xhc3MgIT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY29uc3RydWN0b3IubmFtZSkge1xyXG4gICAgICAgICAgICAvLyBOb3Qgc3VyZSBwb3NpdGlvbiwgcmVkcmF3IGFsbFxyXG4gICAgICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcclxuICAgICAgICAgICAgICAgIHN0bkluc3RhbmNlLm5hbWVQb3MgPSB0aGlzLl90eHRGbGlwID8gIXRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpIDogdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWVQb3MgPSB0aGlzLl90eHRGbGlwID8gIXRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpIDogdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgICAgICAkKGAjc3RuX2ljb25zICMke3N0bklkfWApLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcjc3RuX2ljb25zJykuYXBwZW5kKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmh0bWwpO1xyXG4gICAgICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTdG4oc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcblxyXG4gICAgICAgIHZhciBwYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgdmFyIGlzTGFzdE1haW5CcmFuY2hTdG4gPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuc3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKFtzdG5JZCwgJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoaWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuWVNoYXJlTVRSKGlkKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xhc3RNYWluQnJhbmNoU3RuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgJiYgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgLy8gVG8gYmUgcmV3cml0dGVuLCBqb2luIHR3byBicmFuY2hlc1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0xhc3RNYWluQnJhbmNoU3RuKSB7XHJcbiAgICAgICAgICAgIC8vIExhc3QgbWFpbiBsaW5lIHN0YXRpb25cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMocGFyYW0uc3RuX2xpc3QpLmxlbmd0aCA9PSA0KSB7XHJcbiAgICAgICAgICAgIC8vIExhc3QgdHdvIHN0YXRpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgfHwgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgcGFyZW50cy5mb3JFYWNoKHBhcklkID0+IHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3BhcklkXS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goY2hpbGRJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzID0gcGFyZW50cztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0ucGFyZW50cyA9IHBhcmVudHM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZHJlblswXV0uYnJhbmNoLmxlZnQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShwYXJlbnRzWzBdKT09MiAmJiB0aGlzLl9zdG5JbmRlZ3JlZShjaGlsZHJlblswXSk9PTIpIHtcclxuICAgICAgICAgICAgLy8gMSBwYXIgMSBjaGlsZCwgbGFzdCBzdGF0aW9uIG9uIHVwcGVyL2xvd2VyIGJyYW5jaFxyXG4gICAgICAgICAgICAvLyBicmFuY2ggZGlzYXBwZWFyXHJcbiAgICAgICAgICAgIHZhciBjaGlsZElkeE9mUGFyID0gdGhpcy5zdGF0aW9uc1twYXJlbnRzWzBdXS5jaGlsZHJlbi5pbmRleE9mKHN0bklkKTtcclxuICAgICAgICAgICAgdmFyIHBhcklkeE9mQ2hpbGQgPSB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5wYXJlbnRzLmluZGV4T2Yoc3RuSWQpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJlbnRzWzBdXS5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJZHhPZlBhciwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyZW50c1swXV0uY2hpbGRyZW4uc3BsaWNlKGNoaWxkSWR4T2ZQYXIsIDEpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZHJlblswXV0ucGFyZW50cy5zcGxpY2UocGFySWR4T2ZDaGlsZCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRyZW5bMF1dLnBhcmVudHMuc3BsaWNlKHBhcklkeE9mQ2hpbGQsIDEpO1xyXG5cclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIDEgcGFyIDEgY2hpbGRcclxuICAgICAgICAgICAgcGFyZW50cy5mb3JFYWNoKHBhcklkID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHggPSBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uY2hpbGRyZW4uaW5kZXhPZihzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuW2lkeF0gPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5jaGlsZHJlbltpZHhdID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGRlc3RcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcGFySWRdLmJyYW5jaC5yaWdodFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5icmFuY2gucmlnaHRbMV0gPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uYnJhbmNoLnJpZ2h0WzFdID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkSWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IHBhcmFtLnN0bl9saXN0W2NoaWxkSWRdLnBhcmVudHMuaW5kZXhPZihzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzW2lkeF0gPSBwYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0ucGFyZW50c1tpZHhdID0gcGFyZW50c1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBkZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0ucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkSWRdLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZElkXS5icmFuY2gubGVmdFsxXSA9IHBhcmVudHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPSBwYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHBhcmFtLnN0bl9saXN0W3N0bklkXTtcclxuICAgICAgICBkZWxldGUgdGhpcy5zdGF0aW9uc1tzdG5JZF07XHJcblxyXG4gICAgICAgIHZhciBpc0N1cnJlbnRTdG5DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdG5JZCA9PSBzdG5JZCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3Q3VycmVudFN0bklkID0gT2JqZWN0LmtleXModGhpcy5zdGF0aW9ucylbMl07XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdG5JZCA9IG5ld0N1cnJlbnRTdG5JZDtcclxuICAgICAgICAgICAgcGFyYW0uY3VycmVudF9zdG5faWR4ID0gbmV3Q3VycmVudFN0bklkO1xyXG4gICAgICAgICAgICBpc0N1cnJlbnRTdG5DaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgcGFyZW50cy5jb25jYXQoY2hpbGRyZW4pLmZvckVhY2gobmVJZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMobmVJZCkpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW25lSWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKG5lSWQsIHBhcmFtLnN0bl9saXN0W25lSWRdKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5uYW1lUG9zID0gdGhpcy5fdHh0RmxpcCA/ICF0aGlzLl9zdG5OYW1lUG9zKHN0bklkKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RyaXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBuZXdTdG5Qb3NzaWJsZUxvYyhwcmVwOiAnYmVmb3JlJyB8ICdhZnRlcicsIHN0bklkOiBJRCk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBJRFtdLCBJRFtdXSB7XHJcbiAgICAgICAgdmFyIGRlZyA9IChwcmVwID09ICdiZWZvcmUnKSA/IHRoaXMuX3N0bkluZGVncmVlKHN0bklkKSA6IHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCk7XHJcbiAgICAgICAgc3dpdGNoIChkZWcpIHtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgLy8gMSAtPiAyXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzEsMSwxLFtdLFtdXTtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bllTaGFyZU1UUihzdG5JZCkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIDEgLT4gMVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGF0ZTogSURbXSB8IDAgPSB0aGlzLm5ld0JyYW5jaFBvc3NpYmxlRW5kKHByZXAsIHN0bklkKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IChzdGF0ZS5sZW5ndGgpID8gc3RhdGUgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzEsMCwwLHN0YXRlLHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBbMSwwLDAsMSwxXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlcCA9PSAnYmVmb3JlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bk91dGRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdKS0xLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsMSxbXSxbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5fc3RuSW5kZWdyZWUodGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF0pLTEsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwxLFtdLFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlcCA9PSAnYmVmb3JlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bk91dGRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdKS0xLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsMCxbXSxbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5fc3RuSW5kZWdyZWUodGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF0pLTEsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMSwwLFtdLFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gWzAsMCwwLFtdLFtdXTtcclxuICAgIH1cclxuXHJcbiAgICBuZXdCcmFuY2hQb3NzaWJsZUVuZChwcmVwOiAnYmVmb3JlJyB8ICdhZnRlcicsIHN0bklkOiBJRCkge1xyXG4gICAgICAgIGxldCByZXM6IElEW10gPSBbXTtcclxuICAgICAgICBpZiAocHJlcCA9PSAnYmVmb3JlJykge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHN0bklkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXTtcclxuICAgICAgICAgICAgICAgIHJlcy51bnNoaWZ0KHN0bklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMucG9wKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgc3RuSWQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKHN0bklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBhZGRTdG4ocHJlcDogJ2JlZm9yZScgfCAnYWZ0ZXInLCBzdG5JZDogSUQsIGxvYywgZW5kOiBJRCk6IFtJRCwgU3RhdGlvbkluZm9dIHtcclxuICAgICAgICBsZXQgbmV3SWQgPSBnZXRSYW5kb21JZCgpO1xyXG4gICAgICAgIHdoaWxlIChPYmplY3Qua2V5cyh0aGlzLnN0YXRpb25zKS5pbmNsdWRlcyhuZXdJZCkpIHtcclxuICAgICAgICAgICAgbmV3SWQgPSBnZXRSYW5kb21JZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgbGV0IG5ld0luZm8gPSB7fSBhcyBTdGF0aW9uSW5mbztcclxuXHJcbiAgICAgICAgaWYgKHByZXAgPT0gJ2JlZm9yZScpIHtcclxuICAgICAgICAgICAgaWYgKGxvYyA9PSAnY2VudHJlJykge1xyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCk9PTAgJiYgdGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMubGVmdERlc3RzO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zdG5ZU2hhcmVNVFIoc3RuSWQpICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwaXZvdCBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1t0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdXS5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFtdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuc3RhdGlvbnNbbmV3SW5mby5wYXJlbnRzWzBdXS5icmFuY2gucmlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbbmV3SW5mby5wYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtuZXdJbmZvLnBhcmVudHNbMF1dLmJyYW5jaC5yaWdodCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwaXZvdCBvbiBtYWluXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLmxlZnQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ3VwcGVyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMuc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnBhcmVudHNbMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlblswXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuWzBdID0gbmV3SWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1twYXJdLmJyYW5jaC5yaWdodFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbG93ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdFsxXSA9PSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnBhcmVudHNbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJDaGlsZExlbiA9IHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbltwYXJDaGlsZExlbi0xXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuW3BhckNoaWxkTGVuLTFdID0gbmV3SWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1twYXJdLmJyYW5jaC5yaWdodFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbmV3dXBwZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtlbmRdO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5jaGlsZHJlbi51bnNoaWZ0KG5ld0lkKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uY2hpbGRyZW4udW5zaGlmdChuZXdJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy51bnNoaWZ0KG5ld0lkKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbmV3bG93ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtlbmRdO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5jaGlsZHJlbi5wdXNoKG5ld0lkKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uY2hpbGRyZW4ucHVzaChuZXdJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5wdXNoKG5ld0lkKTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzLnB1c2gobmV3SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGxvYyA9PSAnY2VudHJlJykge1xyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCk9PTAgJiYgdGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5yaWdodERlc3RzO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zdG5ZU2hhcmVNVFIoc3RuSWQpICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBwaXZvdCBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSB0aGlzLnN0YXRpb25zW3RoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdXS5wYXJlbnRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5zdGF0aW9uc1tuZXdJbmZvLmNoaWxkcmVuWzBdXS5icmFuY2gubGVmdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW25ld0luZm8uY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbbmV3SW5mby5jaGlsZHJlblswXV0uYnJhbmNoLmxlZnQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGl2b3Qgb24gbWFpblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAndXBwZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5zbGljZSgwLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlblswXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IG9uIGJyYW5jaFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHNbMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHNbMF0gPSBuZXdJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW2NoaWxkXS5icmFuY2gubGVmdFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbG93ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW5bMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoY2hpbGQpID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50c1swXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50c1sxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHNbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID09PSBzdG5JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzLmZvckVhY2gocGFyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICduZXd1cHBlcicpIHtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtlbmRdO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLnBhcmVudHMudW5zaGlmdChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLnBhcmVudHMudW5zaGlmdChuZXdJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4udW5zaGlmdChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW4udW5zaGlmdChuZXdJZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICduZXdsb3dlcicpIHtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtlbmRdO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLnBhcmVudHMucHVzaChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLnBhcmVudHMucHVzaChuZXdJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4ucHVzaChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW4ucHVzaChuZXdJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0luZm8ubmFtZSA9IGdldE5hbWVGcm9tSWQobmV3SWQpO1xyXG4gICAgICAgIG5ld0luZm8uY2hhbmdlX3R5cGUgPSAnbm9uZSc7XHJcbiAgICAgICAgbmV3SW5mby5udW0gPSAnMDAnO1xyXG4gICAgICAgIG5ld0luZm8uaW50ZXJjaGFuZ2UgPSBbW11dO1xyXG4gICAgICAgIG5ld0luZm8udHJhbnNmZXIgPSB7XHJcbiAgICAgICAgICAgIGluZm86IFtbXV0sIFxyXG4gICAgICAgICAgICB0eXBlOiAnbm9uZScsIFxyXG4gICAgICAgICAgICBvc2lfbmFtZXM6IFtdLCBcclxuICAgICAgICAgICAgcGFpZF9hcmVhOiB0cnVlLCBcclxuICAgICAgICAgICAgdGlja19kaXJlYzogJ3InXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtuZXdJZF0gPSBuZXdJbmZvO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbbmV3SWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKG5ld0lkLCBuZXdJbmZvKTtcclxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXSA9IHRoaXMuX2luaXRTdG5JbnN0YW5jZShzdG5JZCwgZ2V0UGFyYW1zKCkuc3RuX2xpc3Rbc3RuSWRdKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5uYW1lUG9zID0gdGhpcy5fdHh0RmxpcCA/ICF0aGlzLl9zdG5OYW1lUG9zKHN0bklkKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RyaXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtuZXdJZCwgbmV3SW5mb107XHJcbiAgICB9XHJcblxyXG4gICAgcmV2ZXJzZVN0bnMoKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKHN0bklkID09PSAnbGluZXN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVlbmQnXS5wYXJlbnRzID0gc3RuSW5zdGFuY2UuY2hpbGRyZW4ucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVlbmQnXS5icmFuY2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogc3RuSW5zdGFuY2UuYnJhbmNoLnJpZ2h0LCBcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RuSWQgPT09ICdsaW5lZW5kJykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVzdGFydCddLmNoaWxkcmVuID0gc3RuSW5zdGFuY2UucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFsnbGluZXN0YXJ0J10uYnJhbmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFtdLCBcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogc3RuSW5zdGFuY2UuYnJhbmNoLmxlZnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0bXBBcnIgPSBzdG5JbnN0YW5jZS5jaGlsZHJlbi5yZXZlcnNlKCkubWFwKGlkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmVzdGFydCc6IHJldHVybiAnbGluZWVuZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmVlbmQnOiByZXR1cm4gJ2xpbmVzdGFydCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBpZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbiA9IHN0bkluc3RhbmNlLnBhcmVudHMucmV2ZXJzZSgpLm1hcChpZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lc3RhcnQnOiByZXR1cm4gJ2xpbmVlbmQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lZW5kJzogcmV0dXJuICdsaW5lc3RhcnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cyA9IHRtcEFycjtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IHN0bkluc3RhbmNlLmJyYW5jaC5yaWdodDtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBzdG5JbnN0YW5jZS5icmFuY2gubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hUeXBlKHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCB0eXBlOiAndGhyb3VnaCcgfCAnbm9udGhyb3VnaCcpIHtcclxuICAgICAgICBsZXQgZGlyZWMgPSBEaXJlY3Rpb25Mb25nW2RpcmVjdGlvbl07XHJcbiAgICAgICAgLy8gbm8gY2hhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMF0gPT09IHR5cGUpIHtyZXR1cm47fVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2hbZGlyZWNdWzBdID0gdHlwZTtcclxuICAgICAgICBsZXQgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoW2RpcmVjXVswXSA9IHR5cGU7XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQnJhbmNoRmlyc3Qoc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIGZpcnN0OiBJRCkge1xyXG4gICAgICAgIGxldCBkaXJlYyA9IERpcmVjdGlvbkxvbmdbZGlyZWN0aW9uXTtcclxuICAgICAgICAvLyBubyBjaGFuZ2VcclxuICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoW2RpcmVjXVsxXSA9PT0gZmlyc3QpIHtyZXR1cm4gZmFsc2U7fVxyXG5cclxuICAgICAgICBsZXQgYnJhbmNoRW5kSWQgPSBmaXJzdDtcclxuICAgICAgICBsZXQgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBpZiAoZGlyZWMgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmluRGVncmVlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBicmFuY2hGaXJzdElkeCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLmluZGV4T2YoZmlyc3QpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IGZpcnN0O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5icmFuY2gubGVmdFsxXSA9IHBhcmFtLnN0bl9saXN0W2JyYW5jaEVuZElkXS5icmFuY2gubGVmdFsxXSA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLnBhcmVudHNbYnJhbmNoRmlyc3RJZHhdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5vdXREZWdyZWUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGJyYW5jaEVuZElkID0gdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ucGFyZW50c1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYnJhbmNoRmlyc3RJZHggPSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzLmluZGV4T2YoZmlyc3QpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBmaXJzdDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0uYnJhbmNoLnJpZ2h0WzFdID0gcGFyYW0uc3RuX2xpc3RbYnJhbmNoRW5kSWRdLmJyYW5jaC5yaWdodFsxXSA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmNoaWxkcmVuW2JyYW5jaEZpcnN0SWR4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaFBvcyhzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgcG9zOiAwIHwgMSkge1xyXG4gICAgICAgIGxldCBkaXJlYyA9IERpcmVjdGlvbkxvbmdbZGlyZWN0aW9uXTtcclxuICAgICAgICAvLyBubyBjaGFuZ2VcclxuICAgICAgICBpZiAoZGlyZWMgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLmluZGV4T2YodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdKSA9PT0gcG9zKSB7cmV0dXJuO31cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5pbmRleE9mKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdKSA9PT0gcG9zKSB7cmV0dXJuO31cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMV07XHJcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgaWYgKGRpcmVjID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5pbkRlZ3JlZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoRW5kSWQgPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbi5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLnBhcmVudHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0ucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLm91dERlZ3JlZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoRW5kSWQgPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5wYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmNoaWxkcmVuLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbYnJhbmNoRW5kSWRdLmNoaWxkcmVuLnJldmVyc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xlYXJTVkcoKSB7XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucywgI2xpbmVfbWFpbiwgI2xpbmVfcGFzcycpLmVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXRTVkcobGluZTogUk1HTGluZSkge1xyXG4gICAgICAgIGxpbmUuZHJhd1NWR0ZyYW1lKCk7XHJcbiAgICAgICAgbGluZS5zaG93RnJhbWVPdXRlcigpO1xyXG4gICAgICAgIGxpbmUuZHJhd1N0bnMoKTtcclxuICAgICAgICBsaW5lLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgIGxpbmUuZHJhd0xpbmUoKTtcclxuICAgICAgICBsaW5lLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIGxpbmUuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgbGluZS5sb2FkRm9udHMoKTtcclxuICAgICAgICBsaW5lLnVwZGF0ZVN0bk5hbWVCZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0dGVyIG9mIGFsbCBicmFuY2hlcyAo5pSv57ea5q61KSBvZiB0aGUgbGluZS4gVGhlIGZpcnN0IGJyYW5jaCBtdXN0IGJlIHRoZSBtYWluIGxpbmUuIFxyXG4gICAgICovXHJcbiAgICBnZXQgYnJhbmNoZXMoKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gWydsaW5lc3RhcnQnXTtcclxuICAgICAgICB2YXIgYnJhbmNoZXM6IElEW11bXSA9IFtbXV07XHJcbiAgICAgICAgdmFyIGJyYW5jaENvdW50ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJJZCA9IHN0YWNrLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHZhciBwcmV2SWQgPSBicmFuY2hlc1ticmFuY2hDb3VudF1bMF0gfHwgbnVsbDtcclxuICAgICAgICAgICAgdmFyIGN1ckJyYW5jaCA9IFtjdXJJZF07XHJcbiAgICAgICAgICAgIGlmIChwcmV2SWQpIHtjdXJCcmFuY2gudW5zaGlmdChwcmV2SWQpO31cclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJJZCA9PSAnbGluZWVuZCcpIHticmVhazt9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VySWQgIT0gJ2xpbmVzdGFydCcgJiYgcHJldklkID09IHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJhbmNoIGVuZHNcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldklkID0gY3VySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1twcmV2SWRdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cklkID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoZXMucHVzaChbcHJldklkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldklkID09ICdsaW5lc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJyYW5jaE5leHRJZCA9IHRoaXMuc3RhdGlvbnNbcHJldklkXS5icmFuY2gucmlnaHRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBicmFuY2hOZXh0SWQgPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGJyYW5jaE5leHRJZCA9IGdldFBhcmFtcygpLnN0bl9saXN0W3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySWQgPSBjaGlsZHJlbi5maWx0ZXIoc3RuSWQgPT4gc3RuSWQgIT0gYnJhbmNoTmV4dElkKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjdXJCcmFuY2gucHVzaChjdXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJhbmNoZXNbYnJhbmNoQ291bnRdID0gY3VyQnJhbmNoO1xyXG4gICAgICAgICAgICBicmFuY2hDb3VudCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGJyYW5jaGVzLm1hcChicmFuY2ggPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiAhWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXR0ZXIgb2Ygcm91dGVzICjooYzou4rkuqTot68pIG9mIHRoZSBsaW5lLiBUaGUgZmlyc3Qgcm91dGUgbXVzdCBiZSB0aGUgbWFpbiBsaW5lLiBcclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdXRlcygpIHtcclxuICAgICAgICB2YXIgc3RhY2sgPSBbJ2xpbmVzdGFydCddO1xyXG4gICAgICAgIHZhciBicmFuY2hlcyA9IFtbJ2xpbmVzdGFydCddXTtcclxuICAgICAgICB2YXIgYnJhbmNoQ291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cklkID0gc3RhY2suc2hpZnQoKTtcclxuICAgICAgICAgICAgdmFyIHByZXZJZCA9IGJyYW5jaGVzW2JyYW5jaENvdW50XS5zbGljZSgpLnJldmVyc2UoKVswXSB8fCBudWxsO1xyXG4gICAgICAgICAgICBpZiAocHJldklkICYmIGN1cklkICE9PSAnbGluZXN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoZXNbYnJhbmNoQ291bnRdLnB1c2goY3VySWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoZXNbYnJhbmNoQ291bnRdID0gW2N1cklkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoY3VySWQgIT09ICdsaW5lZW5kJykge1xyXG4gICAgICAgICAgICAgICAgcHJldklkID0gY3VySWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySWQgPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnJhbmNoTmV4dElkID0gdGhpcy5zdGF0aW9uc1twcmV2SWRdLmJyYW5jaC5yaWdodFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGJyYW5jaENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzBdID09PSAndGhyb3VnaCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5jaGVzLnB1c2goYnJhbmNoZXNbYnJhbmNoQ291bnRdLnNsaWNlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJyYW5jaENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoZXMucHVzaChbcHJldklkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnJhbmNoZXMucHVzaChbcHJldklkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YWNrLnB1c2goYnJhbmNoTmV4dElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJZCA9IGNoaWxkcmVuLmZpbHRlcihzdG5JZCA9PiBzdG5JZCAhPSBicmFuY2hOZXh0SWQpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyYW5jaGVzW2JyYW5jaENvdW50XS5wdXNoKGN1cklkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJldklkID09PSB0aGlzLnN0YXRpb25zW2N1cklkXS5icmFuY2gubGVmdFsxXSAmJiB0aGlzLnN0YXRpb25zW2N1cklkXS5icmFuY2gubGVmdFswXSA9PT0gJ25vbnRocm91Z2gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gYnJhbmNoZXNbYnJhbmNoQ291bnRdID0gY3VyQnJhbmNoO1xyXG4gICAgICAgICAgICBicmFuY2hDb3VudCsrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGJyYW5jaGVzO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IHVwZGF0ZVBhcmFtLCBnZXRQYXJhbXMgfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gJ0BtYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lJztcclxuXHJcbmNvbnN0IGdldExpbmVDbGFzcyA9IGFzeW5jIChzdHlsZTogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgICAgY2FzZSAnbXRyJzpcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShSTUdMaW5lKTtcclxuICAgICAgICAvLyBsYXp5IGxvYWRpbmdcclxuICAgICAgICBjYXNlICdnem10cic6XHJcbiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJMaW5lR1pcIiAqLyAnLi9MaW5lR1onKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHsgUk1HTGluZUdaIH0pID0+IFJNR0xpbmVHWik7XHJcbiAgICAgICAgY2FzZSAnc2htZXRybyc6XHJcbiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJMaW5lU0hcIiAqLyAnLi9MaW5lU0gnKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHsgUk1HTGluZVNIIH0pID0+IFJNR0xpbmVTSCk7XHJcbiAgICAgICAgLy8gYW55IG90aGVyIHN0eWxlc1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuY29uc3QgbG9hZExpbmUgPSBhc3luYyAocGFyYW0pID0+IHtcclxuICAgIGxldCBsaW5lQ2xhc3MgPSBhd2FpdCBnZXRMaW5lQ2xhc3Mod2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJykpO1xyXG4gICAgd2luZG93Lm15TGluZSA9IGF3YWl0IG5ldyBsaW5lQ2xhc3MocGFyYW0pO1xyXG4gICAgbGluZUNsYXNzLmluaXRTVkcod2luZG93Lm15TGluZSk7XHJcbn1cclxuXHJcbmlmIChsb2NhbFN0b3JhZ2Uucm1nUGFyYW0gIT0gbnVsbCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB1cGRhdGVQYXJhbSgpO1xyXG4gICAgICAgIGxvYWRMaW5lKGdldFBhcmFtcygpKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGxldCBpbml0RXJyRGlhZyA9IE1EQ0RpYWxvZy5hdHRhY2hUbygkKCcjaW5pdF9lcnJfZGlhZycpWzBdKTtcclxuICAgICAgICAkKCcjaW5pdF9lcnJfZGlhZycpXHJcbiAgICAgICAgICAgIC5maW5kKCcjZXJyX3N0YWNrJylcclxuICAgICAgICAgICAgLmh0bWwoZXJyICsgJzxicj4nICsgZXJyLnN0YWNrLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpKTtcclxuICAgICAgICBpbml0RXJyRGlhZy5vcGVuKCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59IGVsc2Uge1xyXG4gICAgJC5nZXRKU09OKGB0ZW1wbGF0ZXMvYmxhbmsuanNvbmAsIGRhdGEgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5ybWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgIHVwZGF0ZVBhcmFtKCk7XHJcbiAgICAgICAgbG9hZExpbmUoZ2V0UGFyYW1zKCkpO1xyXG4gICAgfSk7XHJcbn1cclxuICAgIFxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBnZXRQYXJhbXMsIHB1dFBhcmFtcywgY291bnRyeUNvZGUyRW1vamksIGdldFRyYW5zVGV4dCwgcmdiMkhleCwgTmFtZSB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgQ2l0eUVudHJ5LCBMaW5lRW50cnkgfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCB7IFJNR0xpbmVHWiB9IGZyb20gJy4uL0xpbmUvTGluZUdaJztcclxuaW1wb3J0IHsgTURDTGlzdCB9IGZyb20gJ0BtYXRlcmlhbC9saXN0JztcclxuaW1wb3J0IHsgTURDRGlhbG9nIH0gZnJvbSAnQG1hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IE1EQ1NlbGVjdCB9IGZyb20gJ0BtYXRlcmlhbC9zZWxlY3QnO1xyXG5pbXBvcnQgeyBNRENUZXh0RmllbGQgfSBmcm9tICdAbWF0ZXJpYWwvdGV4dGZpZWxkJztcclxuaW1wb3J0IHsgTURDU3dpdGNoIH0gZnJvbSAnQG1hdGVyaWFsL3N3aXRjaCc7XHJcbmltcG9ydCB7IE1EQ1JpcHBsZSB9IGZyb20gJ0BtYXRlcmlhbC9yaXBwbGUnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHtcclxuICAgIC8vIG1kYyBpbnN0YW5jZXNcclxuICAgIGNvbnN0IGRlc2lnbkxpc3QgPSBNRENMaXN0LmF0dGFjaFRvKCQoJyNkZXNpZ25fbGlzdCcpWzBdKTtcclxuICAgIGNvbnN0IFt0aGVtZURpYWxvZywgbGluZU5hbWVEaWFsb2ddID0gXHJcbiAgICAgICAgWycjZGVzaWduX3RoZW1lX2RpYWcnLCAnI2xpbmVfbmFtZV9kaWFnJ10ubWFwKHNlbGVjdG9yID0+IE1EQ0RpYWxvZy5hdHRhY2hUbygkKHNlbGVjdG9yKVswXSkpO1xyXG4gICAgY29uc3QgW3RoZW1lQ2l0eVNlbGVjdCwgdGhlbWVMaW5lU2VsZWN0XSA9IFxyXG4gICAgICAgIFsnI3RoZW1lX2NpdHknLCAnI3RoZW1lX2xpbmUnXS5tYXAoc2VsZWN0b3IgPT4gbmV3IE1EQ1NlbGVjdCgkKHNlbGVjdG9yKVswXSkpO1xyXG4gICAgLy8gY29uc3QgdGhlbWVDaXR5U2VsZWN0ID0gbmV3IE1EQ1NlbGVjdCgkKCcjdGhlbWVfY2l0eScpWzBdKTtcclxuICAgIC8vIGNvbnN0IHRoZW1lTGluZVNlbGVjdCA9IG5ldyBNRENTZWxlY3QoJCgnI3RoZW1lX2xpbmUnKVswXSk7XHJcbiAgICBjb25zdCBbbGluZU5hbWVaSFRleHRGaWVsZCwgbGluZU5hbWVFTlRleHRGaWVsZF0gPSBcclxuICAgICAgICBbJyNuYW1lX3poJywgJyNuYW1lX2VuJ10ubWFwKHNlbGVjdG9yID0+IE1EQ1RleHRGaWVsZC5hdHRhY2hUbygkKCcjbGluZV9uYW1lX2RpYWcnKS5maW5kKHNlbGVjdG9yKVswXSkpO1xyXG4gICAgY29uc3QgcGxhdGZvcm1OdW1UZXh0RmllbGQgPSBNRENUZXh0RmllbGQuYXR0YWNoVG8oJCgnI3BsYXRmb3JtX251bScpWzBdKTtcclxuICAgICQoJyNwYW5lbF9kZXNpZ24gLm1kYy1saXN0IGxpJykubWFwKChfLGVsKSA9PiBuZXcgTURDUmlwcGxlKGVsKSk7XHJcblxyXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uc1xyXG4gICAgY29uc3QgZ2V0RGlyZWN0aW9uVGV4dCA9IChkaXJlYzogJ2wnIHwgJ3InKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICQoJyNkZXNpZ25fbGlzdCcpXHJcbiAgICAgICAgICAgIC5maW5kKGBsaSNkaXJlYyBwIyR7ZGlyZWN9YClcclxuICAgICAgICAgICAgLnRleHQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gaW5pdCB2YWx1ZXNcclxuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcclxuICAgICAgICAudGhlbihwYXJhbSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNkZXNpZ25fbGlzdCcpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnbGkjbmFtZSAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQnKVxyXG4gICAgICAgICAgICAgICAgLnRleHQocGFyYW0ubGluZV9uYW1lLmpvaW4oKSk7XHJcbiAgICAgICAgICAgIGxpbmVOYW1lWkhUZXh0RmllbGQudmFsdWUgPSBwYXJhbS5saW5lX25hbWVbMF07XHJcbiAgICAgICAgICAgIGxpbmVOYW1lRU5UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5saW5lX25hbWVbMV07XHJcblxyXG4gICAgICAgICAgICAkKCcjZGVzaWduX2xpc3QnKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpI2RpcmVjIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXHJcbiAgICAgICAgICAgICAgICAudGV4dChnZXREaXJlY3Rpb25UZXh0KHBhcmFtLmRpcmVjdGlvbikpO1xyXG5cclxuICAgICAgICAgICAgcGxhdGZvcm1OdW1UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5wbGF0Zm9ybV9udW07XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgICQuZ2V0SlNPTignZGF0YS9jaXR5X2xpc3QuanNvbicsIChkYXRhOiBDaXR5RW50cnlbXSkgPT4ge1xyXG4gICAgICAgIGxldCBsYW5nID0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKTtcclxuICAgICAgICBkYXRhLmZvckVhY2goYyA9PiB7XHJcbiAgICAgICAgICAgICQoJyN0aGVtZV9jaXR5X19zZWxlY3Rpb24nKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8bGk+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWRjLWxpc3QtaXRlbScsIFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXZhbHVlJzogYy5pZFxyXG4gICAgICAgICAgICAgICAgfSkudGV4dChjb3VudHJ5Q29kZTJFbW9qaShjLmNvdW50cnkpICsgZ2V0VHJhbnNUZXh0KGMubmFtZSwgbGFuZykpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyN0aGVtZV9jaXR5X19zZWxlY3Rpb24gbGknKS5tYXAoKF8sZWwpID0+IG5ldyBNRENSaXBwbGUoZWwpKTtcclxuXHJcbiAgICAgICAgdmFyIFt0aGVtZUNpdHldID0gZ2V0UGFyYW1zKCkudGhlbWVcclxuICAgICAgICB2YXIgY2l0eUlkeCA9ICQoYCN0aGVtZV9jaXR5X19zZWxlY3Rpb24gPiBbZGF0YS12YWx1ZT1cIiR7dGhlbWVDaXR5fVwiXWApLmluZGV4KCk7XHJcbiAgICAgICAgdGhlbWVDaXR5U2VsZWN0LnNlbGVjdGVkSW5kZXggPSBjaXR5SWR4O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgZGVzaWduTGlzdC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRoZW1lRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBsaW5lTmFtZURpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgaWYgKGdldFBhcmFtcygpLmRpcmVjdGlvbiA9PSAncicpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmlnaHQgdG8gbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5teUxpbmUuZGlyZWN0aW9uID0gJ2wnO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNkZXNpZ25fbGlzdCcpLmZpbmQoJ2xpI2RpcmVjIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpLnRleHQoZ2V0RGlyZWN0aW9uVGV4dCgnbCcpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xlZnQgdG8gcmlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubXlMaW5lLmRpcmVjdGlvbiA9ICdyJztcclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGVzaWduX2xpc3QnKS5maW5kKCdsaSNkaXJlYyAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQnKS50ZXh0KGdldERpcmVjdGlvblRleHQoJ3InKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS5yZXZlcnNlU3RucygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhlbWVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgKCkgPT4ge1xyXG4gICAgICAgIFt0aGVtZUNpdHlTZWxlY3QsIHRoZW1lTGluZVNlbGVjdF0ubWFwKHNlbGVjdCA9PiBzZWxlY3QubGF5b3V0KCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhlbWVDaXR5U2VsZWN0Lmxpc3RlbihcIk1EQ1NlbGVjdDpjaGFuZ2VcIiwgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGxldCBjaXR5ID0gZXZlbnQuZGV0YWlsLnZhbHVlO1xyXG4gICAgICAgICQoJyN0aGVtZV9saW5lX19zZWxlY3Rpb24nKS5lbXB0eSgpO1xyXG4gICAgICAgICQuZ2V0SlNPTihgZGF0YS8ke2NpdHl9Lmpzb25gLCAoZGF0YTogTGluZUVudHJ5W10pID0+IHtcclxuICAgICAgICAgICAgdmFyIGxhbmcgPSB3aW5kb3cudXJsUGFyYW1zLmdldCgnbGFuZycpO1xyXG4gICAgICAgICAgICBkYXRhLmZvckVhY2gobCA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdGhlbWVfbGluZV9fc2VsZWN0aW9uJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJzxsaT4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWRjLWxpc3QtaXRlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXZhbHVlJzogbC5pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4+JykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGwuY29sb3VyLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBsLmZnIHx8ICcjZmZmJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KCdcXHUwMGEwJyArIGdldFRyYW5zVGV4dChsLm5hbWUsIGxhbmcpICsgJ1xcdTAwYTAnKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiBsaScpLm1hcCgoXyxlbCkgPT4gbmV3IE1EQ1JpcHBsZShlbCkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgICAgIHBhcmFtLnRoZW1lWzBdID0gY2l0eTtcclxuICAgICAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsaW5lSWR4ID0gJChgI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiA+IFtkYXRhLXZhbHVlPVwiJHtwYXJhbS50aGVtZVsxXX1cIl1gKS5pbmRleCgpO1xyXG4gICAgICAgICAgICB0aGVtZUxpbmVTZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGxpbmVJZHg9PS0xID8gMCA6IGxpbmVJZHg7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGVtZUxpbmVTZWxlY3QubGlzdGVuKFwiTURDU2VsZWN0OmNoYW5nZVwiLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IGxpbmVJZHggPSBldmVudC5kZXRhaWwuaW5kZXg7XHJcblxyXG4gICAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgIHBhcmFtLnRoZW1lWzFdID0gZXZlbnQuZGV0YWlsLnZhbHVlO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5teUxpbmUudGhlbWVMaW5lID0gZXZlbnQuZGV0YWlsLnZhbHVlO1xyXG4gICAgICAgIHdpbmRvdy5teUxpbmUudGhlbWVDb2xvdXIgPSBbJ2JhY2tncm91bmQtY29sb3InLCAnY29sb3InXVxyXG4gICAgICAgICAgICAubWFwKHByb3AgPT4gJCgnI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiBzcGFuJykuZXEobGluZUlkeCkuY3NzKHByb3ApKVxyXG4gICAgICAgICAgICAubWFwKHJnYjJIZXgpO1xyXG5cclxuICAgICAgICAkKCcjZGVzaWduX2xpc3QnKVxyXG4gICAgICAgICAgICAuZmluZCgnbGkjdGhlbWUgLm1kYy1saXN0LWl0ZW1fX3NlY29uZGFyeS10ZXh0JylcclxuICAgICAgICAgICAgLmh0bWwoXHJcbiAgICAgICAgICAgICAgICAkKCcjdGhlbWVfY2l0eV9fc2VsZWN0aW9uIGxpJykuZXEodGhlbWVDaXR5U2VsZWN0LnNlbGVjdGVkSW5kZXgpLnRleHQoKSArXHJcbiAgICAgICAgICAgICAgICAnICcgK1xyXG4gICAgICAgICAgICAgICAgJCgnI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiBsaScpLmVxKGxpbmVJZHgpLmh0bWwoKS50cmltKClcclxuICAgICAgICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxpbmVOYW1lRGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5lZCcsIGV2ZW50ID0+IHtcclxuICAgICAgICBbbGluZU5hbWVaSFRleHRGaWVsZCwgbGluZU5hbWVFTlRleHRGaWVsZF0ubWFwKHRleHRmaWVsZCA9PiB0ZXh0ZmllbGQubGF5b3V0KCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI2xpbmVfbmFtZV9kaWFnJylcclxuICAgICAgICAuZmluZCgnLm1kYy10ZXh0LWZpZWxkJylcclxuICAgICAgICAub24oJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbGluZU5hbWVzID0gW2xpbmVOYW1lWkhUZXh0RmllbGQsIGxpbmVOYW1lRU5UZXh0RmllbGRdLm1hcCh0ZXh0ZmllbGQgPT4gdGV4dGZpZWxkLnZhbHVlKSBhcyBOYW1lO1xyXG4gICAgICAgICAgICB3aW5kb3cubXlMaW5lLmxpbmVOYW1lcyA9IGxpbmVOYW1lcztcclxuICAgICAgICAgICAgJCgnI2Rlc2lnbl9saXN0JylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnbGkjbmFtZSAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGxpbmVOYW1lcy5qb2luKCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICgkKHBsYXRmb3JtTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2lucHV0JywgZXZlbnQgPT4gd2luZG93Lm15TGluZS5wbGF0Zm9ybU51bSA9IGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdHIoKSB7XHJcbiAgICAvLyBtZGMgaW5zdGFuY2VzXHJcbiAgICBjb25zdCBkZXNpZ25MaXN0TVRSTGlzdCA9IE1EQ0xpc3QuYXR0YWNoVG8oJCgnI2Rlc2lnbl9saXN0X210cicpWzBdKTtcclxuICAgIGNvbnN0IGNoYXJEaWFsb2cgPSBNRENEaWFsb2cuYXR0YWNoVG8oJCgnI2Rlc2lnbl9jaGFyX2RpYWcnKVswXSk7XHJcbiAgICBjb25zdCBsZWdhY3lTd2l0Y2ggPSBuZXcgTURDU3dpdGNoKCQoJyNsZWdhY3knKVswXSk7XHJcblxyXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uc1xyXG4gICAgY29uc3QgZ2V0Q2hhclRleHQgPSAoY2hhcjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICQoJyNkZXNpZ25fY2hhcl9kaWFnJylcclxuICAgICAgICAgICAgLmZpbmQoJ2xpJylcclxuICAgICAgICAgICAgLmZpbHRlcigoXywgZWw6IEhUTUxFbGVtZW50KSA9PiBlbC5kYXRhc2V0Lm1kY0RpYWxvZ0FjdGlvbiA9PT0gY2hhcilcclxuICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKVxyXG4gICAgICAgICAgICAudGV4dCgpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGluaXQgdmFsdWVzXHJcbiAgICBQcm9taXNlLnJlc29sdmUoZ2V0UGFyYW1zKCkpXHJcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xyXG4gICAgICAgICAgICAvLyAkKCcjZGVzaWduX2xpc3RfbXRyJylcclxuICAgICAgICAgICAgLy8gICAgIC5maW5kKCdsaSNjaGFyIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXHJcbiAgICAgICAgICAgIC8vICAgICAudGV4dChnZXRDaGFyVGV4dChwYXJhbS5jaGFyX2Zvcm0pKTtcclxuICAgICAgICAgICAgJCgnI2Rlc2lnbl9jaGFyX2RpYWcnKVswXS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnTURDRGlhbG9nOmNsb3NlZCcsIHsgZGV0YWlsOiB7YWN0aW9uOiBwYXJhbS5jaGFyX2Zvcm19fSkpO1xyXG4gICAgICAgICAgICAvLyBjaGFyRGlhbG9nLmNsb3NlKHBhcmFtLmNoYXJfZm9ybSk7XHJcbiAgICAgICAgICAgIGxlZ2FjeVN3aXRjaC5jaGVja2VkID0gcGFyYW0uZGVzdF9sZWdhY3k7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcclxuICAgIGRlc2lnbkxpc3RNVFJMaXN0Lmxpc3RlbignTURDTGlzdDphY3Rpb24nLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS50eHRGbGlwID0gIWdldFBhcmFtcygpLnR4dF9mbGlwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNoYXJEaWFsb2cub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY2hhckRpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGV0IGNoYXIgPSBldmVudC5kZXRhaWwuYWN0aW9uO1xyXG4gICAgICAgIGlmIChjaGFyID09ICdjbG9zZScpIHtyZXR1cm47fVxyXG5cclxuICAgICAgICB3aW5kb3cubXlMaW5lLmNoYXJGb3JtID0gY2hhcjtcclxuICAgICAgICAkKCcjZGVzaWduX2xpc3RfbXRyJylcclxuICAgICAgICAgICAgLmZpbmQoJ2xpI2NoYXIgLm1kYy1saXN0LWl0ZW1fX3NlY29uZGFyeS10ZXh0JylcclxuICAgICAgICAgICAgLnRleHQoZ2V0Q2hhclRleHQoY2hhcikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgKCQobGVnYWN5U3dpdGNoLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2NoYW5nZScsIGV2ZW50ID0+IHdpbmRvdy5teUxpbmUuZGVzdExlZ2FjeSA9IGV2ZW50LnRhcmdldC5jaGVja2VkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGd6bXRyKCkge1xyXG4gICAgLy8gbWRjIGluc3RhbmNlc1xyXG4gICAgY29uc3QgZGVzaWduTGlzdEdaTVRSTGlzdCA9IE1EQ0xpc3QuYXR0YWNoVG8oJCgnI2Rlc2lnbl9saXN0X2d6bXRyJylbMF0pO1xyXG4gICAgY29uc3QgcGFuZWxUeXBlRGlhbG9nID0gTURDRGlhbG9nLmF0dGFjaFRvKCQoJyNwYW5lbF90eXBlX2RpYWcnKVswXSk7XHJcbiAgICBjb25zdCBbcHNkTnVtVGV4dEZpZWxkLCBsaW5lTnVtVGV4dEZpZWxkXSA9IFxyXG4gICAgICAgIFsnI3BzZF9udW0nLCAnI2xpbmVfbnVtJ10ubWFwKHNlbGVjdG9yID0+IE1EQ1RleHRGaWVsZC5hdHRhY2hUbygkKHNlbGVjdG9yKVswXSkpO1xyXG5cclxuICAgIC8vIGluaXQgdmFsdWVzXHJcbiAgICBQcm9taXNlLnJlc29sdmUoZ2V0UGFyYW1zKCkpXHJcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xyXG4gICAgICAgICAgICBwc2ROdW1UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5wc2RfbnVtO1xyXG4gICAgICAgICAgICBsaW5lTnVtVGV4dEZpZWxkLnZhbHVlID0gcGFyYW0ubGluZV9udW07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgZGVzaWduTGlzdEdaTVRSTGlzdC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHBhbmVsVHlwZURpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAoJChsaW5lTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2lucHV0JywgZXZlbnQgPT4gKDxSTUdMaW5lR1o+d2luZG93Lm15TGluZSkubGluZU51bSA9IGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgKCQocHNkTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2lucHV0JywgZXZlbnQgPT4gKDxSTUdMaW5lR1o+d2luZG93Lm15TGluZSkucHNkTnVtID0gZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuXHJcbiAgICBwYW5lbFR5cGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnY2xvc2UnKSB7cmV0dXJuO31cclxuICAgICAgICAoPFJNR0xpbmVHWj53aW5kb3cubXlMaW5lKS5pbmZvUGFuZWxUeXBlID0gZXZlbnQuZGV0YWlsLmFjdGlvbjtcclxuICAgIH0pO1xyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHtcclxuICAgICQoJyNwYW5lbF9pbmZvIC5tZGMtY2FyZF9fYWN0aW9ucyAjcmVwb3J0Jykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2dpdGh1Yi5jb20vd29uZ2NoaXRvL1JhaWxNYXBHZW5lcmF0b3IvaXNzdWVzJywgJ19ibGFuaycpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjcGFuZWxfaW5mbyAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyBbdGl0bGU9XCJTdGFyXCJdJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2dpdGh1Yi5jb20vd29uZ2NoaXRvL1JhaWxNYXBHZW5lcmF0b3InLCAnX2JsYW5rJyk7XHJcbiAgICB9KTtcclxuICAgICQoJyNwYW5lbF9pbmZvIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zIFt0aXRsZT1cIkZvcmtcIl0nKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vZ2l0aHViLmNvbS93b25nY2hpdG8vUmFpbE1hcEdlbmVyYXRvci9mb3JrJywgJ19ibGFuaycpO1xyXG4gICAgfSk7XHJcbn0iLCJpbXBvcnQgKiBhcyBpbml0TGF5b3V0IGZyb20gJy4vbGF5b3V0JztcclxuaW1wb3J0ICogYXMgaW5pdERlc2lnbiBmcm9tICcuL2Rlc2lnbic7XHJcbmltcG9ydCAqIGFzIGluaXRTdGF0aW9ucyBmcm9tICcuL3N0YXRpb25zJztcclxuaW1wb3J0ICogYXMgaW5pdEluZm8gZnJvbSAnLi9pbmZvJztcclxuaW1wb3J0IHsgTURDVGFiQmFyIH0gZnJvbSAnQG1hdGVyaWFsL3RhYi1iYXInO1xyXG5pbXBvcnQgeyBNRENTbGlkZXIgfSBmcm9tICdAbWF0ZXJpYWwvc2xpZGVyJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcclxuICAgIFxyXG5sZXQgZmlyc3RJbml0ID0gW2ZhbHNlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcclxud2luZG93LnNsaWRlcnMgPSBbXSBhcyBNRENTbGlkZXJbXTtcclxuXHJcbk1EQ1RhYkJhci5hdHRhY2hUbygkKCcjcGFuZWxzIC5tZGMtdGFiLWJhcicpWzBdKS5saXN0ZW4oJ01EQ1RhYkJhcjphY3RpdmF0ZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgJCgnLnBhbmVsLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygncGFuZWwtLWFjdGl2ZScpO1xyXG4gICAgJCgnLnBhbmVsJykuZXEoZXZlbnQuZGV0YWlsLmluZGV4KS5hZGRDbGFzcygncGFuZWwtLWFjdGl2ZScpO1xyXG5cclxuICAgIGlmIChldmVudC5kZXRhaWwuaW5kZXggPT0gMSAmJiBmaXJzdEluaXRbMV0pIHtcclxuICAgICAgICBpbml0TGF5b3V0LmNvbW1vbigpO1xyXG4gICAgICAgIGlmICh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSA9PT0gJ2d6bXRyJykge1xyXG4gICAgICAgICAgICBpbml0TGF5b3V0Lmd6bXRyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpcnN0SW5pdFsxXSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PT0gMSkge1xyXG4gICAgICAgIHdpbmRvdy5zbGlkZXJzLmZvckVhY2goc2xpZGVyID0+IHNsaWRlci5sYXlvdXQoKSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09IDIgJiYgZmlyc3RJbml0WzJdKSB7XHJcbiAgICAgICAgaW5pdERlc2lnbi5jb21tb24oKTtcclxuICAgICAgICBzd2l0Y2ggKHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ210cic6XHJcbiAgICAgICAgICAgICAgICBpbml0RGVzaWduLm10cigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2d6bXRyJzpcclxuICAgICAgICAgICAgICAgIGluaXREZXNpZ24uZ3ptdHIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaXJzdEluaXRbMl0gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChldmVudC5kZXRhaWwuaW5kZXggPT0gMyAmJiBmaXJzdEluaXRbM10pIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCBhZ2FpbicpO1xyXG4gICAgICAgIGluaXRTdGF0aW9ucy5jb21tb24oKTtcclxuICAgICAgICBmaXJzdEluaXRbM10gPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChldmVudC5kZXRhaWwuaW5kZXggPT0gNCAmJiBmaXJzdEluaXRbNF0pIHtcclxuICAgICAgICBpbml0SW5mby5jb21tb24oKTtcclxuICAgICAgICBmaXJzdEluaXRbNF0gPSBmYWxzZTtcclxuICAgIH1cclxufSk7XHJcblxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBnZXRQYXJhbXMgfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCB7IFJNR0xpbmVHWiB9IGZyb20gJy4uL0xpbmUvTGluZUdaJztcclxuaW1wb3J0IHsgTURDVGV4dEZpZWxkIH0gZnJvbSAnQG1hdGVyaWFsL3RleHRmaWVsZCc7XHJcbmltcG9ydCB7IE1EQ1NsaWRlciB9IGZyb20gJ0BtYXRlcmlhbC9zbGlkZXInO1xyXG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi4vTGluZS9MaW5lJztcclxuaW1wb3J0IHsgTURDUmlwcGxlIH0gZnJvbSAnQG1hdGVyaWFsL3JpcHBsZSc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICBteUxpbmU/OiBSTUdMaW5lO1xyXG4gICAgICAgIHNsaWRlcnM/OiBNRENTbGlkZXJbXTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHtcclxuICAgIC8vIG1kYyBpbnN0YW5jZXNcclxuICAgIGNvbnN0IFtzdmdEZXN0V2lkdGhUZXh0RmllbGQsIHN2Z1dpZHRoVGV4dEZpZWxkXSA9IFxyXG4gICAgICAgIFsnI3N2Z19kZXN0X3dpZHRoJywgJyNzdmdfd2lkdGgnXS5tYXAoc2VsZWN0b3IgPT4gTURDVGV4dEZpZWxkLmF0dGFjaFRvKCQoc2VsZWN0b3IpWzBdKSk7XHJcblxyXG4gICAgY29uc3QgW2JyYW5jaFNwYWNpbmdTbGlkZXIsIHlQY1NsaWRlciwgcGFkZGluZ1NsaWRlcl0gPSBcclxuICAgICAgICBbJyNicmFuY2hfc3BhY2luZycsICcjeV9wYycsICcjcGFkZGluZyddLm1hcChzZWxlY3RvciA9PiBNRENTbGlkZXIuYXR0YWNoVG8oJChzZWxlY3RvcilbMF0pKTtcclxuICAgIHdpbmRvdy5zbGlkZXJzLnB1c2goYnJhbmNoU3BhY2luZ1NsaWRlciwgeVBjU2xpZGVyLCBwYWRkaW5nU2xpZGVyKTtcclxuICAgIC8vICQoJyNwYW5lbF9sYXlvdXQgLm1kYy1saXN0IGxpJykubWFwKChfLGVsKSA9PiBuZXcgTURDUmlwcGxlKGVsKSk7XHJcblxyXG4gICAgLy8gaW5pdCB2YWx1ZXNcclxuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcclxuICAgICAgICAudGhlbihwYXJhbSA9PiB7XHJcbiAgICAgICAgICAgIHN2Z0Rlc3RXaWR0aFRleHRGaWVsZC52YWx1ZSA9IHBhcmFtLnN2Z19kZXN0X3dpZHRoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHN2Z1dpZHRoVGV4dEZpZWxkLnZhbHVlID0gcGFyYW0uc3ZnX3dpZHRoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHlQY1NsaWRlci52YWx1ZSA9IHBhcmFtLnlfcGM7XHJcbiAgICAgICAgICAgIGJyYW5jaFNwYWNpbmdTbGlkZXIudmFsdWUgPSBwYXJhbS5icmFuY2hfc3BhY2luZztcclxuICAgICAgICAgICAgcGFkZGluZ1NsaWRlci52YWx1ZSA9IHBhcmFtLnBhZGRpbmc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgKCQoc3ZnRGVzdFdpZHRoVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2lucHV0JywgZXZlbnQgPT4gd2luZG93Lm15TGluZS5zdmdEZXN0V2lkdGggPSBOdW1iZXIoZXZlbnQudGFyZ2V0LnZhbHVlKSk7XHJcblxyXG4gICAgKCQoc3ZnV2lkdGhUZXh0RmllbGQucm9vdF8pLmZpbmQoJ2lucHV0JykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+KVxyXG4gICAgICAgIC5vbignaW5wdXQnLCBldmVudCA9PiB3aW5kb3cubXlMaW5lLnN2Z1dpZHRoID0gTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkpO1xyXG5cclxuICAgIGJyYW5jaFNwYWNpbmdTbGlkZXIubGlzdGVuKCdNRENTbGlkZXI6aW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgd2luZG93Lm15TGluZS5icmFuY2hTcGFjaW5nID0gTnVtYmVyKGJyYW5jaFNwYWNpbmdTbGlkZXIudmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgeVBjU2xpZGVyLmxpc3RlbignTURDU2xpZGVyOmlucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5teUxpbmUueVBjID0gTnVtYmVyKHlQY1NsaWRlci52YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwYWRkaW5nU2xpZGVyLmxpc3RlbignTURDU2xpZGVyOmlucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5teUxpbmUucGFkZGluZyA9IE51bWJlcihwYWRkaW5nU2xpZGVyLnZhbHVlKTtcclxuICAgIH0pOyAgICBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGd6bXRyKCkge1xyXG4gICAgLy8gbWRjIGluc3RhbmNlc1xyXG4gICAgY29uc3QgW2RpcmVjdGlvbkdaWFNsaWRlciwgZGlyZWN0aW9uR1pZU2xpZGVyXSA9XHJcbiAgICAgICAgWycjZGlyZWN0aW9uX2d6X3gnLCAnI2RpcmVjdGlvbl9nel95J11cclxuICAgICAgICAgICAgLm1hcChzZWxlY3RvciA9PiBNRENTbGlkZXIuYXR0YWNoVG8oJChzZWxlY3RvcilbMF0pKTtcclxuICAgIHdpbmRvdy5zbGlkZXJzLnB1c2goZGlyZWN0aW9uR1pYU2xpZGVyLCBkaXJlY3Rpb25HWllTbGlkZXIpO1xyXG5cclxuICAgIC8vIGluaXQgdmFsdWVzXHJcbiAgICBQcm9taXNlLnJlc29sdmUoZ2V0UGFyYW1zKCkpXHJcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb25HWlhTbGlkZXIudmFsdWUgPSBwYXJhbS5kaXJlY3Rpb25fZ3pfeDtcclxuICAgICAgICAgICAgZGlyZWN0aW9uR1pZU2xpZGVyLnZhbHVlID0gcGFyYW0uZGlyZWN0aW9uX2d6X3k7XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIC8vIGFkZCBldmVudCBsaXN0ZW5lcnNcclxuICAgIGRpcmVjdGlvbkdaWFNsaWRlci5saXN0ZW4oJ01EQ1NsaWRlcjppbnB1dCcsICgpID0+IHtcclxuICAgICAgICAoPFJNR0xpbmVHWj53aW5kb3cubXlMaW5lKS5kaXJlY3Rpb25HWlggPSBOdW1iZXIoZGlyZWN0aW9uR1pYU2xpZGVyLnZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRpcmVjdGlvbkdaWVNsaWRlci5saXN0ZW4oJ01EQ1NsaWRlcjppbnB1dCcsICgpID0+IHtcclxuICAgICAgICAoPFJNR0xpbmVHWj53aW5kb3cubXlMaW5lKS5kaXJlY3Rpb25HWlkgPSBOdW1iZXIoZGlyZWN0aW9uR1pZU2xpZGVyLnZhbHVlKTtcclxuICAgIH0pO1xyXG59IiwiaW1wb3J0IHsgZ2V0UGFyYW1zLCBnZXRUcmFuc1RleHQsIHRlc3QsIGRlc2NyaWJlUGFyYW1zLCBSTUdQYXJhbSB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgUk1HTGluZSB9IGZyb20gJy4uL0xpbmUvTGluZSc7XHJcbmltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gJ0BtYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNRENMaXN0IH0gZnJvbSAnQG1hdGVyaWFsL2xpc3QnO1xyXG5pbXBvcnQgeyBNRENSaXBwbGUgfSBmcm9tICdAbWF0ZXJpYWwvcmlwcGxlJztcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgICAgIHVybFBhcmFtcz86IFVSTFNlYXJjaFBhcmFtcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHsgICAgXHJcbiAgICAvLyBtZGMgaW50YW5jZXMgXHJcbiAgICBjb25zdCBbdGVtcGxhdGVEaWFsb2csIGltcG9ydERpYWxvZywgZXhwb3J0RGlhbG9nLCBwcmV2aWV3RGlhbG9nLCBzdHlsZURpYWxvZywgbGFuZ0RpYWxvZ10gPSBcclxuICAgICAgICBbJyN0ZW1wbGF0ZV9kaWFnJywgJyNpbXBvcnRfZGlhZycsICcjZXhwb3J0X2RpYWcnLCAnI3ByZXZpZXdfZGlhZycsICcjc3R5bGVfZGlhZycsICcjbGFuZ19kaWFnJ11cclxuICAgICAgICAgICAgLm1hcChzZWxlY3RvciA9PiBNRENEaWFsb2cuYXR0YWNoVG8oJChzZWxlY3RvcilbMF0pKTtcclxuICAgIGNvbnN0IFtzYXZlTGlzdDAsIHNhdmVMaXN0MV0gPSAkKCcjcGFuZWxfc2F2ZSAubWRjLWxpc3QnKS5tYXAoKF8sZWwpID0+IE1EQ0xpc3QuYXR0YWNoVG8oZWwpKS5nZXQoKTtcclxuICAgICQoJyNwYW5lbF9zYXZlIC5tZGMtbGlzdCBsaScpLm1hcCgoXyxlbCkgPT4gbmV3IE1EQ1JpcHBsZShlbCkpO1xyXG5cclxuICAgIHNhdmVMaXN0MC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2ZpbGUnKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIC8vIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSBuZXcgQmxvYihbbG9jYWxTdG9yYWdlLnJtZ1BhcmFtXSwge3R5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmRvd25sb2FkID0gJ3JtZ19jb25maWcuanNvbic7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICAgICAgICAgICAgICAvLyBicmVhaztcclxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJCgnPGE+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6ICdkYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCcrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQobG9jYWxTdG9yYWdlLnJtZ1BhcmFtKSkpLCBcclxuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZDogJ3JtZ19wYXJhbS5qc29uJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsaW5rWzBdLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgZXhwb3J0RGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNwYW5lbF9zYXZlIC5tZGMtbGlzdDpudGgtY2hpbGQoMikgbGk6Zmlyc3QtY2hpbGQgc3BhbjpudGgtY2hpbGQoMikgc3BhbjpsYXN0LWNoaWxkJylcclxuICAgICAgICAuYXR0cigndHJhbnMtdGFnJywgJChgI3N0eWxlX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfVwiXSBzcGFuYCkuYXR0cigndHJhbnMtdGFnJykpXHJcbiAgICAgICAgLnRleHQoJChgI3N0eWxlX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfVwiXSBzcGFuYCkudGV4dCgpKTtcclxuXHJcbiAgICAkKCcjcGFuZWxfc2F2ZSAubWRjLWxpc3Q6bnRoLWNoaWxkKDIpIGxpOm50aC1jaGlsZCgyKSBzcGFuOm50aC1jaGlsZCgyKSBzcGFuOmxhc3QtY2hpbGQnKVxyXG4gICAgICAgIC50ZXh0KCQoYCNsYW5nX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyl9XCJdIHNwYW5gKS50ZXh0KCkpO1xyXG4gICAgICAgIFxyXG4gICAgc2F2ZUxpc3QxLmxpc3RlbignTURDTGlzdDphY3Rpb24nLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHN0eWxlRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBsYW5nRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQuZ2V0SlNPTigndGVtcGxhdGVzL3RlbXBsYXRlX2xpc3QuanNvbicsIGRhdGEgPT4ge1xyXG4gICAgICAgIHZhciBsYW5nID0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKTtcclxuICAgICAgICBkYXRhLmZvckVhY2goZCA9PiB7XHJcbiAgICAgICAgICAgICQoJyN0ZW1wbGF0ZV9kaWFnIHVsJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPGxpPicsIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJtZGMtbGlzdC1pdGVtXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLW1kYy1kaWFsb2ctYWN0aW9uJzogZC5maWxlbmFtZVxyXG4gICAgICAgICAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJzxzcGFuPicsIHsgY2xhc3M6IFwibWRjLWxpc3QtaXRlbV9fdGV4dFwiIH0pLnRleHQoZ2V0VHJhbnNUZXh0KGQuZGVzYywgbGFuZykpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyN0ZW1wbGF0ZV9kaWFnIGxpOmZpcnN0LWNoaWxkJykuYXR0cigndGFiaW5kZXgnLCAwKTtcclxuICAgICAgICAkKCcjdGhlbWVfbGluZV9fc2VsZWN0aW9uIGxpJykubWFwKChfLGVsKSA9PiBuZXcgTURDUmlwcGxlKGVsKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZW1wbGF0ZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5hY3Rpb24gPT0gJ2Nsb3NlJykge3JldHVybjt9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJC5nZXRKU09OKGB0ZW1wbGF0ZXMvJHtldmVudC5kZXRhaWwuYWN0aW9ufS5qc29uYCwgZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5ybWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBvcnREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3ZnMSc6XHJcbiAgICAgICAgICAgICAgICAkKCcjcHJldmlld19kaWFnJykuYXR0cignZm9yJywgJ2Rlc3RpbmF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aWV3RGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzdmcyJzpcclxuICAgICAgICAgICAgICAgICQoJyNwcmV2aWV3X2RpYWcnKS5hdHRyKCdmb3InLCAncmFpbG1hcCcpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlld0RpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIF8gPT4ge1xyXG4gICAgICAgIHJlc2l6ZVNWR1ByZXZpZXcoKTtcclxuICAgICAgICAvLyAkKCcjcHJldmlld19kaWFnIC5tZGMtZGlhbG9nX19zdXJmYWNlJykuYXR0cignc3R5bGUnLCBgbWF4LXdpZHRoOiR7JCh3aW5kb3cpLndpZHRoKCktMzJ9cHg7YCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlc2l6ZVNWR1ByZXZpZXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHN2Z0lkID0gJCgncHJldmlld19kaWFnJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgdmFyIFt0aGlzU1ZHV2lkdGgsIHRoaXNTVkdIZWlnaHRdID0gW1xyXG4gICAgICAgICAgICBzdmdJZD09J2Rlc3RpbmF0aW9uJyA/IGdldFBhcmFtcygpLnN2Z19kZXN0X3dpZHRoIDogZ2V0UGFyYW1zKCkuc3ZnX3dpZHRoLCBcclxuICAgICAgICAgICAgZ2V0UGFyYW1zKCkuc3ZnX2hlaWdodFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgdmFyIE1BWF9XSURUSCA9ICQod2luZG93KS53aWR0aCgpIC0gMzIgLSA1MDtcclxuICAgICAgICB2YXIgTUFYX0hFSUdIVCA9ICQod2luZG93KS5oZWlnaHQoKSAtIDYwIC0gNTMgLSA2MDtcclxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSBNYXRoLm1pbihNQVhfV0lEVEgvdGhpc1NWR1dpZHRoLCBNQVhfSEVJR0hUL3RoaXNTVkdIZWlnaHQpO1xyXG5cclxuICAgICAgICAkKCcjcHJldmlld19kaWFnJylcclxuICAgICAgICAgICAgLmZpbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzU1ZHV2lkdGggKiBzY2FsZUZhY3RvciwgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXNTVkdIZWlnaHQgKiBzY2FsZUZhY3RvclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3ByZXZpZXdfZGlhZycpXHJcbiAgICAgICAgICAgIC5maW5kKCcubWRjLWRpYWxvZ19fc3VyZmFjZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGBtYXgtd2lkdGg6JHtNQVhfV0lEVEgrNTB9cHg7YCk7XHJcbiAgICB9XHJcbiAgICBwcmV2aWV3RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5lZCcsIGV2ZW50ID0+IHtcclxuICAgICAgICB2YXIgc3ZnSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XHJcbiAgICAgICAgdmFyIFt0aGlzU1ZHV2lkdGgsIHRoaXNTVkdIZWlnaHRdID0gW1xyXG4gICAgICAgICAgICBzdmdJZD09J2Rlc3RpbmF0aW9uJyA/IGdldFBhcmFtcygpLnN2Z19kZXN0X3dpZHRoIDogZ2V0UGFyYW1zKCkuc3ZnX3dpZHRoLCBcclxuICAgICAgICAgICAgZ2V0UGFyYW1zKCkuc3ZnX2hlaWdodFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgJCgnI3ByZXZpZXdfZGlhZyAubWRjLWRpYWxvZ19fc3VyZmFjZScpLmF0dHIoJ3N0eWxlJywgYG1heC13aWR0aDokeyQod2luZG93KS53aWR0aCgpLTMyfXB4O2ApO1xyXG5cclxuICAgICAgICB2YXIgTUFYX1dJRFRIID0gJCh3aW5kb3cpLndpZHRoKCkgLSAzMiAtIDUwO1xyXG4gICAgICAgIHZhciBNQVhfSEVJR0hUID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gNjAgLSA1MyAtIDYwO1xyXG4gICAgICAgIHZhciBzY2FsZUZhY3RvciA9IE1hdGgubWluKE1BWF9XSURUSC90aGlzU1ZHV2lkdGgsIE1BWF9IRUlHSFQvdGhpc1NWR0hlaWdodCk7XHJcblxyXG4gICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCcjJyskKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJykpLmNsb25lKCkuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdhbGw6aW5pdGlhbDsnLCBcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7dGhpc1NWR1dpZHRofSAke3RoaXNTVkdIZWlnaHR9YCwgXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXNTVkdXaWR0aCAqIHNjYWxlRmFjdG9yLCBcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXNTVkdIZWlnaHQgKiBzY2FsZUZhY3RvclxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IGNzc1R4dCA9IFsnc2hhcmUnLCAkKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZmluZCgnc3ZnJylbMF0uaWRdXHJcbiAgICAgICAgICAgIC5tYXAodGFnID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICAgICAgICAgICgoPEhUTUxMaW5rRWxlbWVudD4kKGBsaW5rI2Nzc18ke3RhZ31gKVswXSkuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldCkuY3NzUnVsZXNcclxuICAgICAgICAgICAgICAgICkubWFwKHJ1bGUgPT4gcnVsZS5jc3NUZXh0KS5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCdzdmcnKS5wcmVwZW5kKC4uLmNzc1R4dC5tYXAodHh0ID0+ICQoJzxzdHlsZT4nKS50ZXh0KHR4dCkpKTtcclxuICAgICAgICBcclxuICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmluZCgnc3ZnIFtzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCJdJykucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuICAgIHByZXZpZXdEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5yZW1vdmVBdHRyKCdmb3InKS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAncG5nJykge1xyXG4gICAgICAgICAgICB0ZXN0KCQoZXZlbnQudGFyZ2V0KS5yZW1vdmVBdHRyKCdmb3InKS5maW5kKCdzdmcnKSk7XHJcbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAvLyBQcmVwZW5kIGNzcyBzdHlsZXNoZWV0IHRvIHN2Z1xyXG4gICAgICAgICAgICBsZXQgc3ZnQ29udGVudCA9ICQoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCBzdmcnKTtcclxuICAgICAgICAgICAgLy8gbGV0IGNzc1R4dCA9IFsnc2hhcmUnLCBzdmdDb250ZW50WzBdLmlkXVxyXG4gICAgICAgICAgICAvLyAgICAgLm1hcCh0YWcgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAoKDxIVE1MTGlua0VsZW1lbnQ+JChgbGluayNjc3NfJHt0YWd9YClbMF0pLnNoZWV0IGFzIENTU1N0eWxlU2hlZXQpLmNzc1J1bGVzXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgKS5tYXAocnVsZSA9PiBydWxlLmNzc1RleHQpLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBzdmdDb250ZW50LnByZXBlbmQoXHJcbiAgICAgICAgICAgIC8vICAgICAuLi5jc3NUeHQubWFwKHR4dCA9PiAkKCc8c3R5bGU+JykudGV4dCh0eHQpKVxyXG4gICAgICAgICAgICAvLyApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCcgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdmdDb250ZW50WzBdLm91dGVySFRNTCkpKTtcclxuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9ICdybWdfZXhwb3J0LnN2Zyc7XHJcbiAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgIFxyXG4gICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkucmVtb3ZlQXR0cignZm9yJykuZmluZCgnLm1kYy1kaWFsb2dfX2NvbnRlbnQnKS5lbXB0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBpbXBvcnRlZEZpbGU6IFJNR1BhcmFtO1xyXG4gICAgKCQoJyN1cGxvYWRfZmlsZScpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2NoYW5nZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRlZEZpbGUgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCBhcyB1bmtub3duIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjaW1wb3J0X2RpYWcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwoZGVzY3JpYmVQYXJhbXMoaW1wb3J0ZWRGaWxlKSk7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnREaWFsb2cub3BlbigpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChldmVudC50YXJnZXQuZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgaW1wb3J0RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsIChldmVudDogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICgkKCcjdXBsb2FkX2ZpbGUnKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoaW1wb3J0ZWRGaWxlKTtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdHlsZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzogXHJcbiAgICAgICAgICAgIGNhc2Ugd2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cudXJsUGFyYW1zLnNldCgnc3R5bGUnLCBldmVudC5kZXRhaWwuYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxhbmdEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09ICdjbG9zZScpIHtyZXR1cm47fVxyXG4gICAgICAgIHZhciBuZXh0TGFuZyA9IGV2ZW50LmRldGFpbC5hY3Rpb247XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ0xhbmcgPSBuZXh0TGFuZztcclxuICAgICAgICBpZiAobmV4dExhbmcgPT0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCBuZXh0TGFuZyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgeyBnZXRQYXJhbXMsIGNvdW50cnlDb2RlMkVtb2ppLCBnZXRUcmFuc1RleHQsIHJnYjJIZXggfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCB7IElELCBTdGF0aW9uSW5mbywgTmFtZSwgRGlyZWN0aW9uTG9uZywgTmVpZ2hib3VyUGwsIEludGVyY2hhbmdlSW5mbywgSW50SW5mb1RhZyB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgTURDRGlhbG9nIH0gZnJvbSAnQG1hdGVyaWFsL2RpYWxvZyc7XHJcbmltcG9ydCB7IE1EQ1NlbGVjdCB9IGZyb20gJ0BtYXRlcmlhbC9zZWxlY3QnO1xyXG5pbXBvcnQgeyBNRENUZXh0RmllbGQgfSBmcm9tICdAbWF0ZXJpYWwvdGV4dGZpZWxkJztcclxuaW1wb3J0IHsgTURDVGFiQmFyIH0gZnJvbSAnQG1hdGVyaWFsL3RhYi1iYXInO1xyXG5pbXBvcnQgeyBNRENJY29uQnV0dG9uVG9nZ2xlIH0gZnJvbSAnQG1hdGVyaWFsL2ljb24tYnV0dG9uJztcclxuaW1wb3J0IHsgTURDQ2hpcCwgTURDQ2hpcFNldCB9IGZyb20gJ0BtYXRlcmlhbC9jaGlwcyc7XHJcbmltcG9ydCB7IE1EQ1JpcHBsZSB9IGZyb20gJ0BtYXRlcmlhbC9yaXBwbGUnO1xyXG5pbXBvcnQgeyBNRENTd2l0Y2ggfSBmcm9tICdAbWF0ZXJpYWwvc3dpdGNoJztcclxuXHJcbmNvbnN0IGdldFN0YXRpb25DYXJkID0gKGlkOiBJRCwgbmFtZXM6IE5hbWUsIG51bTogc3RyaW5nKSA9PiB7XHJcbiAgICByZXR1cm4gJCgnPGRpdj4nLCB7XHJcbiAgICAgICAgaWQ6IGlkLCBcclxuICAgICAgICBjbGFzczogJ21kYy1jYXJkIG1kYy1sYXlvdXQtZ3JpZF9fY2VsbC0tc3Bhbi0yLWRlc2t0b3AgbWRjLWxheW91dC1ncmlkX19jZWxsLS1zcGFuLTQtdGFibGV0IG1kYy1sYXlvdXQtZ3JpZF9fY2VsbC0tc3Bhbi0yLXBob25lIHN0YXRpb24tY2FyZCdcclxuICAgIH0pXHJcbiAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPGRpdj4nLCB7IGNsYXNzOiAnbWRjLWNhcmRfX3ByaW1hcnktYWN0aW9uJ30pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxkaXY+JywgeyBjbGFzczogJ21kYy1jYXJkX19tZWRpYSBtZGMtY2FyZF9fbWVkaWEtLTE2LTknIH0pKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicsIHsgY2xhc3M6ICdtZGMtY2FyZF9fbWVkaWEtY29udGVudCBzdGF0aW9uLWNhcmRfX2NvbnRlbnQnfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwobmFtZXMuam9pbignPGJyPicpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxzcGFuPicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsIHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpID09PSAnZ3ptdHInID8gJ2lubGluZScgOiAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQobnVtICsgJ1xcdTAwYTAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzxkaXY+JywgeyBjbGFzczogJ21kYy1jYXJkX19hY3Rpb25zJyB9KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicsIHsgY2xhc3M6ICdtZGMtY2FyZF9fYWN0aW9uLWljb25zJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGJ1dHRvbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTZXQgQXMgQ3VycmVudCcsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWF0ZXJpYWwtaWNvbnMgbWRjLWljb24tYnV0dG9uIG1kYy1jYXJkX19hY3Rpb24gbWRjLWNhcmRfX2FjdGlvbi0taWNvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoJ215X2xvY2F0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGJ1dHRvbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbnRlcmNoYW5nZScsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWF0ZXJpYWwtaWNvbnMgbWRjLWljb24tYnV0dG9uIG1kYy1jYXJkX19hY3Rpb24gbWRjLWNhcmRfX2FjdGlvbi0taWNvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoJ2VkaXQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8YnV0dG9uPicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JlbW92ZScsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWF0ZXJpYWwtaWNvbnMgbWRjLWljb24tYnV0dG9uIG1kYy1jYXJkX19hY3Rpb24gbWRjLWNhcmRfX2FjdGlvbi0taWNvbidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoJ2RlbGV0ZV9mb3JldmVyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRJbnRCb3hDaGlwID0gKGludEluZm86IEludGVyY2hhbmdlSW5mbykgPT4ge1xyXG4gICAgbGV0IGNoaXBFbCA9ICQoJzxkaXY+JywgeyBjbGFzczogJ21kYy1jaGlwJywgcm9sZTogJ3JvdycgfSlcclxuICAgICAgICAuY3NzKHtcclxuICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiBpbnRJbmZvW0ludEluZm9UYWcuY29sb3VyXSwgXHJcbiAgICAgICAgICAgIGNvbG9yOiBpbnRJbmZvW0ludEluZm9UYWcuZmddXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZGF0YSgndGhlbWUnLCB7XHJcbiAgICAgICAgICAgIGNpdHk6IGludEluZm9bSW50SW5mb1RhZy5jaXR5XSwgXHJcbiAgICAgICAgICAgIGxpbmU6IGludEluZm9bSW50SW5mb1RhZy5saW5lXVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmFwcGVuZCgkKCc8ZGl2PicsIHsgY2xhc3M6ICdtZGMtY2hpcF9fcmlwcGxlJyB9KSlcclxuICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8c3Bhbj4nLCB7IHJvbGU6ICdncmlkY2VsbCcgfSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4+JywgeyByb2xlOiAnYnV0dG9uJywgdGFiaW5kZXg6IDAsIGNsYXNzOiAnbWRjLWNoaXBfX3RleHQnIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKGludEluZm9bSW50SW5mb1RhZy5uYW1lWkhdICsgJzxicj4nICsgaW50SW5mb1tJbnRJbmZvVGFnLm5hbWVFTl0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzxzcGFuPicsIHsgcm9sZTogJ2dyaWRjZWxsJyB9KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAkKCc8aT4nLCB7IGNsYXNzOiAnbWF0ZXJpYWwtaWNvbnMgbWRjLWNoaXBfX2ljb24gbWRjLWNoaXBfX2ljb24tLXRyYWlsaW5nJywgdGFiaW5kZXg6IC0xLCByb2xlOiAnYnV0dG9uJyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgnY2FuY2VsJylcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgcmV0dXJuIGNoaXBFbFswXTtcclxufTtcclxuXHJcbmNvbnN0IGdldEludEluZm9Gcm9tQ2hpcCA9IChjaGlwOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICAkKGNoaXApLmRhdGEoJ3RoZW1lJykuY2l0eSwgXHJcbiAgICAgICAgJChjaGlwKS5kYXRhKCd0aGVtZScpLmxpbmUsIFxyXG4gICAgICAgIHJnYjJIZXgoJChjaGlwKS5jc3MoJ2JhY2tncm91bmQtY29sb3InKSksIFxyXG4gICAgICAgIHJnYjJIZXgoJChjaGlwKS5jc3MoJ2NvbG9yJykpLCBcclxuICAgICAgICAkKGNoaXApLmZpbmQoJy5tZGMtY2hpcF9fdGV4dCcpLmh0bWwoKS5zcGxpdCgnPGJyPicpWzBdLCBcclxuICAgICAgICAkKGNoaXApLmZpbmQoJy5tZGMtY2hpcF9fdGV4dCcpLmh0bWwoKS5zcGxpdCgnPGJyPicpWzFdXHJcbiAgICBdIGFzIEludGVyY2hhbmdlSW5mbztcclxufTtcclxuXHJcbmNvbnN0IGdldFN0bkludEZyb21DaGlwU2V0cyA9IChzZXRzOiBIVE1MRGl2RWxlbWVudFtdKSA9PiB7XHJcbiAgICBsZXQgaW5mbyA9IHNldHMubWFwKHNldCA9PiB7XHJcbiAgICAgICAgcmV0dXJuICQoc2V0KS5maW5kKCcubWRjLWNoaXAnKS5nZXQoKS5tYXAoZWwgPT4gZ2V0SW50SW5mb0Zyb21DaGlwKGVsKSk7XHJcbiAgICB9KTtcclxuICAgIGxldCBucyA9IGluZm9cclxuICAgICAgICAubWFwKGludCA9PiBpbnQubGVuZ3RoKTtcclxuICAgIGlmIChuc1sxXSA9PT0gMCkge2luZm8gPSBbaW5mb1swXV07fVxyXG4gICAgbGV0IGNoYW5nZVR5cGU6IHN0cmluZztcclxuICAgIGlmIChuc1swXSA9PT0gMyAmJiBuc1sxXSA9PT0gMCkge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnaW50Myc7IC8vIHdhcyBpbnQ0XHJcbiAgICB9IGVsc2UgaWYgKG5zWzBdID09PSAyICYmIG5zWzFdID09PSAxKSB7XHJcbiAgICAgICAgY2hhbmdlVHlwZSA9ICdvc2kzMSc7XHJcbiAgICB9IGVsc2UgaWYgKG5zWzBdID09PSAyICYmIG5zWzFdID09PSAwKSB7XHJcbiAgICAgICAgY2hhbmdlVHlwZSA9ICdpbnQzJ1xyXG4gICAgfSBlbHNlIGlmIChuc1swXSA9PT0gMSAmJiBuc1sxXSA9PT0gMikge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnb3NpMjInOyBcclxuICAgIH0gZWxzZSBpZiAobnNbMF0gPT09IDEgJiYgbnNbMV0gPT09IDEpIHtcclxuICAgICAgICBjaGFuZ2VUeXBlID0gJ29zaTIxJztcclxuICAgIH0gZWxzZSBpZiAobnNbMF0gPT09IDEgJiYgbnNbMV0gPT09IDApIHtcclxuICAgICAgICBjaGFuZ2VUeXBlID0gJ2ludDInO1xyXG4gICAgfSBlbHNlIGlmIChuc1swXSA9PT0gMCAmJiBuc1sxXSA9PT0gMykge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnb3NpMTMnO1xyXG4gICAgfSBlbHNlIGlmIChuc1swXSA9PT0gMCAmJiBuc1sxXSA9PT0gMikge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnb3NpMTInO1xyXG4gICAgfSBlbHNlIGlmIChuc1swXSA9PT0gMCAmJiBuc1sxXSA9PT0gMSkge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnb3NpMTEnO1xyXG4gICAgfSBlbHNlIGlmIChuc1swXSA9PT0gMCAmJiBuc1sxXSA9PT0gMCkge1xyXG4gICAgICAgIGNoYW5nZVR5cGUgPSAnbm9uZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHN1bShucykgPiAzXHJcbiAgICAgICAgY2hhbmdlVHlwZSA9ICdpbnQzJztcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKGNoYW5nZVR5cGUpO1xyXG4gICAgcmV0dXJuIHsgaW5mbywgY2hhbmdlVHlwZSB9O1xyXG59O1xyXG5cclxuY29uc3QgdXBkYXRlU3RuVHJhbnNmZXIgPSAoc2V0czogSFRNTERpdkVsZW1lbnRbXSwgdGljazogTURDQ2hpcFNldCwgcGFpZDogTURDU3dpdGNoKSA9PiB7XHJcbiAgICBsZXQgeyBjaGFuZ2VUeXBlLCBpbmZvIH0gPSBnZXRTdG5JbnRGcm9tQ2hpcFNldHMoc2V0cyk7XHJcbiAgICBsZXQgaW50SW5mbyA9IGluZm8gYXMgYW55O1xyXG4gICAgbGV0IHN0bklkID0gJCgnI3N0bl9lZGl0X2RpYWcnKS5hdHRyKCdmb3InKTtcclxuICAgIGlmIChjaGFuZ2VUeXBlLmluZGV4T2YoJ29zaScpICE9PSAtMSkge1xyXG4gICAgICAgIGxldCBvc2lOYW1lcyA9ICQoJ2J1dHRvbiNvc2lfbmFtZSAubWRjLWJ1dHRvbl9fbGFiZWwnKS5odG1sKCkuc3BsaXQoJzxicj4nKTtcclxuICAgICAgICBpbnRJbmZvWzFdLnVuc2hpZnQob3NpTmFtZXMpO1xyXG4gICAgfVxyXG4gICAgbGV0IHRpY2tEaXJlYzogc3RyaW5nO1xyXG4gICAgaWYgKHRpY2suc2VsZWN0ZWRDaGlwSWRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRpY2tEaXJlYyA9IHRpY2suc2VsZWN0ZWRDaGlwSWRzWzBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aWNrRGlyZWMgPSAncic7XHJcbiAgICB9XHJcbiAgICBsZXQgcGFpZEFyZWEgPSBwYWlkLmNoZWNrZWQ7XHJcblxyXG4gICAgaWYgKGNoYW5nZVR5cGUuaW5kZXhPZignb3NpJykgIT09IC0xKSB7XHJcbiAgICAgICAgY2hhbmdlVHlwZSArPSAnXycgKyAocGFpZEFyZWEgPyAncCcgOiAndScpICsgdGlja0RpcmVjO1xyXG4gICAgfSBlbHNlIGlmIChjaGFuZ2VUeXBlLmluZGV4T2YoJ2ludDMnKSAhPT0gLTEpIHtcclxuICAgICAgICBjaGFuZ2VUeXBlICs9ICdfJyArIHRpY2tEaXJlYztcclxuICAgIH1cclxuICAgIHdpbmRvdy5teUxpbmUudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIGNoYW5nZVR5cGUsIGludEluZm8pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tbW9uKCkge1xyXG5cclxuXHJcbiAgICAvLyBEdXBsaWNhdGUgZWxlbWVudFxyXG4gICAgdmFyIGludE5hbWVFbCA9ICQoJyNzdG5fZWRpdF9kaWFnIC5tZGMtbGF5b3V0LWdyaWRfX2lubmVyICNpbnRfbmFtZV96aCwjaW50X25hbWVfZW4nKS5zbGljZSgwLDIpLmNsb25lKCk7XHJcbiAgICBpbnROYW1lRWwuZmluZCgnLm1kYy10ZXh0LWZpZWxkJykucmVtb3ZlQXR0cignZGF0YS1tZGMtYXV0by1pbml0LXN0YXRlJyk7IC8vIHRvIGJlIHJlbW92ZWRcclxuICAgICQoJ2RpdiNpbnRfbGluZScpLnNsaWNlKDEsMykuYWZ0ZXIoaW50TmFtZUVsKTtcclxuXHJcbiAgICAvLyBtZGMgaW5zdGFuY2VzXHJcbiAgICBjb25zdCBbc3RuQWRkRGlhbG9nLCBzdG5Nb2RpZnlEaWFsb2csIHN0bkVkaXREaWFsb2csIHN0bkludEJveERpYWxvZywgc3RuT1NJTmFtZURpYWxvZywgc3RuRGVsZXRlRGlhbG9nLCBzdG5EZWxldGVFcnJEaWFsb2ddID0gXHJcbiAgICAgICAgWycjc3RuX2FkZF9kaWFnJywgJyNzdG5fbW9kaWZ5X2RpYWcnLCAnI3N0bl9lZGl0X2RpYWcnLCAnI3N0bl9pbnRib3hfZGlhZycsICcjc3RuX29zaW5hbWVfZGlhZycsICcjc3RuX2RlbGV0ZV9kaWFnJywgJyNzdG5fZGVsZXRlX2VyciddXHJcbiAgICAgICAgICAgIC5tYXAoc2VsZWN0b3IgPT4gbmV3IE1EQ0RpYWxvZygkKHNlbGVjdG9yKVswXSkpO1xyXG4gICAgXHJcbiAgICBjb25zdCBbc3RuQWRkUHJlcFNlbGVjdCwgc3RuQWRkUGl2b3RTZWxlY3QsIHN0bkFkZExvY1NlbGVjdCwgc3RuQWRkRW5kU2VsZWN0XSA9IFxyXG4gICAgICAgIFsnI3ByZXAnLCAnI3Bpdm90JywgJyNsb2MnLCAnI2VuZCddLm1hcChzZWxlY3RvciA9PiBuZXcgTURDU2VsZWN0KCQoJyNzdG5fYWRkX2RpYWcnKS5maW5kKHNlbGVjdG9yKVswXSkpO1xyXG5cclxuICAgIGNvbnN0IHN0bk1vZGlmeU5hbWVGaWVsZHMgPSBcclxuICAgICAgICBbJyNuYW1lX3poJywgJyNuYW1lX2VuJ10ubWFwKHNlbGVjdG9yID0+IG5ldyBNRENUZXh0RmllbGQoJCgnI3N0bl9tb2RpZnlfZGlhZycpLmZpbmQoc2VsZWN0b3IpWzBdKSk7XHJcbiAgICBjb25zdCBzdG5Nb2RpZnlOdW1GaWVsZCA9IG5ldyBNRENUZXh0RmllbGQoJCgnI3N0bl9tb2RpZnlfZGlhZyAjc3RuX251bScpWzBdKTtcclxuXHJcbiAgICBjb25zdCBpbnRDaGlwQWRkQnV0dG9uRWxzID0gJCgnI3N0bl9lZGl0X2RpYWcgLm1kYy1pY29uLWJ1dHRvbicpLmdldCgpIGFzIEhUTUxCdXR0b25FbGVtZW50W107XHJcbiAgICBjb25zdCBpbnRDaGlwU2V0RWxzID0gJCgnI3N0bl9lZGl0X2RpYWcgLm1kYy1jaGlwLXNldC5pbnQtY2hpcC1zZXQnKS5nZXQoKSBhcyBIVE1MRGl2RWxlbWVudFtdO1xyXG4gICAgY29uc3QgaW50Q2hpcFNldHMgPSBpbnRDaGlwU2V0RWxzLm1hcChlbCA9PiBuZXcgTURDQ2hpcFNldChlbCkpO1xyXG4gICAgY29uc3Qgb3NpTmFtZUJ1dHRvblJpcHBsZSA9IG5ldyBNRENSaXBwbGUoJCgnI3N0bl9lZGl0X2RpYWcgI29zaV9uYW1lJylbMF0pO1xyXG4gICAgY29uc3QgaW50Q2l0eVNlbGVjdCA9IG5ldyBNRENTZWxlY3QoJCgnI2ludF9jaXR5JylbMF0pO1xyXG4gICAgY29uc3QgaW50TGluZVNlbGVjdCA9IG5ldyBNRENTZWxlY3QoJCgnI2ludF9saW5lJylbMF0pO1xyXG4gICAgY29uc3QgaW50Qm94TmFtZUZpZWxkcyA9IFsnemgnLCAnZW4nXS5tYXAobGFuZyA9PiBuZXcgTURDVGV4dEZpZWxkKCQoJyNzdG5faW50Ym94X2RpYWcnKS5maW5kKCcjbmFtZV8nK2xhbmcpWzBdKSk7XHJcbiAgICBjb25zdCB0aWNrRGlyZWNDaGlwU2V0ID0gbmV3IE1EQ0NoaXBTZXQoJCgnI3RpY2tfZGlyZWMnKVswXSk7XHJcbiAgICAvLyBjb25zdCB0aWNrRGlyZWNDaGlwcyA9ICQoJyN0aWNrX2RpcmVjIC5tZGMtY2hpcCcpLm1hcCgoXyxlbCkgPT4gbmV3IE1EQ0NoaXAoZWwpKS5nZXQoKTtcclxuICAgIGNvbnN0IHBhaWRBcmVhU3dpdGNoID0gbmV3IE1EQ1N3aXRjaCgkKCcjcGFpZF9hcmVhJylbMF0pO1xyXG5cclxuICAgIGNvbnN0IHN0blRyYW5zZmVyVGFiQmFyID0gbmV3IE1EQ1RhYkJhcigkKCcjc3RuX2VkaXRfZGlhZyAubWRjLXRhYi1iYXInKVswXSk7XHJcbiAgICBjb25zdCBzdG5PU0lOYW1lRmllbGRzID0gXHJcbiAgICAgICAgWyd6aCcsICdlbiddLm1hcChsYW5nID0+IG5ldyBNRENUZXh0RmllbGQoJCgnI3N0bl9vc2luYW1lX2RpYWcnKS5maW5kKGAjb3NpX25hbWVfJHtsYW5nfWApWzBdKSk7XHJcbiAgICAvLyBjb25zdCBbdGlja0RpcmVjVG9nZ2xlLCBwYWlkQXJlYVRvZ2dsZV0gPSBcclxuICAgIC8vICAgICBbJyN0aWNrX2RpcmVjJywgJyNwYWlkX2FyZWEnXS5tYXAoc2VsZWN0b3IgPT4gbmV3IE1EQ0ljb25CdXR0b25Ub2dnbGUoJCgnI3N0bl9lZGl0X2RpYWcnKS5maW5kKHNlbGVjdG9yKVswXSkpO1xyXG5cclxuICAgIGNvbnN0IFt0aHJvdWdoU2VsZWN0cywgZmlyc3RTZWxlY3RzLCBwb3NTZWxlY3RzXSA9IFxyXG4gICAgICAgIFsndGhyb3VnaCcsICdmaXJzdCcsICdwb3MnXVxyXG4gICAgICAgICAgICAubWFwKHNlbGVjdG9yID0+IFsnbGVmdCcsICdyaWdodCddLm1hcChkaXJlYyA9PiBuZXcgTURDU2VsZWN0KCQoYCMke2RpcmVjfV8ke3NlbGVjdG9yfWApWzBdKSkpO1xyXG5cclxuICAgIHZhciBzdG5MaXN0ID0gZ2V0UGFyYW1zKCkuc3RuX2xpc3Q7XHJcbiAgICB3aW5kb3cubXlMaW5lLnRwby5mb3JFYWNoKHN0bklkID0+IHtcclxuICAgICAgICAkKCcjcGFuZWxfc3RhdGlvbnMgLm1kYy1sYXlvdXQtZ3JpZF9faW5uZXI6Zmlyc3QnKS5hcHBlbmQoZ2V0U3RhdGlvbkNhcmQoc3RuSWQsIHN0bkxpc3Rbc3RuSWRdLm5hbWUsIHN0bkxpc3Rbc3RuSWRdLm51bSkpO1xyXG4gICAgICAgICQoJyNwaXZvdF9fc2VsZWN0aW9uJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8bGk+JywgeydkYXRhLXZhbHVlJzpzdG5JZH0pLmFkZENsYXNzKCdtZGMtbGlzdC1pdGVtJykudGV4dChzdG5MaXN0W3N0bklkXS5uYW1lLmpvaW4oKSlcclxuICAgICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fcHJpbWFyeS1hY3Rpb24nKS5vbignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xyXG4gICAgICAgIGlmIChzdG5JZCA9PSAnYWRkX3N0bicpIHtyZXR1cm47fVxyXG4gICAgICAgICQoJyNzdG5fbW9kaWZ5X2RpYWcnKS5hdHRyKCdmb3InLCBzdG5JZCk7XHJcbiAgICAgICAgc3RuTW9kaWZ5RGlhbG9nLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiQWRkXCJdJykub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIHN0bkFkZERpYWxvZy5vcGVuKCk7XHJcbiAgICB9KTtcclxuICAgICQoJyNwYW5lbF9zdGF0aW9ucyAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyA+IFt0aXRsZT1cIlNldCBBcyBDdXJyZW50XCJdJykub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIHZhciBzdG5JZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZDtcclxuICAgICAgICB3aW5kb3cubXlMaW5lLmN1cnJlbnRTdG5JZCA9IHN0bklkO1xyXG4gICAgfSk7XHJcbiAgICAkKCcjcGFuZWxfc3RhdGlvbnMgLm1kYy1jYXJkX19hY3Rpb24taWNvbnMgPiBbdGl0bGU9XCJJbnRlcmNoYW5nZVwiXScpLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAkKCcjc3RuX2VkaXRfZGlhZycpLmF0dHIoJ2ZvcicsIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZClcclxuICAgICAgICBzdG5FZGl0RGlhbG9nLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiUmVtb3ZlXCJdJykub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIHZhciBzdG5JZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZDtcclxuICAgICAgICAkKCcjc3RuX2RlbGV0ZV9kaWFnJykuYXR0cignZm9yJywgc3RuSWQpO1xyXG4gICAgICAgIHN0bkRlbGV0ZURpYWxvZy5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gQWRkaXRpb25cclxuICAgIHN0bkFkZERpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuaW5nJywgKCkgPT4ge1xyXG4gICAgICAgIHN0bkFkZFBpdm90U2VsZWN0LnNlbGVjdGVkSW5kZXggPSAwO1xyXG4gICAgfSk7XHJcbiAgICBzdG5BZGREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgKCkgPT4ge1xyXG4gICAgICAgIFtzdG5BZGRQcmVwU2VsZWN0LCBzdG5BZGRQaXZvdFNlbGVjdCwgc3RuQWRkTG9jU2VsZWN0XS5mb3JFYWNoKHNlbGVjdCA9PiBzZWxlY3QubGF5b3V0KCkpO1xyXG4gICAgfSk7XHJcbiAgICBzdG5BZGREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7cmV0dXJuO31cclxuXHJcbiAgICAgICAgdmFyIHByZXAgPSBzdG5BZGRQcmVwU2VsZWN0LnZhbHVlIGFzICdiZWZvcmUnIHwgJ2FmdGVyJztcclxuICAgICAgICB2YXIgc3RuSWQgPSBzdG5BZGRQaXZvdFNlbGVjdC52YWx1ZTtcclxuICAgICAgICB2YXIgbG9jID0gc3RuQWRkTG9jU2VsZWN0LnZhbHVlO1xyXG4gICAgICAgIHZhciBlbmQgPSBzdG5BZGRFbmRTZWxlY3QudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIFtuZXdJZCwgbmV3SW5mb10gPSB3aW5kb3cubXlMaW5lLmFkZFN0bihwcmVwLCBzdG5JZCwgbG9jLCBlbmQpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhwcmVwLCBzdG5JZCwgbG9jLCBlbmQpO1xyXG4gICAgICAgIC8vIF9nZW5TdG5MaXN0KCk7XHJcbiAgICAgICAgdmFyIHByZXZJZCA9IHdpbmRvdy5teUxpbmUudHBvW3dpbmRvdy5teUxpbmUudHBvLmluZGV4T2YobmV3SWQpIC0gMV0gfHwgJ2FkZF9zdG4nO1xyXG4gICAgICAgICQoYCNwYW5lbF9zdGF0aW9ucyAubWRjLWxheW91dC1ncmlkX19pbm5lcjpmaXJzdCAjJHtwcmV2SWR9YCkuYWZ0ZXIoZ2V0U3RhdGlvbkNhcmQobmV3SWQsIG5ld0luZm8ubmFtZSwgbmV3SW5mby5udW0pKTtcclxuICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgJChgI3BhbmVsX3N0YXRpb25zICMke25ld0lkfSAubWRjLWNhcmRfX3ByaW1hcnktYWN0aW9uYCkub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc3RuSWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1kYy1jYXJkJykuaWQ7XHJcbiAgICAgICAgICAgIGlmIChzdG5JZCA9PSAnYWRkX3N0bicpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICAkKCcjc3RuX21vZGlmeV9kaWFnJykuYXR0cignZm9yJywgc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5Nb2RpZnlEaWFsb2cub3BlbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoYCNwYW5lbF9zdGF0aW9ucyAjJHtuZXdJZH0gLm1kYy1jYXJkX19hY3Rpb24taWNvbnMgPiBbdGl0bGU9XCJTZXQgQXMgQ3VycmVudFwiXWApLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xyXG4gICAgICAgICAgICB3aW5kb3cubXlMaW5lLmN1cnJlbnRTdG5JZCA9IHN0bklkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoYCNwYW5lbF9zdGF0aW9ucyAjJHtuZXdJZH0gLm1kYy1jYXJkX19hY3Rpb24taWNvbnMgPiBbdGl0bGU9XCJJbnRlcmNoYW5nZVwiXWApLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xyXG4gICAgICAgICAgICAkKCcjc3RuX2VkaXRfZGlhZycpLmF0dHIoJ2ZvcicsIHN0bklkKTtcclxuICAgICAgICAgICAgc3RuRWRpdERpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChgI3BhbmVsX3N0YXRpb25zICMke25ld0lkfSAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyA+IFt0aXRsZT1cIlJlbW92ZVwiXWApLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xyXG4gICAgICAgICAgICAkKCcjc3RuX2RlbGV0ZV9kaWFnJykuYXR0cignZm9yJywgc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5EZWxldGVEaWFsb2cub3BlbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgbGlzdEVsZW0gPSAkKCc8bGk+Jywge1xyXG4gICAgICAgICAgICAnZGF0YS12YWx1ZSc6IG5ld0lkLCAnY2xhc3MnOiAnbWRjLWxpc3QtaXRlbSdcclxuICAgICAgICB9KS50ZXh0KG5ld0luZm8ubmFtZS5qb2luKCcgLSAnKSk7XHJcbiAgICAgICAgaWYgKHByZXZJZCA9PSAnYWRkX3N0bicpIHtcclxuICAgICAgICAgICAgJCgnI3Bpdm90X19zZWxlY3Rpb24nKS5wcmVwZW5kKGxpc3RFbGVtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGAjcGl2b3RfX3NlbGVjdGlvbiBbZGF0YS12YWx1ZT1cIiR7cHJldklkfVwiYCkuYWZ0ZXIobGlzdEVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlciBzdGF0aW9uIG5hbWUgbW9kaWZpY2F0aW9uXHJcbiAgICAgICAgJCgnI3N0bl9tb2RpZnlfZGlhZycpLmF0dHIoJ2ZvcicsIG5ld0lkKTtcclxuICAgICAgICBzdG5Nb2RpZnlEaWFsb2cub3BlbigpO1xyXG4gICAgfSk7XHJcbiAgICBzdG5BZGRQcmVwU2VsZWN0Lmxpc3RlbignTURDU2VsZWN0OmNoYW5nZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAkKCcjc3RuX2FkZF9kaWFnICNwaXZvdCcpWzBdLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdNRENTZWxlY3Q6Y2hhbmdlJykpO1xyXG4gICAgfSk7XHJcbiAgICBzdG5BZGRQaXZvdFNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCBldmVudCA9PiB7XHJcbiAgICAgICAgdmFyIHByZXAgPSBzdG5BZGRQcmVwU2VsZWN0LnZhbHVlIGFzICdiZWZvcmUnIHwgJ2FmdGVyJztcclxuICAgICAgICB2YXIgc3RuSWQgPSBzdG5BZGRQaXZvdFNlbGVjdC52YWx1ZTtcclxuICAgICAgICB2YXIgc3RuTGlzdCA9IGdldFBhcmFtcygpLnN0bl9saXN0O1xyXG4gICAgICAgIGZvciAobGV0IFtpZHgsIHN0YXRlXSBvZiB3aW5kb3cubXlMaW5lLm5ld1N0blBvc3NpYmxlTG9jKHByZXAsIHN0bklkKS5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAxIHx8ICg8SURbXT5zdGF0ZSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjbG9jX19zZWxlY3Rpb24gbGknKS5lcShpZHgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ld3VwcGVyIG9yIG5ld2xvd2VyXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2VuZF9fc2VsZWN0aW9uJykuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAoPElEW10+c3RhdGUpLmZvckVhY2goc3RuSWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZW5kX19zZWxlY3Rpb24nKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8bGk+JywgeyBjbGFzczonbWRjLWxpc3QtaXRlbScsICdkYXRhLXZhbHVlJzpzdG5JZCB9KS50ZXh0KHN0bkxpc3Rbc3RuSWRdLm5hbWUuam9pbignIC0gJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjbG9jX19zZWxlY3Rpb24gbGknKS5lcShpZHgpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdG5BZGRMb2NTZWxlY3QudmFsdWUgPSAkKCcjbG9jX19zZWxlY3Rpb24gbGk6bm90KFtzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCJdKTpmaXJzdCcpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcclxuICAgICAgICBzdG5BZGRMb2NTZWxlY3QudmFsdWUgPSBBcnJheVxyXG4gICAgICAgICAgICAuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbG9jX19zZWxlY3Rpb24gbGknKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PilcclxuICAgICAgICAgICAgLmZpbHRlcihlbCA9PiBlbC5zdHlsZS5kaXNwbGF5ICE9PSAnbm9uZScpWzBdXHJcbiAgICAgICAgICAgIC5kYXRhc2V0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBzdG5BZGRMb2NTZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoWyduZXd1cHBlcicsICduZXdsb3dlciddLmluY2x1ZGVzKGV2ZW50LmRldGFpbC52YWx1ZSkpIHtcclxuICAgICAgICAgICAgLy8gJCgnI3N0bl9hZGRfZGlhZyAjbmV3X2JyYW5jaCcpLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI3N0bl9hZGRfZGlhZyBbbmV3LWJyYW5jaF0nKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHN0bkFkZEVuZFNlbGVjdC5zZWxlY3RlZEluZGV4ID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAkKCcjc3RuX2FkZF9kaWFnICNuZXdfYnJhbmNoJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcjc3RuX2FkZF9kaWFnIFtuZXctYnJhbmNoXScpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgLy8gTW9kaWZpY2F0aW9uIChOYW1lKVxyXG4gICAgc3RuTW9kaWZ5RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5pbmcnLCBldmVudCA9PiB7XHJcbiAgICAgICAgdmFyIHN0bklkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2ZvcicpO1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKS5zdG5fbGlzdClcclxuICAgICAgICAgICAgLnRoZW4oc3RuTGlzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdG5Nb2RpZnlOYW1lRmllbGRzLmZvckVhY2goKHRleHRmaWVsZCwgaSkgPT4gdGV4dGZpZWxkLnZhbHVlID0gc3RuTGlzdFtzdG5JZF0ubmFtZVtpXSk7XHJcbiAgICAgICAgICAgICAgICBzdG5Nb2RpZnlOdW1GaWVsZC52YWx1ZSA9IHN0bkxpc3Rbc3RuSWRdLm51bTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdG5Nb2RpZnlEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgKCkgPT4ge1xyXG4gICAgICAgIHN0bk1vZGlmeU5hbWVGaWVsZHMubWFwKHRleHRmaWVsZCA9PiB0ZXh0ZmllbGQubGF5b3V0KCkpO1xyXG4gICAgICAgIHN0bk1vZGlmeU51bUZpZWxkLmxheW91dCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3N0bl9tb2RpZnlfZGlhZycpLmZpbmQoJyNuYW1lX3poLCAjbmFtZV9lbiwgI3N0bl9udW0nKS5vbignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IG5hbWVzID0gc3RuTW9kaWZ5TmFtZUZpZWxkcy5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSkgYXMgTmFtZTtcclxuICAgICAgICB2YXIgc3RuTnVtID0gc3RuTW9kaWZ5TnVtRmllbGQudmFsdWU7XHJcblxyXG4gICAgICAgIHZhciBzdG5JZCA9ICQoJyNzdG5fbW9kaWZ5X2RpYWcnKS5hdHRyKCdmb3InKTtcclxuICAgICAgICB3aW5kb3cubXlMaW5lLnVwZGF0ZVN0bk5hbWUoc3RuSWQsIG5hbWVzLCBzdG5OdW0pO1xyXG4gICAgICAgICQoYCNwYW5lbF9zdGF0aW9ucyAubWRjLWxheW91dC1ncmlkX19pbm5lcjpmaXJzdCAjJHtzdG5JZH0gLm1kYy1jYXJkX19tZWRpYS1jb250ZW50YClcclxuICAgICAgICAgICAgLmh0bWwobmFtZXMuam9pbignPGJyPicpKVxyXG4gICAgICAgICAgICAucHJlcGVuZCgkKCc8c3Bhbj4nLCB7IHN0eWxlOih3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKT09J2d6bXRyJyA/ICcnIDogJ2Rpc3BsYXk6bm9uZTsnKX0pLnRleHQoc3RuTnVtKycgJykpO1xyXG4gICAgICAgICQoYGxpW2RhdGEtdmFsdWU9XCIke3N0bklkfWApLnRleHQobmFtZXMuam9pbigpKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICAvLyBNb2RpZmljYXRpb24gKEludGVyY2hhbmdlKVxyXG4gICAgY29uc3QgZm9jdXNJbnRlcmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBzdG5PU0lOYW1lRmllbGRzLmZvckVhY2godGV4dGZpZWxkID0+IHRleHRmaWVsZC5sYXlvdXQoKSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZm9jdXNCcmFuY2ggPSAoKSA9PiB7XHJcbiAgICAgICAgWy4uLnRocm91Z2hTZWxlY3RzLCAuLi5maXJzdFNlbGVjdHMsIC4uLnBvc1NlbGVjdHNdXHJcbiAgICAgICAgICAgIC5tYXAoc2VsZWN0ID0+IHNlbGVjdC5sYXlvdXQoKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGluaXRJbnRlcmNoYW5nZSA9IChzdG5JbmZvOiBTdGF0aW9uSW5mbykgPT4ge1xyXG4gICAgICAgICQoaW50Q2hpcFNldEVscykuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgc3RuSW5mby50cmFuc2Zlci5pbmZvLmZvckVhY2goKGluZm9zLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGluZm9zLmZvckVhY2goKGluZm8sIGopID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjaGlwRWwgPSBnZXRJbnRCb3hDaGlwKGluZm8pO1xyXG4gICAgICAgICAgICAgICAgaW50Q2hpcFNldEVsc1tpXS5hcHBlbmRDaGlsZChjaGlwRWwpO1xyXG4gICAgICAgICAgICAgICAgaW50Q2hpcFNldHNbaV0uYWRkQ2hpcChjaGlwRWwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gLy8gaGlkZSB0cmFpbGluZyBpY29uIGlmIDEgY2hpcCBvbmx5XHJcbiAgICAgICAgLy8gaW50Q2hpcFNldEVscy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKCQoZWwpLmZpbmQoJy5tZGMtY2hpcCcpLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIC8vICAgICAgICAgJChlbCkuZmluZCgnLm1kYy1jaGlwX19pY29uLS10cmFpbGluZycpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBpZiAoc3RuSW5mby50cmFuc2Zlci5vc2lfbmFtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICQoJ2J1dHRvbiNvc2lfbmFtZSAubWRjLWJ1dHRvbl9fbGFiZWwnKS5odG1sKHN0bkluZm8udHJhbnNmZXIub3NpX25hbWVzWzBdLmpvaW4oJzxicj4nKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnYnV0dG9uI29zaV9uYW1lIC5tZGMtYnV0dG9uX19sYWJlbCcpLmh0bWwoJ+i7iuermeWQjTxicj5TdG4gTmFtZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFpZEFyZWFTd2l0Y2guY2hlY2tlZCA9IHN0bkluZm8udHJhbnNmZXIucGFpZF9hcmVhO1xyXG4gICAgICAgIHRpY2tEaXJlY0NoaXBTZXQuY2hpcHMuZmlsdGVyKGNoaXAgPT4gY2hpcC5pZCA9PT0gc3RuSW5mby50cmFuc2Zlci50aWNrX2RpcmVjKVswXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGluaXRCcmFuY2ggPSAoc3RuSW5mbzogU3RhdGlvbkluZm8pID0+IHtcclxuICAgICAgICAvLyB0aHJvdWdoIHR5cGVcclxuICAgICAgICBbJ2xlZnQnLCAncmlnaHQnXS5mb3JFYWNoKChkaXJlYzogJ2xlZnQnIHwgJ3JpZ2h0JykgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGhyb3VnaFR5cGUgPSBzdG5JbmZvLmJyYW5jaFtkaXJlY11bMF07XHJcbiAgICAgICAgICAgIGlmICh0aHJvdWdoVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3VnaFNlbGVjdHNbRGlyZWN0aW9uTG9uZ1tkaXJlY11dLnZhbHVlID0gdGhyb3VnaFR5cGU7XHJcbiAgICAgICAgICAgICAgICAkKGAjJHtkaXJlY31fdGhyb3VnaF9fc2VsZWN0aW9uIFtkYXRhLXZhbHVlPVwibmFcIl1gKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKGAjJHtkaXJlY31fdGhyb3VnaF9fc2VsZWN0aW9uIFtkYXRhLXZhbHVlPVwidGhyb3VnaFwiXWApLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJub250aHJvdWdoXCJdYCkuc2hvdygpO1xyXG5cclxuICAgICAgICAgICAgICAgICQoYFske2RpcmVjfS1maXJzdC1ncm91cF0sIFske2RpcmVjfS1wb3MtZ3JvdXBdYCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3VnaFNlbGVjdHNbRGlyZWN0aW9uTG9uZ1tkaXJlY11dLnZhbHVlID0gJ25hJztcclxuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJuYVwiXWApLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJ0aHJvdWdoXCJdYCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChgIyR7ZGlyZWN9X3Rocm91Z2hfX3NlbGVjdGlvbiBbZGF0YS12YWx1ZT1cIm5vbnRocm91Z2hcIl1gKS5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJChgWyR7ZGlyZWN9LWZpcnN0LWdyb3VwXSwgWyR7ZGlyZWN9LXBvcy1ncm91cF1gKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZmlyc3Qgc3RhdGlvblxyXG4gICAgICAgICQoJyNsZWZ0X2ZpcnN0X19zZWxlY3Rpb24sICNyaWdodF9maXJzdF9fc2VsZWN0aW9uJykuZW1wdHkoKTtcclxuICAgICAgICBQcm9taXNlLnJlc29sdmUoZ2V0UGFyYW1zKCkuc3RuX2xpc3QpXHJcbiAgICAgICAgICAgIC50aGVuKHN0bkxpc3QgPT4ge1xyXG4gICAgICAgICAgICAgICAgWzAsIDFdLmZvckVhY2goaSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RuSW5mb1tOZWlnaGJvdXJQbFtpXSBhcyAncGFyZW50cycgfCAnY2hpbGRyZW4nXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChuZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGAjJHtEaXJlY3Rpb25Mb25nW2ldfV9maXJzdF9fc2VsZWN0aW9uYClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8bGk+JywgeyBjbGFzczogJ21kYy1saXN0LWl0ZW0nLCAnZGF0YS12YWx1ZSc6IG5lfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KHN0bkxpc3RbbmVdLm5hbWUuam9pbigpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRocm91Z2hTZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RzW2lkeF0uc2VsZWN0ZWRJbmRleCA9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgIT09ICduYScgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG5JbmZvW05laWdoYm91clBsW2lkeF1dLmluZGV4T2Yoc3RuSW5mby5icmFuY2hbRGlyZWN0aW9uTG9uZ1tpZHhdXVsxXSkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHN3YXAgcG9zaXRpb25cclxuICAgICAgICBwb3NTZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IHN0bkluZm9bTmVpZ2hib3VyUGxbaV1dLmluZGV4T2Yoc3RuSW5mby5icmFuY2hbRGlyZWN0aW9uTG9uZ1tpXV1bMV0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0blRyYW5zZmVyVGFiQmFyLmxpc3RlbignTURDVGFiQmFyOmFjdGl2YXRlZCcsIChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgJCgnI3BhbmVsX2ludGVyY2hhbmdlJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3BhbmVsX2JyYW5jaCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGZvY3VzSW50ZXJjaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAkKCcjcGFuZWxfaW50ZXJjaGFuZ2UnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjcGFuZWxfYnJhbmNoJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgZm9jdXNCcmFuY2goKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkLmdldEpTT04oJ2RhdGEvY2l0eV9saXN0Lmpzb24nLCBkYXRhID0+IHtcclxuICAgICAgICB2YXIgbGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyk7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAkKCcjaW50X2NpdHlfX3NlbGVjdGlvbi5tZGMtbGlzdCcpLmVhY2goKF8sZWwpID0+IHtcclxuICAgICAgICAgICAgICAgICQoZWwpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAkKCc8bGk+JywgeyBjbGFzczogJ21kYy1saXN0LWl0ZW0nLCAnZGF0YS12YWx1ZSc6IGMuaWR9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChjb3VudHJ5Q29kZTJFbW9qaShjLmNvdW50cnkpICsgZ2V0VHJhbnNUZXh0KGMubmFtZSwgbGFuZykpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN0bkVkaXREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmluZycsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgc3RuSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XHJcbiAgICAgICAgbGV0IHN0bkluZm8gPSBnZXRQYXJhbXMoKS5zdG5fbGlzdFtzdG5JZF07XHJcblxyXG4gICAgICAgIGluaXRJbnRlcmNoYW5nZShzdG5JbmZvKTtcclxuICAgICAgICBpbml0QnJhbmNoKHN0bkluZm8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3RuRWRpdERpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuZWQnLCBldmVudCA9PiB7XHJcbiAgICAgICAgZm9jdXNJbnRlcmNoYW5nZSgpO1xyXG4gICAgICAgIGZvY3VzQnJhbmNoKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbnRDaGlwQWRkQnV0dG9uRWxzLmZvckVhY2goKGJ1dHRvbiwgaSkgPT4ge1xyXG4gICAgICAgICQoYnV0dG9uKS5vbignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgICAgICBsZXQgaW5mbyA9IFtwYXJhbS50aGVtZVswXSwgbnVsbCwgbnVsbCwgJyMwMDAnLCAn57eaJywgJ0xpbmUnXSBhcyBJbnRlcmNoYW5nZUluZm87XHJcbiAgICAgICAgICAgIGxldCBjaGlwRWwgPSBnZXRJbnRCb3hDaGlwKGluZm8pO1xyXG4gICAgICAgICAgICBpbnRDaGlwU2V0RWxzW2ldLmFwcGVuZENoaWxkKGNoaXBFbCk7XHJcbiAgICAgICAgICAgIGludENoaXBTZXRzW2ldLmFkZENoaXAoY2hpcEVsKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHVwZGF0ZVN0blRyYW5zZmVyKGludENoaXBTZXRFbHMsIHRpY2tEaXJlY0NoaXBTZXQsIHBhaWRBcmVhU3dpdGNoKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBpbnRDaGlwU2V0cy5mb3JFYWNoKChjaGlwc2V0LCBpKSA9PiB7XHJcbiAgICAgICAgY2hpcHNldC5saXN0ZW4oJ01EQ0NoaXA6aW50ZXJhY3Rpb24nLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNldElkeCAoMDogaW50LCAxOiBvc2kpXHJcbiAgICAgICAgICAgICQoJyNzdG5faW50Ym94X2RpYWcnKS5kYXRhKCdpbnRJZCcsIHsgc2V0SWR4OiBpLCBjaGlwSWQ6IGV2ZW50LmRldGFpbC5jaGlwSWQgfSk7XHJcbiAgICAgICAgICAgIHN0bkludEJveERpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbnRDaGlwU2V0cy5mb3JFYWNoKChjaGlwc2V0LCBpKSA9PiB7XHJcbiAgICAgICAgY2hpcHNldC5saXN0ZW4oJ01EQ0NoaXA6cmVtb3ZhbCcsICgpID0+IHtcclxuICAgICAgICAgICAgdXBkYXRlU3RuVHJhbnNmZXIoaW50Q2hpcFNldEVscywgdGlja0RpcmVjQ2hpcFNldCwgcGFpZEFyZWFTd2l0Y2gpO1xyXG5cclxuICAgICAgICAgICAgLy8gLy8gaGlkZSB0cmFpbGluZyBpY29uIGlmIDEgY2hpcCBsZWZ0XHJcbiAgICAgICAgICAgIC8vIGlmICgkKGludENoaXBTZXRFbHNbaV0pLmZpbmQoJy5tZGMtY2hpcCcpLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAvLyAgICAgJChpbnRDaGlwU2V0RWxzW2ldKS5maW5kKCcubWRjLWNoaXBfX2ljb24tLXRyYWlsaW5nJykucGFyZW50KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCdidXR0b24jb3NpX25hbWUnKS5vbignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgICAgc3RuT1NJTmFtZURpYWxvZy5vcGVuKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdG5JbnRCb3hEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmluZycsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGxldCB7IHNldElkeCwgY2hpcElkIH0gPSAkKGV2ZW50LnRhcmdldCkuZGF0YSgnaW50SWQnKTtcclxuICAgICAgICBsZXQgeyBjaXR5LCBsaW5lIH0gPSAkKGludENoaXBTZXRFbHNbc2V0SWR4XSkuZmluZCgnIycrY2hpcElkKS5kYXRhKCd0aGVtZScpO1xyXG4gICAgICAgIGludENpdHlTZWxlY3QudmFsdWUgPSBjaXR5O1xyXG5cclxuICAgICAgICBsZXQgaW50TmFtZXMgPSAkKGludENoaXBTZXRFbHNbc2V0SWR4XSlcclxuICAgICAgICAgICAgLmZpbmQoJyMnK2NoaXBJZClcclxuICAgICAgICAgICAgLmZpbmQoJy5tZGMtY2hpcF9fdGV4dCcpXHJcbiAgICAgICAgICAgIC5odG1sKCkuc3BsaXQoJzxicj4nKTtcclxuICAgICAgICBpbnRCb3hOYW1lRmllbGRzLmZvckVhY2goKHRleHRmaWVsZCwgaSkgPT4gdGV4dGZpZWxkLnZhbHVlID0gaW50TmFtZXNbaV0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3RuSW50Qm94RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5lZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGludEJveE5hbWVGaWVsZHMubWFwKHRleHRmaWVsZCA9PiB0ZXh0ZmllbGQubGF5b3V0KCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaW50Q2l0eVNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PT0gLTEpIHtyZXR1cm47fVxyXG5cclxuICAgICAgICBsZXQgeyBzZXRJZHgsIGNoaXBJZCB9ID0gJCgnI3N0bl9pbnRib3hfZGlhZycpLmRhdGEoJ2ludElkJyk7XHJcblxyXG4gICAgICAgICQuZ2V0SlNPTihgZGF0YS8ke2V2ZW50LmRldGFpbC52YWx1ZX0uanNvbmAsIGRhdGEgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyk7XHJcbiAgICAgICAgICAgICQoJyNpbnRfbGluZV9fc2VsZWN0aW9uLm1kYy1saXN0JykuZW1wdHkoKTtcclxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGwgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnI2ludF9saW5lX19zZWxlY3Rpb24ubWRjLWxpc3QnKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgYDxsaSBjbGFzcz1cIm1kYy1saXN0LWl0ZW1cIiBkYXRhLXZhbHVlPVwiJHtsLmlkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDoke2wuY29sb3VyfTtjb2xvcjoke2wuZmcgfHwgJyNmZmYnfTtcIj4mbmJzcDske2dldFRyYW5zVGV4dChsLm5hbWUsIGxhbmcpfSZuYnNwOzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPmBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gc2VsZWN0IGRlZmF1bHQgaW50TGluZSB2YWx1ZVxyXG4gICAgICAgICAgICBsZXQgeyBsaW5lIH0gPSAkKGludENoaXBTZXRFbHNbc2V0SWR4XSkuZmluZCgnIycrY2hpcElkKS5kYXRhKCd0aGVtZScpO1xyXG4gICAgICAgICAgICBsZXQgbGluZUlkeCA9ICQoJyNpbnRfbGluZV9fc2VsZWN0aW9uLm1kYy1saXN0JykuZmluZChgW2RhdGEtdmFsdWU9XCIke2xpbmV9XCJdYCkuaW5kZXgoKTtcclxuICAgICAgICAgICAgaW50TGluZVNlbGVjdC5zZWxlY3RlZEluZGV4ID0gbGluZUlkeD09PS0xID8gMCA6IGxpbmVJZHg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBkYXRhIHZhbHVlIG9mIGNoaXAgZWxlbWVudFxyXG4gICAgICAgICQoaW50Q2hpcFNldEVsc1tzZXRJZHhdKS5maW5kKCcjJytjaGlwSWQpLmRhdGEoJ3RoZW1lJykuY2l0eSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGludExpbmVTZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGxldCB7IHZhbHVlLCBpbmRleCB9ID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgICAgIGxldCB7IHNldElkeCwgY2hpcElkIH0gPSAkKCcjc3RuX2ludGJveF9kaWFnJykuZGF0YSgnaW50SWQnKTtcclxuXHJcbiAgICAgICAgLy8gdXBkYXRlIGRhdGEgdmFsdWUgb2YgY2hpcCBlbGVtZW50XHJcbiAgICAgICAgJChpbnRDaGlwU2V0RWxzW3NldElkeF0pLmZpbmQoJyMnK2NoaXBJZCkuZGF0YSgndGhlbWUnKS5saW5lID0gdmFsdWU7XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBjb2xvdXIgb2YgY2hpcFxyXG4gICAgICAgICQoaW50Q2hpcFNldEVsc1tzZXRJZHhdKS5maW5kKCcjJytjaGlwSWQpLmNzcyh7XHJcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJCgnI2ludF9saW5lX19zZWxlY3Rpb24gc3BhbicpLmVxKGluZGV4KS5jc3MoJ2JhY2tncm91bmQtY29sb3InKSwgXHJcbiAgICAgICAgICAgIGNvbG9yOiAkKCcjaW50X2xpbmVfX3NlbGVjdGlvbiBzcGFuJykuZXEoaW5kZXgpLmNzcygnY29sb3InKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaW50Qm94TmFtZUZpZWxkcy5mb3JFYWNoKHRleHRmaWVsZCA9PiB7XHJcbiAgICAgICAgKCQodGV4dGZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAgICAgLm9uKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB7IHNldElkeCwgY2hpcElkIH0gPSAkKCcjc3RuX2ludGJveF9kaWFnJykuZGF0YSgnaW50SWQnKTtcclxuICAgICAgICAgICAgICAgICQoaW50Q2hpcFNldEVsc1tzZXRJZHhdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcjJytjaGlwSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5tZGMtY2hpcF9fdGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwoaW50Qm94TmFtZUZpZWxkc1swXS52YWx1ZSArICc8YnI+JyArIGludEJveE5hbWVGaWVsZHNbMV0udmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN0bkludEJveERpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgdXBkYXRlU3RuVHJhbnNmZXIoaW50Q2hpcFNldEVscywgdGlja0RpcmVjQ2hpcFNldCwgcGFpZEFyZWFTd2l0Y2gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3RuT1NJTmFtZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuaW5nJywgKCkgPT4ge1xyXG4gICAgICAgICQoJ2J1dHRvbiNvc2lfbmFtZSAubWRjLWJ1dHRvbl9fbGFiZWwnKVxyXG4gICAgICAgICAgICAuaHRtbCgpXHJcbiAgICAgICAgICAgIC5zcGxpdCgnPGJyPicpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKCh0eHQsIGkpID0+IHN0bk9TSU5hbWVGaWVsZHNbaV0udmFsdWUgPSB0eHQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3RuT1NJTmFtZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuZWQnLCAoKSA9PiB7XHJcbiAgICAgICAgc3RuT1NJTmFtZUZpZWxkcy5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC5sYXlvdXQoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjb3NpX25hbWVfemgsICNvc2lfbmFtZV9lbicpXHJcbiAgICAgICAgLmZpbmQoJ2lucHV0JylcclxuICAgICAgICAuZWFjaCgoXywgZWwpID0+IHtcclxuICAgICAgICAgICAgJChlbCkub24oJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnYnV0dG9uI29zaV9uYW1lIC5tZGMtYnV0dG9uX19sYWJlbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwoc3RuT1NJTmFtZUZpZWxkcy5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSkuam9pbignPGJyPicpKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBzdG5PU0lOYW1lRGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsICgpID0+IHtcclxuICAgICAgICB1cGRhdGVTdG5UcmFuc2ZlcihpbnRDaGlwU2V0RWxzLCB0aWNrRGlyZWNDaGlwU2V0LCBwYWlkQXJlYVN3aXRjaCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aWNrRGlyZWNDaGlwU2V0Lmxpc3RlbignTURDQ2hpcDpzZWxlY3Rpb24nLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRpY2tEaXJlY0NoaXBTZXQuc2VsZWN0ZWRDaGlwSWRzLmxlbmd0aCA9PT0gMCkge3JldHVybjt9XHJcbiAgICAgICAgdXBkYXRlU3RuVHJhbnNmZXIoaW50Q2hpcFNldEVscywgdGlja0RpcmVjQ2hpcFNldCwgcGFpZEFyZWFTd2l0Y2gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgKCQocGFpZEFyZWFTd2l0Y2gucm9vdF8pLmZpbmQoJ2lucHV0JykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+KVxyXG4gICAgICAgIC5vbignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB1cGRhdGVTdG5UcmFuc2ZlcihpbnRDaGlwU2V0RWxzLCB0aWNrRGlyZWNDaGlwU2V0LCBwYWlkQXJlYVN3aXRjaCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAvLyBNb2RpZmljYXRpb24gKEJyYW5jaClcclxuICAgIHRocm91Z2hTZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaWR4KSA9PiB7XHJcbiAgICAgICAgc2VsZWN0Lmxpc3RlbignTURDU2VsZWN0OmNoYW5nZScsIChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5kZXRhaWwudmFsdWUgPT09ICduYScpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICBsZXQgc3RuSWQgPSAkKCcjc3RuX2VkaXRfZGlhZycpLmF0dHIoJ2ZvcicpO1xyXG4gICAgICAgICAgICB3aW5kb3cubXlMaW5lLnVwZGF0ZUJyYW5jaFR5cGUoc3RuSWQsIGlkeCwgZXZlbnQuZGV0YWlsLnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZpcnN0U2VsZWN0cy5mb3JFYWNoKChzZWxlY3QsIGlkeCkgPT4ge1xyXG4gICAgICAgIHNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoJChgIyR7RGlyZWN0aW9uTG9uZ1tpZHhdfV9maXJzdF9fc2VsZWN0aW9uYCkuY2hpbGRyZW4oKS5sZW5ndGggPT09IDEpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICBsZXQgc3RuSWQgPSAkKCcjc3RuX2VkaXRfZGlhZycpLmF0dHIoJ2ZvcicpO1xyXG4gICAgICAgICAgICBpZiAod2luZG93Lm15TGluZS51cGRhdGVCcmFuY2hGaXJzdChzdG5JZCwgaWR4LCBldmVudC5kZXRhaWwudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NTZWxlY3RzW2lkeF0uc2VsZWN0ZWRJbmRleCA9IHBvc1NlbGVjdHNbaWR4XS5zZWxlY3RlZEluZGV4ID09PSAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHBvc1NlbGVjdHMuZm9yRWFjaCgoc2VsZWN0LCBpZHgpID0+IHtcclxuICAgICAgICBzZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRocm91Z2hTZWxlY3RzW2lkeF0udmFsdWUgPT09ICduYScpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICBsZXQgc3RuSWQgPSAkKCcjc3RuX2VkaXRfZGlhZycpLmF0dHIoJ2ZvcicpO1xyXG4gICAgICAgICAgICB3aW5kb3cubXlMaW5lLnVwZGF0ZUJyYW5jaFBvcyhzdG5JZCwgaWR4LCBldmVudC5kZXRhaWwuaW5kZXgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIERlbGV0aW9uXHJcbiAgICBzdG5EZWxldGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmluZycsIGV2ZW50ID0+IHtcclxuICAgICAgICB2YXIgc3RuSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XHJcbiAgICAgICAgJCgnI3N0bl9kZWxldGVfZGlhZyAjZXJyX3N0bicpLnRleHQoZ2V0UGFyYW1zKCkuc3RuX2xpc3Rbc3RuSWRdLm5hbWUuam9pbignIC0gJykpO1xyXG4gICAgfSk7XHJcbiAgICBzdG5EZWxldGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7cmV0dXJuO31cclxuICAgICAgICB2YXIgc3RuSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gZGF0YSBhbmQgc3ZnXHJcbiAgICAgICAgaWYgKHdpbmRvdy5teUxpbmUucmVtb3ZlU3RuKHN0bklkKSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgc3RhdGlvbiBmcm9tIHNlbGVjdGlvblxyXG4gICAgICAgICAgICAkKGAjcGFuZWxfc3RhdGlvbnMgLm1kYy1sYXlvdXQtZ3JpZF9faW5uZXIgIyR7c3RuSWR9YCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoYCNwaXZvdF9fc2VsZWN0aW9uIFtkYXRhLXZhbHVlPVwiJHtzdG5JZH1cIl1gKS5yZW1vdmUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdG5EZWxldGVFcnJEaWFsb2cub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59IiwiaW1wb3J0IHsgam9pbkludE5hbWUgfSBmcm9tICcuLi91dGlscyc7XHJcbmltcG9ydCB7IElELCBOYW1lLCBCcmFuY2hJbmZvLCBTdGF0aW9uSW5mbywgSW50SW5mb1RhZywgSW50ZXJjaGFuZ2VJbmZvIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5cclxuXHJcblxyXG5jbGFzcyBSTUdTdGF0aW9uIHtcclxuICAgIFNUTl9OQU1FX1kgPSAtMTAuNTtcclxuICAgIFNUTl9OQU1FX0JBU0VfSEVJR0hUID0gMzAuMzkwNjI1O1xyXG4gICAgU1ROX05BTUVfTElORV9HQVAgPSAxNDtcclxuICAgIFNUTl9OQU1FX0JHX0FESlVTVCA9IDAuNTtcclxuXHJcbiAgICBwdWJsaWMgaWQ6IElEO1xyXG4gICAgcHVibGljIHg6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3RhdGU6IC0xIHwgMCB8IDE7XHJcbiAgICBwdWJsaWMgcGFyZW50czogSURbXTtcclxuICAgIHB1YmxpYyBjaGlsZHJlbjogSURbXTtcclxuICAgIHB1YmxpYyBuYW1lUG9zOiBib29sZWFuO1xyXG4gICAgcHVibGljIG5hbWU6IE5hbWU7XHJcbiAgICBwdWJsaWMgYnJhbmNoOiBCcmFuY2hJbmZvO1xyXG4gICAgcHVibGljIHN0bk51bTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMucGFyZW50cyA9IGRhdGEucGFyZW50cztcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gZGF0YS5jaGlsZHJlbjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5icmFuY2ggPSBkYXRhLmJyYW5jaDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5EZWdyZWUoKSB7cmV0dXJuIHRoaXMucGFyZW50cy5sZW5ndGg7fVxyXG4gICAgZ2V0IG91dERlZ3JlZSgpIHtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7fVxyXG5cclxuICAgIGdldCBuYW1lQ2xhc3MoKTogc3RyaW5nIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnUGFzcyc7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnQ3VycmVudCc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Z1dHVyZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBfbmFtZVR4dEFuY2hvcigpIHtyZXR1cm4gJ21pZGRsZSc7fVxyXG4gICAgZ2V0IF9uYW1lRFgoKSB7cmV0dXJuIDA7fVxyXG4gICAgZ2V0IF9uYW1lRFkoKSB7cmV0dXJuIDA7fVxyXG5cclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgbmFtZUVOcyA9IHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5uYW1lUG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBkeSA9IHRoaXMuU1ROX05BTUVfTElORV9HQVAgLSB0aGlzLlNUTl9OQU1FX1kgLSB0aGlzLlNUTl9OQU1FX0JHX0FESlVTVDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZHkgPSAtdGhpcy5TVE5fTkFNRV9MSU5FX0dBUCAtIHRoaXMuU1ROX05BTUVfWSAtIHRoaXMuU1ROX05BTUVfQkFTRV9IRUlHSFQgLSAobmFtZUVOcy5sZW5ndGgtMSkqMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGR5IC09IHRoaXMuU1ROX05BTUVfQkdfQURKVVNUO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAkKCcjY3VycmVudF9iZycpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55ICsgZHkgKyB0aGlzLlNUTl9OQU1FX1kgLSAxLjUgKyB0aGlzLl9uYW1lRFksIFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLlNUTl9OQU1FX0JBU0VfSEVJR0hUICsgKG5hbWVFTnMubGVuZ3RoLTEpKjEwICsyICsxLjVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbmFtZUVOcCA9IG5hbWVFTnMuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVFTkVsZW0gPSAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgIGR5OiAxNSwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX210ci0tc3RhdGlvbidcclxuICAgICAgICB9KS50ZXh0KG5hbWVFTnApO1xyXG4gICAgICAgIHdoaWxlIChuYW1lRU5wID0gbmFtZUVOcy5zaGlmdCgpKSB7XHJcbiAgICAgICAgICAgIG5hbWVFTkVsZW0uYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHRzcGFuPicsIHsgeDogMCwgZHk6IDEwLCAnYWxpZ25tZW50LWJhc2VsaW5lJzonbWlkZGxlJyB9KS50ZXh0KG5hbWVFTnApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggKyB0aGlzLl9uYW1lRFh9LCR7dGhpcy55ICsgZHkgKyB0aGlzLl9uYW1lRFl9KWAsIFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl9uYW1lVHh0QW5jaG9yLCBcclxuICAgICAgICAgICAgJ2NsYXNzJzogYE5hbWUgJHt0aGlzLm5hbWVDbGFzc31gXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19tdHItLXN0YXRpb24nKS50ZXh0KHRoaXMubmFtZVswXSlcclxuICAgICAgICApLmFwcGVuZChcclxuICAgICAgICAgICAgbmFtZUVORWxlbVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb25DbGFzcygpIHtyZXR1cm4gdGhpcy5zdGF0ZSA9PSAtMSA/ICdybWctc3RuX19tdHItLXBhc3MnIDogJ3JtZy1zdG5fX210ci0tZnV0dXJlJzt9XHJcblxyXG4gICAgZ2V0IGljb25IVE1MKCkge1xyXG4gICAgICAgIHJldHVybiAkKCc8dXNlPicsIHtcclxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI3N0bl9oaycsIFxyXG4gICAgICAgICAgICB4OiB0aGlzLngsIHk6IHRoaXMueSwgXHJcbiAgICAgICAgICAgIGNsYXNzOiB0aGlzLmljb25DbGFzc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1bmdycEhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge2lkOnRoaXMuaWR9KS5hcHBlbmQoLi4udGhpcy51bmdycEhUTUwpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJbnQyU3RhdGlvbiBleHRlbmRzIFJNR1N0YXRpb24ge1xyXG4gICAgcHJpdmF0ZSBfaW50SW5mbzogSW50ZXJjaGFuZ2VJbmZvO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX2ludEluZm8gPSBkYXRhLnRyYW5zZmVyLmluZm9bMF1bMF07XHJcbiAgICAgICAgLy8gdGhpcy5faW50SW5mbyA9IGRhdGEuaW50ZXJjaGFuZ2VbMF1bMF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IF9keSgpIHtyZXR1cm4gMDt9XHJcblxyXG4gICAgZ2V0IGludFRpY2tIVE1MKCkge1xyXG4gICAgICAgIHZhciB0aWNrUm90YXRpb24gPSAodGhpcy5uYW1lUG9zKSA/IDE4MCA6IDA7XHJcbiAgICAgICAgdmFyIHRpY2tDb2xvdXIgPSB0aGlzLl9pbnRJbmZvW0ludEluZm9UYWcuY29sb3VyXTtcclxuICAgICAgICB2YXIgdGljayA9ICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50dGlja19oaycsIFxyXG4gICAgICAgICAgICBzdHJva2U6IHRpY2tDb2xvdXIsIFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55K3RoaXMuX2R5fSlyb3RhdGUoJHt0aWNrUm90YXRpb259KWAsIFxyXG4gICAgICAgICAgICBjbGFzczogJ3JtZy1saW5lIHJtZy1saW5lX19tdHIgcm1nLWxpbmVfX2NoYW5nZSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSAtMSkge1xyXG4gICAgICAgICAgICB0aWNrLmFkZENsYXNzKCdybWctbGluZV9fcGFzcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGljaztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX25hbWVDbGFzcygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGUgPT0gLTEpID8gJ1Bhc3MnIDogJ0Z1dHVyZSc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGludE5hbWVIVE1MKCkge1xyXG4gICAgICAgIHZhciBbbmFtZUhUTUwsIG5hbWVaSExuLCBuYW1lRU5Mbl0gPSBqb2luSW50TmFtZShbdGhpcy5faW50SW5mb1tJbnRJbmZvVGFnLm5hbWVaSF0sIHRoaXMuX2ludEluZm9bSW50SW5mb1RhZy5uYW1lRU5dXSwgMTAsIDcpO1xyXG4gICAgICAgIHZhciBkeSA9ICghdGhpcy5uYW1lUG9zKSA/IDI1ICsgNS45NTMxMjUgOiAtMjUgKyA1Ljk1MzEyNSAtIDE4LjY1NjI1IC0gMTMqKG5hbWVaSExuLTEpIC0gNyoobmFtZUVOTG4tMSk7XHJcbiAgICAgICAgZHkgKz0gdGhpcy5fZHk7XHJcbiAgICAgICAgLy8gdmFyIG5hbWVDbGFzcyA9ICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLCBcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55ICsgZHl9KWAsIFxyXG4gICAgICAgICAgICAnY2xhc3MnOiBgTmFtZSAke3RoaXMuX25hbWVDbGFzc31gXHJcbiAgICAgICAgfSkuaHRtbChuYW1lSFRNTFswXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIHRoaXMuaW50TmFtZUhUTUxdO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJbnQzU3RhdGlvbiBleHRlbmRzIFJNR1N0YXRpb24ge1xyXG4gICAgcHJpdmF0ZSBfaW50SW5mb3M6IEludGVyY2hhbmdlSW5mb1tdO1xyXG4gICAgcHJpdmF0ZSBfaW50Q2l0eSA9IFtdOyBcclxuICAgIHByaXZhdGUgX2ludExpbmUgPSBbXTsgXHJcbiAgICBwcml2YXRlIF9pbnRDb2xvdXIgPSBbXTtcclxuICAgIHByaXZhdGUgX2ludE5hbWVaSCA9IFtdOyBcclxuICAgIHByaXZhdGUgX2ludE5hbWVFTiA9IFtdO1xyXG4gICAgLy8gX2ludDNUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS50cmFuc2Zlci5pbmZvWzBdO1xyXG5cclxuICAgICAgICAvLyBkYXRhLnRyYW5zZmVyLmluZm9bMF0uZm9yRWFjaChpbnRJbmZvID0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5faW50Q2l0eS5wdXNoKGludEluZm9bMF0pO1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9pbnRMaW5lLnB1c2goaW50SW5mb1sxXSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuX2ludENvbG91ci5wdXNoKGludEluZm9bMl0pO1xyXG5cclxuICAgICAgICAvLyAgICAgdGhpcy5faW50TmFtZVpILnB1c2goaW50SW5mb1s0XSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuX2ludE5hbWVFTi5wdXNoKGludEluZm9bNV0pO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyB0aGlzLl9pbnQzVHlwZSA9IGRhdGEuY2hhbmdlX3R5cGUuc3Vic3RyaW5nKDUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpY29uSFRNTCgpIHtcclxuICAgICAgICBsZXQgaWNvblJvdGF0aW9uID0gKCF0aGlzLm5hbWVQb3MpID8gMCA6IDE4MDtcclxuICAgICAgICByZXR1cm4gJCgnPHVzZT4nLCB7XHJcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnQzX2hrJywgXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnl9KXJvdGF0ZSgke2ljb25Sb3RhdGlvbn0pYCwgXHJcbiAgICAgICAgICAgIGNsYXNzOiB0aGlzLmljb25DbGFzc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiAwO31cclxuICAgIGdldCBfZHkoKSB7cmV0dXJuIDA7fVxyXG4gICAgZ2V0IF9keCgpIHtyZXR1cm4gMDt9XHJcbiAgICBnZXQgX3RpY2tGbGlwKCkge3JldHVybiAxO31cclxuXHJcbiAgICBnZXQgaW50VGlja0hUTUwoKSB7XHJcbiAgICAgICAgbGV0IGVsZW1zOiBKUXVlcnk8SFRNTEVsZW1lbnQ+W10gPSBbXTtcclxuICAgICAgICB0aGlzLl9pbnRJbmZvc1xyXG4gICAgICAgICAgICAubWFwKGluZm8gPT4gaW5mb1tJbnRJbmZvVGFnLmNvbG91cl0pXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChjLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSAyKSB7cmV0dXJuO31cclxuICAgICAgICAgICAgICAgIGxldCB0aWNrQ29sb3VyID0gKHRoaXMuc3RhdGUgPT09IC0xKSA/ICcjYWFhJyA6IGM7XHJcbiAgICAgICAgICAgICAgICBsZXQgZHkgPSAoIXRoaXMubmFtZVBvcykgPyAxOCooaSsxKSA6IC0xOCooMi1pKTtcclxuICAgICAgICAgICAgICAgIGR5ICs9IHRoaXMuX2R5O1xyXG4gICAgICAgICAgICAgICAgZHkgKj0gdGhpcy5fdGlja0ZsaXA7XHJcbiAgICAgICAgICAgICAgICBlbGVtcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50dGlja19oaycsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHRpY2tDb2xvdXIsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggKyB0aGlzLl9keH0sJHt0aGlzLnkgKyBkeX0pcm90YXRlKCR7dGhpcy5fdGlja1JvdGF0aW9ufSlgLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdybWctbGluZSBybWctbGluZV9fbXRyIHJtZy1saW5lX19jaGFuZ2UnXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbGVtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ21pZGRsZSc7fVxyXG4gICAgZ2V0IF9pbnROYW1lRFgoKSB7cmV0dXJuIDA7fVxyXG4gICAgZ2V0IF9uYW1lQ2xhc3MoKSB7cmV0dXJuICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO31cclxuXHJcbiAgICBnZXQgaW50TmFtZUhUTUwoKSB7XHJcbiAgICAgICAgLy8gdmFyIHN0ciA9ICcnO1xyXG4gICAgICAgIGxldCBlbGVtczogSlF1ZXJ5PEhUTUxFbGVtZW50PltdID0gW107XHJcbiAgICAgICAgbGV0IG5hbWVDbGFzcyA9IHRoaXMuX25hbWVDbGFzcztcclxuXHJcbiAgICAgICAgdGhpcy5faW50SW5mb3NcclxuICAgICAgICAgICAgLm1hcChpbmZvID0+IFtpbmZvW0ludEluZm9UYWcubmFtZVpIXSwgaW5mb1tJbnRJbmZvVGFnLm5hbWVFTl1dIGFzIE5hbWUpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChuYW1lcywgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0yKSB7cmV0dXJuO31cclxuICAgICAgICAgICAgICAgIGxldCBbbmFtZUhUTUwsIG5hbWVaSExuLCBuYW1lRU5Mbl0gPSBqb2luSW50TmFtZShuYW1lcywgMTAsIDcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gKCF0aGlzLm5hbWVQb3MpID8gMTgqKGkrMSkgOiAtMTgqKDItaSk7XHJcbiAgICAgICAgICAgICAgICBkeSArPSB0aGlzLl9keTtcclxuICAgICAgICAgICAgICAgIGR5ICo9IHRoaXMuX3RpY2tGbGlwO1xyXG4gICAgICAgICAgICAgICAgZHkgKz0gNS45NTMxMjUgLSAoMTkuNjU2MjUgKyAxMyoobmFtZVpITG4tMSkgKyA3KihuYW1lRU5Mbi0xKSkvMjtcclxuICAgICAgICAgICAgICAgIGVsZW1zLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnPGc+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90eHRBbmNob3IsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggKyB0aGlzLl9pbnROYW1lRFh9LCR7dGhpcy55ICsgZHl9KWAsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ05hbWUgJyArIG5hbWVDbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmh0bWwobmFtZUhUTUxbMF0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZWxlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIC4uLnRoaXMuaW50TmFtZUhUTUxdO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJbnQzTFN0YXRpb24gZXh0ZW5kcyBJbnQzU3RhdGlvbiB7XHJcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gOTA7fVxyXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdlbmQnO31cclxuICAgIGdldCBfaW50TmFtZURYKCkge3JldHVybiAtMjQ7fVxyXG59XHJcblxyXG5jbGFzcyBJbnQzUlN0YXRpb24gZXh0ZW5kcyBJbnQzU3RhdGlvbiB7XHJcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gLTkwO31cclxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnc3RhcnQnO31cclxuICAgIGdldCBfaW50TmFtZURYKCkge3JldHVybiAyNDt9XHJcbn1cclxuXHJcbmNsYXNzIE9TSTExU3RhdGlvbiBleHRlbmRzIEludDJTdGF0aW9uIHtcclxuICAgIHByaXZhdGUgX29zaU5hbWVzOiBOYW1lO1xyXG4gICAgcHJpdmF0ZSBfb3NpVHlwZTogJ3UnIHwgJ3AnO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgLy8gZGF0YS5pbnQyID0gZGF0YS5vc2kxMTtcclxuICAgICAgICBkYXRhLnRyYW5zZmVyLmluZm9bMF0ucHVzaChkYXRhLnRyYW5zZmVyLmluZm9bMV1bMF0pO1xyXG4gICAgICAgIC8vIGRhdGEuaW50ZXJjaGFuZ2VbMF0ucHVzaChkYXRhLmludGVyY2hhbmdlWzFdWzFdKTtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcblxyXG4gICAgICAgIHRoaXMuX29zaU5hbWVzID0gZGF0YS50cmFuc2Zlci5vc2lfbmFtZXNbMF07XHJcbiAgICAgICAgdGhpcy5fb3NpVHlwZSA9IGRhdGEudHJhbnNmZXIucGFpZF9hcmVhID8gJ3AnIDogJ3UnOyAvLyB1KG5wYWlkKSBvciBwKGFpZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBvc2lDbGFzcygpIHtyZXR1cm4gdGhpcy5fb3NpVHlwZSA9PSAndScgPyAncm1nLXN0bl9fbXRyLS11bnBhaWQtb3NpJyA6ICdybWctc3RuX19tdHItLXBhaWQtb3NpJzt9XHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIGljb25Sb3RhdGlvbiA9ICghdGhpcy5uYW1lUG9zKSA/IDAgOiAxODA7XHJcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAneGxpbms6aHJlZic6ICcjb3NpMTFfaGsnLCBcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlyb3RhdGUoJHtpY29uUm90YXRpb259KWAsIFxyXG4gICAgICAgICAgICBjbGFzczogW3RoaXMuaWNvbkNsYXNzLCB0aGlzLm9zaUNsYXNzXS5qb2luKCcgJylcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX2R5KCkge3JldHVybiAoIXRoaXMubmFtZVBvcykgPyAyNiA6IC0yNjt9XHJcbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ21pZGRsZSc7fVxyXG4gICAgZ2V0IF9vc2lOYW1lRFgoKSB7cmV0dXJuIDA7fVxyXG5cclxuICAgIGdldCBvc2lOYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgZHkgPSB0aGlzLl9keSArIDguMzQzNzUgLSAyNS4wMzEyNS8yO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX3R4dEFuY2hvciwgXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54K3RoaXMuX29zaU5hbWVEWH0sJHt0aGlzLnkrZHl9KWAsIFxyXG4gICAgICAgICAgICAnY2xhc3MnOiAnTmFtZSAnICsgdGhpcy5fbmFtZUNsYXNzXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19tdHItLW9zaScpLnRleHQodGhpcy5fb3NpTmFtZXNbMF0pXHJcbiAgICAgICAgKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcclxuICAgICAgICAgICAgICAgICd4JzowLCAnZHknOjEyLCAnY2xhc3MnOidybWctbmFtZV9fZW4gcm1nLW5hbWVfX210ci0tb3NpJ1xyXG4gICAgICAgICAgICB9KS50ZXh0KHRoaXMuX29zaU5hbWVzWzFdKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIHRoaXMuaW50TmFtZUhUTUwsIHRoaXMub3NpTmFtZUhUTUxdO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBPU0kxMUxTdGF0aW9uIGV4dGVuZHMgT1NJMTFTdGF0aW9uIHtcclxuICAgIC8vIE9TSSBuYW1lIG9uIGxlZnRcclxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnZW5kJzt9XHJcbiAgICBnZXQgX29zaU5hbWVEWCgpIHtyZXR1cm4gLTEzO31cclxufVxyXG5cclxuY2xhc3MgT1NJMTFSU3RhdGlvbiBleHRlbmRzIE9TSTExU3RhdGlvbiB7XHJcbiAgICAvLyBPU0kgbmFtZSBvbiByaWdodFxyXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdzdGFydCc7fVxyXG4gICAgZ2V0IF9vc2lOYW1lRFgoKSB7cmV0dXJuIDEzO31cclxufVxyXG5cclxuY2xhc3MgT1NJMTJTdGF0aW9uIGV4dGVuZHMgSW50M1N0YXRpb24ge1xyXG4gICAgcHJvdGVjdGVkIF9vc2lOYW1lczogTmFtZTtcclxuICAgIHByaXZhdGUgX29zaVR5cGU6ICd1JyB8ICdwJztcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcclxuICAgICAgICAvLyBkYXRhLmludDMgPSBkYXRhLm9zaTEyO1xyXG4gICAgICAgIGRhdGEudHJhbnNmZXIuaW5mb1swXS51bnNoaWZ0KC4uLmRhdGEudHJhbnNmZXIuaW5mb1sxXS5zbGljZSgwLDIpKTtcclxuICAgICAgICAvLyBkYXRhLmludGVyY2hhbmdlWzBdLnVuc2hpZnQoLi4uZGF0YS5pbnRlcmNoYW5nZVsxXS5zbGljZSgxLDMpKTtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcblxyXG4gICAgICAgIHRoaXMuX29zaU5hbWVzID0gZGF0YS50cmFuc2Zlci5vc2lfbmFtZXNbMF07XHJcbiAgICAgICAgdGhpcy5fb3NpVHlwZSA9IGRhdGEudHJhbnNmZXIucGFpZF9hcmVhID8gJ3AnIDogJ3UnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBvc2lDbGFzcygpIHtyZXR1cm4gdGhpcy5fb3NpVHlwZSA9PSAndScgPyAncm1nLXN0bl9fbXRyLS11bnBhaWQtb3NpJyA6ICdybWctc3RuX19tdHItLXBhaWQtb3NpJzt9XHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIGljb25Sb3RhdGlvbiA9ICghdGhpcy5uYW1lUG9zKSA/IDAgOiAxODA7XHJcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAneGxpbms6aHJlZic6ICcjb3NpMTJfaGsnLCBcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pcm90YXRlKCR7aWNvblJvdGF0aW9ufSlgLFxyXG4gICAgICAgICAgICBjbGFzczogW3RoaXMuaWNvbkNsYXNzLCB0aGlzLm9zaUNsYXNzXS5qb2luKCcgJylcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX2R5KCkge3JldHVybiAoIXRoaXMubmFtZVBvcykgPyAoMjYtMTgpIDogLTg7fVxyXG4gICAgZ2V0IF9vc2lEWSgpIHtyZXR1cm4gKCF0aGlzLm5hbWVQb3MpID8gKDI2KzE4KzEwKSArIDguMzQzNzUgIDogLSgyNisxOCsxMCkgKyA4LjM0Mzc1IC0gMjUuMDMxMjU7fVxyXG4gICAgZ2V0IF9vc2lUeHRBbmNob3IoKSB7cmV0dXJuICdtaWRkbGUnO31cclxuICAgIGdldCBfb3NpRFgoKSB7cmV0dXJuIDA7fVxyXG5cclxuICAgIGdldCBvc2lOYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgbmFtZUNsYXNzID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gJ1Bhc3MnIDogJ0Z1dHVyZSc7XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcclxuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdGhpcy5fb3NpVHh0QW5jaG9yLCBcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLngrdGhpcy5fZHgrdGhpcy5fb3NpRFh9LCR7dGhpcy55K3RoaXMuX29zaURZfSlgLCBcclxuICAgICAgICAgICAgJ2NsYXNzJzogYE5hbWUgJHtuYW1lQ2xhc3N9YFxyXG4gICAgICAgIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fbXRyLS1vc2knKS50ZXh0KHRoaXMuX29zaU5hbWVzWzBdKVxyXG4gICAgICAgICkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgICAgICAneCc6MCwgJ2R5JzoxMiwgJ2NsYXNzJzoncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19tdHItLW9zaSdcclxuICAgICAgICAgICAgfSkudGV4dCh0aGlzLl9vc2lOYW1lc1sxXS5zcGxpdCgnXFxcXCcpWzBdKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8dHNwYW4+Jywge3g6MCwgZHk6MTB9KS50ZXh0KHRoaXMuX29zaU5hbWVzWzFdLnNwbGl0KCdcXFxcJylbMV0gfHwgJycpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1bmdycEhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmludFRpY2tIVE1MLCB0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MLCAuLi50aGlzLmludE5hbWVIVE1MLCB0aGlzLm9zaU5hbWVIVE1MXTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgT1NJMTJMU3RhdGlvbiBleHRlbmRzIE9TSTEyU3RhdGlvbiB7XHJcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gOTA7fVxyXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdlbmQnO31cclxuICAgIGdldCBfaW50TmFtZURYKCkge3JldHVybiAtMjQ7fVxyXG59XHJcblxyXG5jbGFzcyBPU0kxMlJTdGF0aW9uIGV4dGVuZHMgT1NJMTJTdGF0aW9uIHtcclxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiAtOTA7fVxyXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdzdGFydCc7fVxyXG4gICAgZ2V0IF9pbnROYW1lRFgoKSB7cmV0dXJuIDI0O31cclxufVxyXG5cclxuY2xhc3MgT1NJMjJTdGF0aW9uIGV4dGVuZHMgT1NJMTJTdGF0aW9uIHtcclxuICAgIHByaXZhdGUgX29yaWdJbnRJbmZvOiBJbnRlcmNoYW5nZUluZm87XHJcblxyXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcbiAgICAgICAgLy8gZGF0YSBtdXRhdGVkIGJ5IE9TSTEyU3RhdGlvbiEhIVxyXG4gICAgICAgIHRoaXMuX29yaWdJbnRJbmZvID0gZGF0YS50cmFuc2Zlci5pbmZvWzBdWzJdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBfbmFtZVR4dEFuY2hvcigpIHtyZXR1cm4gdGhpcy5fb3NpVHh0QW5jaG9yO31cclxuICAgIGdldCBfbmFtZURZKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWVQb3MgPyAxMS41MTU2MjUgOiAtMTEuNTE1NjI1O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBvcmlnSW50VGlja0hUTUwoKSB7XHJcbiAgICAgICAgdmFyIHRpY2tSb3RhdGlvbiA9IHRoaXMubmFtZVBvcyA/IDAgOiAxODA7XHJcbiAgICAgICAgdmFyIHRpY2tDb2xvdXIgPSB0aGlzLl9vcmlnSW50SW5mb1tJbnRJbmZvVGFnLmNvbG91cl07XHJcbiAgICAgICAgdmFyIHRpY2sgPSAkKCc8dXNlPicsIHtcclxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI2ludHRpY2tfaGsnLCBcclxuICAgICAgICAgICAgc3Ryb2tlOiB0aWNrQ29sb3VyLCBcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pcm90YXRlKCR7dGlja1JvdGF0aW9ufSlgLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiAncm1nLWxpbmUgcm1nLWxpbmVfX210ciBybWctbGluZV9fY2hhbmdlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IC0xKSB7XHJcbiAgICAgICAgICAgIHRpY2suYWRkQ2xhc3MoJ3JtZy1saW5lX19wYXNzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBvcmlnSW50TmFtZUhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtuYW1lSFRNTCwgbmFtZVpITG4sIG5hbWVFTkxuXSA9IGpvaW5JbnROYW1lKFt0aGlzLl9vcmlnSW50SW5mb1tJbnRJbmZvVGFnLm5hbWVaSF0sIHRoaXMuX29yaWdJbnRJbmZvW0ludEluZm9UYWcubmFtZUVOXV0sIDEwLCA3KTtcclxuICAgICAgICB2YXIgZHkgPSB0aGlzLm5hbWVQb3MgPyAyNSArIDUuOTUzMTI1IDogLTI1ICsgNS45NTMxMjUgLSAxOC42NTYyNSAtIDEzKihuYW1lWkhMbi0xKSAtIDcqKG5hbWVFTkxuLTEpO1xyXG4gICAgICAgIC8vIGR5ICs9IHRoaXMuX2R5O1xyXG4gICAgICAgIC8vIHZhciBuYW1lQ2xhc3MgPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyAnUGFzcycgOiAnRnV0dXJlJztcclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90eHRBbmNob3IsIFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggLSB0aGlzLl9uYW1lRFh9LCR7dGhpcy55ICsgZHl9KWAsIFxyXG4gICAgICAgICAgICBjbGFzczogYE5hbWUgJHt0aGlzLl9uYW1lQ2xhc3N9YFxyXG4gICAgICAgIH0pLmh0bWwobmFtZUhUTUxbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBfb3NpTmFtZURYKCk6IG51bWJlciB7cmV0dXJuIDA7fVxyXG5cclxuICAgIGdldCBvc2lOYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgZHkgPSB0aGlzLl9keSAtICh0aGlzLm5hbWVQb3MgPyAxOCs5IDogLTI3KSArIDguMzQzNzUgLSAyNS4wMzEyNS8yO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX29zaVR4dEFuY2hvciwgXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueCt0aGlzLl9vc2lOYW1lRFh9LCR7dGhpcy55K2R5fSlgLCBcclxuICAgICAgICAgICAgY2xhc3M6ICdOYW1lICcgKyB0aGlzLl9uYW1lQ2xhc3NcclxuICAgICAgICB9KS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0ZXh0PicpLmFkZENsYXNzKCdybWctbmFtZV9femggcm1nLW5hbWVfX210ci0tb3NpJykudGV4dCh0aGlzLl9vc2lOYW1lc1swXSlcclxuICAgICAgICApLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+Jywge1xyXG4gICAgICAgICAgICAgICAgeDowLCBkeToxMiwgY2xhc3M6J3JtZy1uYW1lX19lbiBybWctbmFtZV9fbXRyLS1vc2knXHJcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5fb3NpTmFtZXNbMV0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdW5ncnBIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIC4uLnRoaXMuaW50VGlja0hUTUwsIHRoaXMub3JpZ0ludFRpY2tIVE1MLCBcclxuICAgICAgICAgICAgdGhpcy5pY29uSFRNTCwgdGhpcy5uYW1lSFRNTCwgXHJcbiAgICAgICAgICAgIC4uLnRoaXMuaW50TmFtZUhUTUwsIHRoaXMub3JpZ0ludE5hbWVIVE1MLCB0aGlzLm9zaU5hbWVIVE1MXHJcbiAgICAgICAgXVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBPU0kyMkxTdGF0aW9uIGV4dGVuZHMgT1NJMjJTdGF0aW9uIHtcclxuICAgIGdldCBfbmFtZURYKCkge3JldHVybiAzO31cclxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiA5MDt9XHJcbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ2VuZCc7fVxyXG4gICAgZ2V0IF9pbnROYW1lRFgoKSB7cmV0dXJuIC0yNDt9XHJcbiAgICBnZXQgX29zaU5hbWVEWCgpIHtyZXR1cm4gMTM7fVxyXG4gICAgZ2V0IF9vc2lUeHRBbmNob3IoKSB7cmV0dXJuICdzdGFydCc7fVxyXG59XHJcblxyXG5jbGFzcyBPU0kyMlJTdGF0aW9uIGV4dGVuZHMgT1NJMjJTdGF0aW9uIHtcclxuICAgIGdldCBfbmFtZURYKCkge3JldHVybiAtMzt9XHJcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gLTkwO31cclxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnc3RhcnQnO31cclxuICAgIGdldCBfaW50TmFtZURYKCkge3JldHVybiAyNDt9XHJcbiAgICBnZXQgX29zaU5hbWVEWCgpIHtyZXR1cm4gLTEzO31cclxuICAgIGdldCBfb3NpVHh0QW5jaG9yKCkge3JldHVybiAnZW5kJzt9XHJcbn1cclxuXHJcbmNsYXNzIE9TSTIyRW5kU3RhdGlvbiBleHRlbmRzIE9TSTEyU3RhdGlvbiB7XHJcbiAgICBwcml2YXRlIF9vcmlnSW50Q2l0eTogc3RyaW5nOyBcclxuICAgIHByaXZhdGUgX29yaWdJbnRMaW5lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9vcmlnSW50Q29sb3VyOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9vcmlnSW50Rmc6IHN0cmluZztcclxuICAgIHByaXZhdGUgX29yaWdJbnROYW1lWkg6IHN0cmluZztcclxuICAgIHByaXZhdGUgX29yaWdJbnROYW1lRU46IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoaWQsIGRhdGEpIHtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcbiAgICAgICAgLy8gZGF0YSBtdXRhdGVkIGJ5IE9TSTEyU3RhdGlvbiEhIVxyXG4gICAgICAgIFt0aGlzLl9vcmlnSW50Q2l0eSwgdGhpcy5fb3JpZ0ludExpbmUsIHRoaXMuX29yaWdJbnRDb2xvdXIsIHRoaXMuX29yaWdJbnRGZywgdGhpcy5fb3JpZ0ludE5hbWVaSCwgdGhpcy5fb3JpZ0ludE5hbWVFTl0gPSBkYXRhLnRyYW5zZmVyLmluZm9bMF1bMl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9yaWdJbnRUaWNrSFRNTCgpIHtcclxuICAgICAgICB2YXIgdGlja1JvdGF0aW9uID0gdGhpcy5uYW1lUG9zID8gMTgwIDogMDtcclxuICAgICAgICB2YXIgdGlja0NvbG91ciA9IHRoaXMuX29yaWdJbnRDb2xvdXI7XHJcbiAgICAgICAgdmFyIHRpY2sgPSAkKCc8dXNlPicsIHtcclxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI2ludHRpY2tfaGsnLCBcclxuICAgICAgICAgICAgc3Ryb2tlOiB0aWNrQ29sb3VyLCBcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pcm90YXRlKCR7dGlja1JvdGF0aW9ufSlgLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiAncm1nLWxpbmUgcm1nLWxpbmVfX210ciBybWctbGluZV9fY2hhbmdlJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IC0xKSB7XHJcbiAgICAgICAgICAgIHRpY2suYWRkQ2xhc3MoJ3JtZy1saW5lX19wYXNzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBvcmlnSW50TmFtZUhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtuYW1lSFRNTCwgbmFtZVpITG4sIG5hbWVFTkxuXSA9IGpvaW5JbnROYW1lKFt0aGlzLl9vcmlnSW50TmFtZVpILCB0aGlzLl9vcmlnSW50TmFtZUVOXSwgMTAsIDcpO1xyXG4gICAgICAgIHZhciBkeSA9ICF0aGlzLm5hbWVQb3MgPyAyNSArIDUuOTUzMTI1IDogLTI1ICsgNS45NTMxMjUgLSAxOC42NTYyNSAtIDEzKihuYW1lWkhMbi0xKSAtIDcqKG5hbWVFTkxuLTEpO1xyXG4gICAgICAgIC8vIGR5ICs9IHRoaXMuX2R5O1xyXG4gICAgICAgIC8vIHZhciBuYW1lQ2xhc3MgPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyAnUGFzcycgOiAnRnV0dXJlJztcclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJywgXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueSArIGR5fSlgLCBcclxuICAgICAgICAgICAgJ2NsYXNzJzogYE5hbWUgJHt0aGlzLl9uYW1lQ2xhc3N9YFxyXG4gICAgICAgIH0pLmh0bWwobmFtZUhUTUxbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpY29uSFRNTCgpIHtcclxuICAgICAgICB2YXIgaWNvbllGbGlwID0gdGhpcy5uYW1lUG9zID8gMSA6IC0xO1xyXG4gICAgICAgIHZhciBpY29uWEZsaXAgPSAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gMSA6IC0xO1xyXG4gICAgICAgIHZhciBpY29uUm90YXRpb24gPSAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gMCA6IDE4MDtcclxuICAgICAgICByZXR1cm4gJCgnPHVzZT4nLCB7XHJcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNvc2kyMmVuZF9oaycsIFxyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnl9KXNjYWxlKCR7aWNvblhGbGlwfSwke2ljb25ZRmxpcH0pYCwgXHJcbiAgICAgICAgICAgIGNsYXNzOiBbdGhpcy5pY29uQ2xhc3MsIHRoaXMub3NpQ2xhc3NdLmpvaW4oJyAnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gLTkwIDogOTA7fVxyXG4gICAgZ2V0IF90aWNrRmxpcCgpIHtyZXR1cm4gLTE7fVxyXG4gICAgZ2V0IF9keCgpIHtyZXR1cm4gKHRoaXMuY2hpbGRyZW5bMF0gPT0gJ2xpbmVlbmQnKSA/IDQxIDogLTQxO31cclxuICAgIGdldCBfZHkoKSB7cmV0dXJuICF0aGlzLm5hbWVQb3MgPyAtMTggOiAxODt9XHJcbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gKHRoaXMuY2hpbGRyZW5bMF0gPT0gJ2xpbmVlbmQnKSA/IDI0KzQxIDogLSgyNCs0MSk7fVxyXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICh0aGlzLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykgPyAnc3RhcnQnIDogJ2VuZCc7fVxyXG4gICAgZ2V0IF9vc2lEWSgpIHtyZXR1cm4gIXRoaXMubmFtZVBvcyA/ICgxMCkgKyA4LjM0Mzc1ICA6IC0oMTApICsgOC4zNDM3NSAtIDI1LjAzMTI1O31cclxuICAgIGdldCBfb3NpVHh0QW5jaG9yKCkge3JldHVybiAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gJ3N0YXJ0JyA6ICdlbmQnO31cclxuICAgIGdldCBfb3NpRFgoKSB7cmV0dXJuICh0aGlzLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykgPyAtOSA6IDk7fVxyXG5cclxuICAgIGdldCB1bmdycEhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgLi4udGhpcy5pbnRUaWNrSFRNTCwgdGhpcy5vcmlnSW50VGlja0hUTUwsIFxyXG4gICAgICAgICAgICB0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MLCBcclxuICAgICAgICAgICAgLi4udGhpcy5pbnROYW1lSFRNTCwgdGhpcy5vcmlnSW50TmFtZUhUTUwsIHRoaXMub3NpTmFtZUhUTUxcclxuICAgICAgICBdXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFJNR1N0YXRpb24sIEludDJTdGF0aW9uLCBJbnQzTFN0YXRpb24sIEludDNSU3RhdGlvbiwgT1NJMTFMU3RhdGlvbiwgT1NJMTFSU3RhdGlvbiwgT1NJMTJMU3RhdGlvbiwgT1NJMTJSU3RhdGlvbiwgT1NJMjJTdGF0aW9uLCBPU0kyMkxTdGF0aW9uLCBPU0kyMlJTdGF0aW9uLCBPU0kyMkVuZFN0YXRpb24gfTtcclxuIiwiaW1wb3J0ICogYXMgaW5pdFNhdmUgZnJvbSAnLi9QYWdlSW5pdGlhbGlzZXIvc2F2ZSc7XHJcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHsgUk1HTGluZSB9IGZyb20gJy4vTGluZS9MaW5lJztcclxuaW1wb3J0IGluaXRMaW5lIGZyb20gJy4vTGluZS9pbml0JztcclxuaW1wb3J0IGluaXRQYW5lbHMgZnJvbSAnLi9QYWdlSW5pdGlhbGlzZXIvaW5pdCc7XHJcbmltcG9ydCB7IGdldFBhcmFtcyB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XHJcbiAgICAgICAgbXlMaW5lPzogUk1HTGluZTtcclxuICAgICAgICB1cmxQYXJhbXM/OiBVUkxTZWFyY2hQYXJhbXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciByZXF1ZXN0TGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJykgfHwgbG9jYWxTdG9yYWdlLnJtZ0xhbmcgfHwgbmF2aWdhdG9yLmxhbmd1YWdlLnNwbGl0KCctJykuc2xpY2UoMCwyKS5qb2luKCctJyk7XHJcbnN3aXRjaCAocmVxdWVzdExhbmcudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgY2FzZSAnemgtY24nOlxyXG4gICAgY2FzZSAnemgtaGFucyc6XHJcbiAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCAnemgtSGFucycpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnemgnOlxyXG4gICAgY2FzZSAnemgtaGsnOlxyXG4gICAgY2FzZSAnemgtdHcnOlxyXG4gICAgICAgIHdpbmRvdy51cmxQYXJhbXMuc2V0KCdsYW5nJywgJ3poLUhLJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OiB3aW5kb3cudXJsUGFyYW1zLnNldCgnbGFuZycsICdlbicpO1xyXG59XHJcblxyXG5zd2l0Y2ggKHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpKSB7XHJcbiAgICBjYXNlICdtdHInOlxyXG4gICAgY2FzZSAnZ3ptdHInOlxyXG4gICAgY2FzZSAnc2htZXRybyc6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OiB3aW5kb3cudXJsUGFyYW1zLnNldCgnc3R5bGUnLCAnbXRyJyk7XHJcbn1cclxuaGlzdG9yeS5wdXNoU3RhdGUoe3VybDp3aW5kb3cubG9jYXRpb24uaHJlZn0sIG51bGwsICc/JyArIHdpbmRvdy51cmxQYXJhbXMudG9TdHJpbmcoKSk7XHJcblxyXG4vLyBsb2FkIHN0eWxlc2hlZXRzIG9uIGRlbWFuZFxyXG4kKCdoZWFkJykuYXBwZW5kKFxyXG4gICAgLi4uWydzaGFyZScsICdkZXN0aW5hdGlvbicsICdyYWlsbWFwJ11cclxuICAgICAgICAubWFwKHRhZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAkKCc8bGluaz4nLCB7XHJcbiAgICAgICAgICAgICAgICByZWw6ICdzdHlsZXNoZWV0JywgXHJcbiAgICAgICAgICAgICAgICBocmVmOiBgc3R5bGVzLyR7dGFnfV8ke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfS5jc3NgLCBcclxuICAgICAgICAgICAgICAgIGlkOiBgY3NzXyR7dGFnfWBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4pO1xyXG5cclxud2luZG93Lm15TGluZSA9IG51bGw7XHJcbiQoYFske3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfS1zcGVjaWZpY11gKS5zaG93KCk7XHJcbi8vIGF1dG9Jbml0KCk7XHJcbmluaXRTYXZlLmNvbW1vbigpO1xyXG5cclxuaW5pdExpbmUoKTtcclxuaW5pdFBhbmVscygpOyIsImV4cG9ydCB0eXBlIElEID0gc3RyaW5nO1xyXG5leHBvcnQgaW50ZXJmYWNlIEJyYW5jaEluZm8ge1xyXG4gICAgbGVmdDogWyd0aHJvdWdoJyB8ICdub250aHJvdWdoJywgSURdIHwgW10sIFxyXG4gICAgcmlnaHQ6IFsndGhyb3VnaCcgfCAnbm9udGhyb3VnaCcsIElEXSB8IFtdXHJcbn1cclxuLyoqXHJcbiAqIEFycmF5IG9mIG5hbWUgYHN0cmluZ2BzLiBUaGUgZmlyc3QgZWxlbWVudCBpcyBpbiBDaGluZXNlIGNoYXJhY3RlcnMgYW5kIHRoZSBzZWNvbmQgZWxlbWVudCBpcyBpbiBMYXRpbiBjaGFyYWN0ZXJzLiBcclxuICovXHJcbmV4cG9ydCB0eXBlIE5hbWUgPSBbc3RyaW5nLCBzdHJpbmddO1xyXG5leHBvcnQgZW51bSBEaXJlY3Rpb25Mb25nIHtsZWZ0LCByaWdodH07XHJcbmV4cG9ydCBlbnVtIE5laWdoYm91clBsIHtwYXJlbnRzLCBjaGlsZHJlbn07XHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGlvbkluZm8ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdGF0aW9uIG5hbWUgaW4gdHdvIGxhbmd1YWdlcy4gXHJcbiAgICAgKi9cclxuICAgIG5hbWU6IE5hbWU7XHJcbiAgICAvKipcclxuICAgICAqIFN0YXRpb24gbnVtYmVyLiAoR1pNVFIgc3BlY2lmaWMpXHJcbiAgICAgKi9cclxuICAgIG51bT86IHN0cmluZztcclxuICAgIGJyYW5jaD86IEJyYW5jaEluZm87XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIHBhcmVudHMnIElEcy4gKFdpbGwgYmUgc3Ryb25nbHkgdHlwZWQuKVxyXG4gICAgICovXHJcbiAgICBwYXJlbnRzOiBJRFtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcnJheSBvZiBjaGlsZHJlbidzIElEcy4gKFdpbGwgYmUgc3Ryb25nbHkgdHlwZWQuKVxyXG4gICAgICovXHJcbiAgICBjaGlsZHJlbjogSURbXTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0YWlsIG9mIGludGVyY2hhbmdlcy4gXHJcbiAgICAgKi9cclxuICAgIHRyYW5zZmVyPzogU3RhdGlvblRyYW5zZmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRhaWwgb2YgaW50ZXJjaGFuZ2VzIChsZWdhY3kpLiBcclxuICAgICAqL1xyXG4gICAgaW50ZXJjaGFuZ2U/OiBhbnk7XHJcbiAgICBjaGFuZ2VfdHlwZT86IHN0cmluZztcclxufVxyXG5leHBvcnQgZW51bSBJbnRJbmZvVGFnIHtcclxuICAgIGNpdHksIGxpbmUsIGNvbG91ciwgZmcsIG5hbWVaSCwgbmFtZUVOXHJcbn07XHJcbmV4cG9ydCB0eXBlIEludGVyY2hhbmdlSW5mbyA9IHtcclxuICAgIFtUIGluIEludEluZm9UYWddOiBzdHJpbmc7XHJcbn07XHJcbmludGVyZmFjZSBTdGF0aW9uVHJhbnNmZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcmNoYW5nZSB0eXBlIG9mIHN0YXRpb24uIFxyXG4gICAgICovXHJcbiAgICB0eXBlOiAnbm9uZScgfCAnaW50MicgfCAnaW50MycgfCAnb3NpMTEnIHwgJ29zaTEyJyB8ICdvc2kxMycgfCAnb3NpMjEnIHwgJ29zaTIyJyB8ICdvc2kzMSc7XHJcbiAgICAvKipcclxuICAgICAqIERpcmVjdGlvbiBvZiB0ZXh0L3RpY2sgb2YgaW50ZXJjaGFuZ2VzLiBcclxuICAgICAqL1xyXG4gICAgdGlja19kaXJlYzogJ3InIHwgJ2wnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGbGFnIG9mIHBhaWQgYXJlYSB3aXRoaW4gb3V0LW9mLXN0YXRpb24gaW50ZXJjaGFuZ2UuIFxyXG4gICAgICovXHJcbiAgICBwYWlkX2FyZWE6IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIG5hbWUgKGluIHR3byBsYW5ndWFnZXMpIG9mIGFsbCBvdXQtb2Ytc3RhdGlvbiBpbnRlcmNoYW5nZSBzdGF0aW9ucy4gXHJcbiAgICAgKi9cclxuICAgIG9zaV9uYW1lczogTmFtZVtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcnJheSBvZiBhcnJheXMgb2YgaW50ZXJjaGFuZ2UgaW5mby4gXHJcbiAgICAgKiBAaW5kZXggMCAtIGFycmF5IG9mIHdpdGhpbi1zdGF0aW9uIGludGVyY2hhbmdlIGluZm9cclxuICAgICAqIEBpbmRleCByZW1haW5pbmcgLSBhcnJheXMgb2Ygb3V0LW9mLXN0YXRpb24gaW50ZXJjaGFuZ2UgaW5mbyAoZnJvbSB0aGUgbmVhcmVzdCB0byB0aGUgZnVydGhlc3Qgc3RhdGlvbilcclxuICAgICAqL1xyXG4gICAgaW5mbzogSW50ZXJjaGFuZ2VJbmZvW11bXTtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFJNR1BhcmFtIHtcclxuICAgIC8qKlxyXG4gICAgICogV2lkdGggKGluIHBpeGVscykgb2YgYHN2ZyNyYWlsbWFwYC5cclxuICAgICAqL1xyXG4gICAgc3ZnX3dpZHRoOiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICAqIFdpZHRoIChpbiBwaXhlbHMpIG9mIGBzdmcjZGVzdGluYXRpb25gLlxyXG4gICAgICovXHJcbiAgICBzdmdfZGVzdF93aWR0aDogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWlnaHQgKGluIHBpeGVscykgb2YgYHN2Z2BzLlxyXG4gICAgICovXHJcbiAgICBzdmdfaGVpZ2h0OiBudW1iZXI7XHJcbiAgICAvKipcclxuICAgICAqIFRyYWluIGRpcmVjdGlvbi4gXHJcbiAgICAgKi9cclxuICAgIGRpcmVjdGlvbjogJ2wnIHwgJ3InO1xyXG4gICAgdGhlbWU6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nLCAnI2ZmZicgfCAnIzAwMCddIHwgW3N0cmluZywgc3RyaW5nLCBzdHJpbmddO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJRCBvZiBjdXJyZW50IHN0YXRpb24uIFxyXG4gICAgICovXHJcbiAgICBjdXJyZW50X3N0bl9pZHg6IElEO1xyXG4gICAgLyoqXHJcbiAgICAgKiBLZXktdmFsdWUgcGFpcnMgb2YgdGhlIGluZm9ybWF0aW9uIG9mIGVhY2ggc3RhdGlvbi4gXHJcbiAgICAgKi9cclxuICAgIHN0bl9saXN0OiB7XHJcbiAgICAgICAgW3N0bklkOiBzdHJpbmddOiBTdGF0aW9uSW5mbztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZsYWcgb2YgZmxpcHBpbmcgc3RhdGlvbiBuYW1lcy4gKE1UUiBzcGVjaWZpYylcclxuICAgICAqL1xyXG4gICAgdHh0X2ZsaXA/OiBib29sZWFuO1xyXG4gICAgLyoqXHJcbiAgICAgKiBMZWdhY3kgc3R5bGUgb2YgZGVzdGluYXRpb24gaW5mb3JtYXRpb24gcGFuZWwuIChNVFIgc3BlY2lmaWMpXHJcbiAgICAgKi9cclxuICAgIGRlc3RfbGVnYWN5PzogYm9vbGVhbjtcclxuICAgIFtwcm9wTmFtZTogc3RyaW5nXTogYW55O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExpbmVFbnRyeSB7XHJcbiAgICAvKipcclxuICAgICAqIElEIG9mIGxpbmUuIFxyXG4gICAgICovXHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBLZXktdmFsdWUgcGFpcnMgb2YgbXVsdGktbGluZ3VhbCBuYW1lcyBvZiB0aGUgbGluZS4gXHJcbiAgICAgKi9cclxuICAgIG5hbWU6IHtcclxuICAgICAgICBlbjogc3RyaW5nO1xyXG4gICAgICAgIFtsYW5nOiBzdHJpbmddOiBzdHJpbmc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBCYWNrZ3JvdW5kIGNvbG91ciAoaW4gI0hFWCkuIFxyXG4gICAgICovXHJcbiAgICBjb2xvdXI6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICogRm9yZWdyb3VuZCBjb2xvdXIuIE1hbmRhdG9yeSBmaWVsZCBpZiBmb3JlZ3JvdW5kIGNvbG91ciBpcyBibGFjay4gXHJcbiAgICAgKi9cclxuICAgIGZnPzogJyMwMDAnIHwgJyNmZmYnO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENpdHlFbnRyeSB7XHJcbiAgICAvKipcclxuICAgICAqIElEIG9mIGNpdHkuIFxyXG4gICAgICovXHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJU08gMzE2Ni0xIGFscGhhLTIgY291bnRyeSBjb2RlLiAoRm9yIGNpdGllcyBpbiBCcml0YWluLCBhcHBlbmQgQlMgNjg3OSBzdWJkaXZpc2lvbiBjb2RlLiApXHJcbiAgICAgKi9cclxuICAgIGNvdW50cnk6IHN0cmluZztcclxuICAgIC8qKlxyXG4gICAgICogS2V5LXZhbHVlIHBhaXJzIG9mIG11bHRpLWxpbmd1YWwgbmFtZXMgb2YgdGhlIGNpdHkuIFxyXG4gICAgICovXHJcbiAgICBuYW1lOiB7XHJcbiAgICAgICAgZW46IHN0cmluZztcclxuICAgICAgICBbbGFuZzogc3RyaW5nXTogc3RyaW5nO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHV0UGFyYW1zKGluc3RhbmNlOiBSTUdQYXJhbSkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JtZ1BhcmFtJywgSlNPTi5zdHJpbmdpZnkoaW5zdGFuY2UpKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmFtcygpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ybWdQYXJhbSkgYXMgUk1HUGFyYW07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRQYXJhbXMoa2V5OiBFeHRyYWN0PGtleW9mIFJNR1BhcmFtLCBzdHJpbmc+LCBkYXRhOiBhbnkpIHtcclxuICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgcGFyYW1ba2V5XSA9IGRhdGE7XHJcbiAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdChzdmdFbCkge1xyXG4gICAgdmFyIFtzdmdXLCBzdmdIXSA9IHN2Z0VsLmF0dHIoJ3ZpZXdCb3gnKS5zcGxpdCgnICcpLnNsaWNlKDIpO1xyXG5cclxuICAgIHZhciBjYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ICQoJ2NhbnZhcycpWzBdO1xyXG4gICAgJCgnY2FudmFzJykuYXR0cih7XHJcbiAgICAgICAgd2lkdGg6IHN2Z1cqMi41LCBoZWlnaHQ6c3ZnSCoyLjVcclxuICAgIH0pO1xyXG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgLy8gYnlwYXNzIENocm9tZSBtaW4gZm9udCBzaXplICh0byBiZSBpbXByb3ZlZClcclxuXHJcbiAgICBzdmdFbC5maW5kKCcucm1nLW5hbWVfX2VuLnJtZy1uYW1lX19nem10ci0tc3RhdGlvbiwgLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fbXRyLS1zdGF0aW9uLCAucm1nLW5hbWVfX3poLkludE5hbWUnKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgJzEwcHgnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN2Z0VsLmZpbmQoJy5ybWctbmFtZV9fZW4ucm1nLW5hbWVfX2d6bXRyLS1pbnQnKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgJzhweCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLWludC1zbWFsbCwgLnJtZy1uYW1lX19lbi5JbnROYW1lJykuZWFjaCgoXyxlbCkgPT4ge1xyXG4gICAgICAgICQoZWwpLmF0dHIoJ2ZvbnQtc2l6ZScsICc3cHgnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN2Z0VsLmZpbmQoJ3RleHQ6bm90KFtmb250LXNpemVdKSwgdHNwYW46bm90KFtmb250LXNpemVdKScpLmVhY2goKF8sZWwpID0+IHtcclxuICAgICAgICAkKGVsKS5hdHRyKCdmb250LXNpemUnLCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZm9udFNpemUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3ZnRWwuZmluZCgndGV4dCwgdHNwYW4nKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgdmFyIGVsU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAgICAgJChlbCkuYXR0cih7XHJcbiAgICAgICAgICAgICdmb250LWZhbWlseSc6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZm9udC1mYW1pbHknKSwgXHJcbiAgICAgICAgICAgICdmaWxsJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdmaWxsJyksIFxyXG4gICAgICAgICAgICAnYWxpZ25tZW50LWJhc2VsaW5lJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdhbGlnbm1lbnQtYmFzZWxpbmUnKSwgXHJcbiAgICAgICAgICAgICdkb21pbmFudC1iYXNlbGluZSc6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZG9taW5hbnQtYmFzZWxpbmUnKSxcclxuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0ZXh0LWFuY2hvcicpXHJcbiAgICAgICAgfSkucmVtb3ZlQXR0cignY2xhc3MnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN2Z0VsLmZpbmQoJyNzdHJpcCwgI2Rlc3Rfc3RyaXAnKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgdmFyIGVsU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XHJcbiAgICAgICAgJChlbCkuYXR0cih7XHJcbiAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiBlbFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3N0cm9rZS13aWR0aCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHN2Z1cqMi41LCBzdmdIKjIuNSk7XHJcbiAgICAgICAgc2F2ZUFzKFxyXG4gICAgICAgICAgICAoPEhUTUxDYW52YXNFbGVtZW50PiQoJ2NhbnZhcycpWzBdKS50b0RhdGFVUkwoJ2ltYWdlL3BuZycpLCBcclxuICAgICAgICAgICAgJ3JtZ19leHBvcnQnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGltZy5zcmMgPSAnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwnICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3ZnRWxbMF0ub3V0ZXJIVE1MKSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlQXModXJpOiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpIHtcclxuXHJcbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGxpbmsuZG93bmxvYWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgbGluay5ocmVmID0gdXJpO1xyXG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTtcclxuICAgICAgICAvL0ZpcmVmb3ggcmVxdWlyZXMgdGhlIGxpbmsgdG8gYmUgaW4gdGhlIGJvZHlcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgICAgIC8vc2ltdWxhdGUgY2xpY2tcclxuICAgICAgICBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgLy9yZW1vdmUgdGhlIGxpbmsgd2hlbiBkb25lXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKHVyaSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUeHRCb3hEaW0oZWxlbTogU1ZHR3JhcGhpY3NFbGVtZW50LCBzdmc6IHN0cmluZykge1xyXG4gICAgbGV0IHN2Z05vZGUgPSAkKCcjJyArIHN2ZylbMF0gYXMgRWxlbWVudCBhcyBTVkdTVkdFbGVtZW50O1xyXG4gICAgbGV0IGJjciA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgcHQgPSBzdmdOb2RlLmNyZWF0ZVNWR1BvaW50KCk7XHJcbiAgICBsZXQgY3RtID0gc3ZnTm9kZS5nZXRTY3JlZW5DVE0oKTtcclxuICAgIHB0LnggPSBiY3IubGVmdDtcclxuICAgIHB0LnkgPSBiY3IudG9wO1xyXG4gICAgbGV0IHBvcyA9IHB0Lm1hdHJpeFRyYW5zZm9ybShjdG0uaW52ZXJzZSgpKTtcclxuICAgIHJldHVybiB7eDpwb3MueCwgeTpwb3MueSwgd2lkdGg6YmNyLndpZHRoLCBoZWlnaHQ6YmNyLmhlaWdodH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBqb2luSW50TmFtZShuYW1lczogTmFtZSwgZHkxLCBkeTIpOiBbSlF1ZXJ5PEhUTUxFbGVtZW50PiwgbnVtYmVyLCBudW1iZXJdIHtcclxuICAgIHZhciBbbmFtZVpILCBuYW1lRU5dID0gbmFtZXMubWFwKHR4dCA9PiB0eHQuc3BsaXQoL1xcXFwvZykpO1xyXG4gICAgdmFyIHJlcyA9ICQoJzx0ZXh0PicpLmFkZENsYXNzKCdybWctbmFtZV9femggSW50TmFtZScpLnRleHQobmFtZVpIWzBdKTtcclxuICAgIGZvciAobGV0IGk9MTsgaTxuYW1lWkgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICByZXMgPSByZXMuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dHNwYW4+Jywgeyd4JzowLCAnZHknOmR5MSwgJ2RvbWluYW50LWJhc2VsaW5lJzogJ2NlbnRyYWwnfSkudGV4dChuYW1lWkhbaV0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHZhciBidHdHYXAgPSAobmFtZVpILmxlbmd0aCA9PSAxKSA/IDkgOiA5O1xyXG4gICAgcmVzID0gcmVzLmFwcGVuZChcclxuICAgICAgICAkKCc8dHNwYW4+Jywge1xyXG4gICAgICAgICAgICAneCc6MCwgJ2R5JzpidHdHYXAsICdjbGFzcyc6ICdybWctbmFtZV9fZW4gSW50TmFtZSdcclxuICAgICAgICB9KS50ZXh0KG5hbWVFTlswXSlcclxuICAgICk7XHJcbiAgICBmb3IgKGxldCBpPTE7IGk8bmFtZUVOLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRzcGFuPicsIHtcclxuICAgICAgICAgICAgICAgICd4JzowLCAnZHknOmR5MiwgJ2NsYXNzJzogJ3JtZy1uYW1lX19lbiBJbnROYW1lJ1xyXG4gICAgICAgICAgICB9KS50ZXh0KG5hbWVFTltpXSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtyZXMsIG5hbWVaSC5sZW5ndGgsIG5hbWVFTi5sZW5ndGhdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50Qm94R1ooaW50SW5mbzogSW50ZXJjaGFuZ2VJbmZvLCBzdGF0ZSkge1xyXG4gICAgbGV0IGJnID0gaW50SW5mb1tJbnRJbmZvVGFnLmNvbG91cl07XHJcbiAgICBsZXQgZmcgPSBpbnRJbmZvW0ludEluZm9UYWcuZmddO1xyXG4gICAgbGV0IG5hbWVzID0gW1xyXG4gICAgICAgIGludEluZm9bSW50SW5mb1RhZy5uYW1lWkhdLCBcclxuICAgICAgICBpbnRJbmZvW0ludEluZm9UYWcubmFtZUVOXVxyXG4gICAgXTtcclxuICAgIGxldCBuYW1lWkhzID0gbmFtZXNbMF0ubWF0Y2goL1tcXGRdK3xbXFxEXSsvZykgfHwgWycnXTtcclxuICAgIGxldCBpbnROYW1lU3BsaXRPayA9IGZhbHNlO1xyXG4gICAgaWYgKG5hbWVaSHMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKE51bWJlcihuYW1lWkhzWzBdKSkgJiYgaXNOYU4oTnVtYmVyKG5hbWVaSHNbMV0pKSkge1xyXG4gICAgICAgICAgICBpbnROYW1lU3BsaXRPayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGJveEVsID0gJCgnPGc+JylcclxuICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dXNlPicsIHsgXHJcbiAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50Ym94X2d6JywgXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBzdGF0ZT09PS0xID8gJyNhYWEnIDogYmdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+JywgeyB5OiA4LjUsIGNsYXNzOiAncm1nLW5hbWVfX3poIHJtZy1uYW1lX19nem10ci0taW50JyB9KVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHNwYW4+JywgeyAnZm9udC1zaXplJzonMTZweCcsICdkb21pbmFudC1iYXNlbGluZSc6ICdjZW50cmFsJyB9KS50ZXh0KGludE5hbWVTcGxpdE9rID8gbmFtZVpIc1swXSA6ICcnKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRzcGFuPicsIHsgZHk6LTEsICdkb21pbmFudC1iYXNlbGluZSc6ICdjZW50cmFsJyB9KS50ZXh0KGludE5hbWVTcGxpdE9rID8gbmFtZVpIc1sxXSA6IG5hbWVaSHMuam9pbignJykpKVxyXG4gICAgICAgIClcclxuICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nLCB7IFxyXG4gICAgICAgICAgICAgICAgeTogMTkuNSwgXHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3JtZy1uYW1lX19lbidcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhuYW1lc1sxXS5sZW5ndGggPiAxMCA/ICdybWctbmFtZV9fZ3ptdHItLWludC1zbWFsbCcgOiAncm1nLW5hbWVfX2d6bXRyLS1pbnQnKVxyXG4gICAgICAgICAgICAgICAgLnRleHQobmFtZXNbMV0pXHJcbiAgICAgICAgKTtcclxuICAgIGlmIChmZyA9PT0gJyNmZmYnIHx8IHN0YXRlID09PSAtMSkge1xyXG4gICAgICAgICQoYm94RWwpLmZpbmQoJ3RleHQnKS5hZGRDbGFzcygncm1nLW5hbWVfX2d6bXRyLS13aGl0ZS1mZycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBib3hFbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUlkKCk6IElEIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygzNiwgNCkpLnRvU3RyaW5nKDM2KS5wYWRTdGFydCg0LCAnMCcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZUZyb21JZChzdG5JZDogSUQpOiBOYW1lIHtcclxuICAgIGxldCBudW1zWkggPSBbXHJcbiAgICAgICAgJ+eZuCcsICfnlLInLCAn5LmZJywgJ+S4mScsICfkuIEnLCAn5oiKJywgJ+W3sScsICfluponLCAn6L6bJywgJ+WjrCcsIFxyXG4gICAgICAgICfml6UnLCAn5pyIJywgJ+mHkScsICfmnKgnLCAn5rC0JywgJ+eBqycsICflnJ8nLCBcclxuICAgICAgICAn56u5JywgJ+aIiCcsICfljYEnLCAn5aSnJywgJ+S4rScsICfkuIAnLCAn5byTJywgXHJcbiAgICAgICAgJ+S6uicsICflv4MnLCAn5omLJywgJ+WPoycsIFxyXG4gICAgICAgICflsLgnLCAn5bu/JywgJ+WxsScsICflpbMnLCAn55SwJywgJ+mboycsICfljZwnLCAn6YeNJ1xyXG4gICAgXTtcclxuICAgIGxldCBudW1zRU4gPSBbXHJcbiAgICAgICAgJ1plcm8nLCAnT25lJywgJ1R3bycsICdUaHJlZScsICdGb3VyJywgJ0ZpdmUnLCAnU2l4JywgJ1NldmVuJywgJ0VpZ2h0JywgJ05pbmUnLCBcclxuICAgICAgICAnQWxmYScsICdCcmF2bycsICdDaGFybGllJywgJ0RlbHRhJywgJ0VjaG8nLCAnRm94dHJvdCcsICdHb2xmJyxcclxuICAgICAgICAnSG90ZWwnLCAnSW5kaWEnLCAnSnVsaWV0dCcsICdLaWxvJywgJ0xpbWEnLCAnTWlrZScsICdOb3ZlbWJlcicsIFxyXG4gICAgICAgICdPc2NhcicsICdQYXBhJywgJ1F1ZWJlYycsICdSb21lbycsIFxyXG4gICAgICAgICdTaWVycmEnLCAnVGFuZ28nLCAnVW5pZm9ybScsICdWaWN0b3InLCAnV2hpc2tleScsICdYLXJheScsICdZYW5rZWUnLCAnWnVsdSdcclxuICAgIF07XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIHN0bklkLnNwbGl0KCcnKS5tYXAoY2hhciA9PiBudW1zWkhbcGFyc2VJbnQoY2hhciwgMzYpXSkuam9pbignJyksIFxyXG4gICAgICAgIHN0bklkLnNwbGl0KCcnKS5tYXAoY2hhciA9PiBudW1zRU5bcGFyc2VJbnQoY2hhciwgMzYpXSkuam9pbignICcpXHJcbiAgICBdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVQYXJhbXMocGFyYW06IFJNR1BhcmFtKSB7XHJcbiAgICByZXR1cm4gYE51bWJlciBvZiBzdGF0aW9uczogJHtPYmplY3Qua2V5cyhwYXJhbS5zdG5fbGlzdCkubGVuZ3RoLTJ9XHJcbiAgICAgICAgICAgICR7T2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpLm1hcCh4ID0+IFsnbGluZXN0YXJ0JywnbGluZWVuZCddLmluY2x1ZGVzKHhbMF0pID8gJycgOiB4WzFdLm5hbWUuam9pbignIC0gJykpLmpvaW4oJzxicj4nKS50cmltKCkucmVwbGFjZSgvXFxcXC8sJyAnKX1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY291bnRyeUNvZGUyRW1vamkoY29kZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHZhciBjaGFycyA9IGNvZGUudG9VcHBlckNhc2UoKS5zcGxpdCgnJyk7XHJcbiAgICBpZiAoY29kZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIHJldHVybiBjaGFycy5tYXAoY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludCgoY2hhci5jb2RlUG9pbnRBdCgwKSsxMjczOTcpKSkuam9pbignJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnXFx1ezFmM2Y0fScgKyBjaGFycy5tYXAoY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludCgoY2hhci5jb2RlUG9pbnRBdCgwKSs5MTc1MzYpKSkuam9pbignJykgKyAnXFx1e2UwMDdmfSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2IySGV4KHJnYjogc3RyaW5nKSB7XHJcbiAgICBsZXQgaGV4ID0gcmdiLm1hdGNoKC9bXFxkXSsvZylcclxuICAgICAgICAubWFwKGRlYyA9PiBOdW1iZXIoZGVjKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwnMCcpKVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgIHN3aXRjaCAoaGV4KSB7XHJcbiAgICAgICAgY2FzZSAnMDAwMDAwJzogcmV0dXJuICcjMDAwJztcclxuICAgICAgICBjYXNlICdmZmZmZmYnOiByZXR1cm4gJyNmZmYnO1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAnIycgKyBoZXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXJhbSgpIHtcclxuICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG5cclxuICAgIC8vIFZlcnNpb24gMC4xMFxyXG4gICAgaWYgKCEoJ2xpbmVfbmFtZScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0ubGluZV9uYW1lID0gWyfot6/nt5rlkI0nLCAnTmFtZSBvZiBMaW5lJ107XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGVzdF9sZWdhY3knIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRlc3RfbGVnYWN5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAwLjExXHJcbiAgICBpZiAoISgnY2hhcl9mb3JtJyBpbiBwYXJhbSkpIHtcclxuICAgICAgICBwYXJhbS5jaGFyX2Zvcm0gPSAocmVnaW9uID0+IHtzd2l0Y2ggKHJlZ2lvbikge1xyXG4gICAgICAgICAgICBjYXNlICdLUic6IHJldHVybiAndHJhZCc7XHJcbiAgICAgICAgICAgIGNhc2UgJ1RDJzogcmV0dXJuICd0dyc7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NDJzogcmV0dXJuICdjbic7XHJcbiAgICAgICAgICAgIGNhc2UgJ0pQJzogcmV0dXJuICdqcCc7XHJcbiAgICAgICAgfX0pKHBhcmFtLmZvbnRaSFswXS5zcGxpdCgnICcpLnJldmVyc2UoKVswXSlcclxuICAgIH1cclxuICAgIGRlbGV0ZSBwYXJhbS5mb250Wkg7XHJcbiAgICBkZWxldGUgcGFyYW0uZm9udEVOO1xyXG4gICAgZGVsZXRlIHBhcmFtLndlaWdodFpIO1xyXG4gICAgZGVsZXRlIHBhcmFtLndlaWdodEVOO1xyXG5cclxuICAgIC8vIFZlcnNpb24gMC4xMlxyXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcclxuICAgICAgICAvLyBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAvLyBpZiAoJ3RyYW5zZmVyJyBpbiBzdG5JbmZvKSB7XHJcbiAgICAgICAgLy8gICAgIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2U7XHJcbiAgICAgICAgLy8gICAgIHN3aXRjaCAoc3RuSW5mby5jaGFuZ2VfdHlwZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSAnaW50Mic6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tzdG5JbmZvLnRyYW5zZmVyWzFdXV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdpbnQzX2wnOlxyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSAnaW50M19yJzpcclxuICAgICAgICAvLyAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbc3RuSW5mby50cmFuc2Zlci5zbGljZSgxLDMpXTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3BsJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3ByJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3VsJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3VyJzpcclxuICAgICAgICAvLyAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbW10sIHN0bkluZm8udHJhbnNmZXIuc2xpY2UoMCwyKV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl9wbCc6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl9wcic6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl91bCc6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl91cic6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tdLCBzdG5JbmZvLnRyYW5zZmVyXTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBkZWxldGUgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghKCdicmFuY2gnIGluIHN0bkluZm8pKSB7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgIGlmIChzdG5JbmZvLmNoaWxkcmVuLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgc3RuSW5mby5jaGlsZHJlblsxXV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0bkluZm8ucGFyZW50cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgc3RuSW5mby5wYXJlbnRzWzFdXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMS4yXHJcbiAgICBpZiAoISgncHNkX251bScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0ucHNkX251bSA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnbGluZV9udW0nIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmxpbmVfbnVtID0gMTtcclxuICAgIH1cclxuICAgIGRlbGV0ZSBwYXJhbS5zdHlsZTtcclxuICAgIGlmIChwYXJhbS50aGVtZS5sZW5ndGggPT0gMykge1xyXG4gICAgICAgIHBhcmFtLnRoZW1lLnB1c2goJyNmZmYnKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgaWYgKCEoJ251bScgaW4gc3RuSW5mbykpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLm51bSA9ICcwMCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMS4zXHJcbiAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtLnN0bl9saXN0KSkge1xyXG4gICAgICAgIGlmICgnaW50ZXJjaGFuZ2UnIGluIHN0bkluZm8pIHtcclxuICAgICAgICAgICAgc3RuSW5mby5pbnRlcmNoYW5nZS5tYXAoYXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGFyci5tYXAoaW50SW5mbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludEluZm8ubGVuZ3RoID09IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50SW5mby5zcGxpY2UoMywwLCcjZmZmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJzaW9uIDEuNFxyXG4gICAgaWYgKCEoJ2luZm9fcGFuZWxfdHlwZScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ3BhbmFzb25pYyc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAxLjVcclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfcCcpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoYW5nZV90eXBlID0gJ29zaTIyX3ByJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfdScpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoYW5nZV90eXBlID0gJ29zaTIyX3VyJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAvLyBWZXJzaW9uIDIuMVxyXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcclxuICAgICAgICBpZiAoISgnaW50ZXJjaGFuZ2UnIGluIHN0bkluZm8pKSB7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5pbnRlcmNoYW5nZSA9IFtbXV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMi4yXHJcbiAgICBpZiAocGFyYW0uaW5mb19wYW5lbF90eXBlID09PSAnZ3pfMScpIHtcclxuICAgICAgICBwYXJhbS5pbmZvX3BhbmVsX3R5cGUgPSAnZ3oyOCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAyLjNcclxuICAgIGlmIChwYXJhbS5pbmZvX3BhbmVsX3R5cGUgPT09ICdwYW5hc29uaWMnKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6MjgnO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzInKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6Z2YnO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzMnKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6Myc7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3gnIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRpcmVjdGlvbl9nel94ID0gNTA7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3knIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRpcmVjdGlvbl9nel95ID0gNzA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAyLjZcclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKCEoJ3RyYW5zZmVyJyBpbiBwYXJhbSkpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogc3RuSW5mby5jaGFuZ2VfdHlwZS5zcGxpdCgnXycpWzBdIGFzICdub25lJyB8ICdpbnQyJyB8ICdpbnQzJyB8ICdvc2kxMScgfCAnb3NpMTInIHwgJ29zaTIyJywgXHJcbiAgICAgICAgICAgICAgICB0aWNrX2RpcmVjOiAoc3RuSW5mby5jaGFuZ2VfdHlwZSA9PT0gJ25vbmUnIHx8IHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdpbnQyJykgPyAncicgOiBzdG5JbmZvLmNoYW5nZV90eXBlLnNwbGl0KCdfJylbMV0uc3BsaXQoJycpLnNsaWNlKCkucmV2ZXJzZSgpWzBdIGFzICdsJyB8ICdyJywgXHJcbiAgICAgICAgICAgICAgICBwYWlkX2FyZWE6IChzdG5JbmZvLmNoYW5nZV90eXBlLmluZGV4T2YoJ29zaScpIT09LTEpID8gc3RuSW5mby5jaGFuZ2VfdHlwZS5zcGxpdCgnXycpWzFdWzBdPT09J3AnIDogdHJ1ZSwgXHJcbiAgICAgICAgICAgICAgICBvc2lfbmFtZXM6IChzdG5JbmZvLmNoYW5nZV90eXBlLmluZGV4T2YoJ29zaScpIT09LTEpID8gW3N0bkluZm8uaW50ZXJjaGFuZ2VbMV1bMF1dIDogW10sIFxyXG4gICAgICAgICAgICAgICAgaW5mbzogKHN0bkluZm8uaW50ZXJjaGFuZ2UubGVuZ3RoID09PSAyKSA/IFtzdG5JbmZvLmludGVyY2hhbmdlWzBdLCBzdG5JbmZvLmludGVyY2hhbmdlWzFdLnNsaWNlKDEpXSA6IHN0bkluZm8uaW50ZXJjaGFuZ2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBsYW5nRmFsbGJhY2sgPSAobGFuZzogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGxhbmcpIHtcclxuICAgICAgICBjYXNlICdlbic6IHJldHVybiBbJ2VuJ107XHJcbiAgICAgICAgY2FzZSAnemgtSGFucyc6IHJldHVybiBbJ3poLUhhbnMnLCAnemgnLCAnZW4nXTtcclxuICAgICAgICBjYXNlICd6aC1ISyc6IHJldHVybiBbJ3poLUhLJywgJ3poLUhhbnQnLCAnemgnLCAnZW4nXTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4gW2xhbmcsICdlbiddO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VHJhbnNUZXh0ID0gKG9iajoge1tpbmRleDogc3RyaW5nXTogc3RyaW5nfSwgbGFuZzogc3RyaW5nKSA9PiB7XHJcbiAgICByZXR1cm4gb2JqW2xhbmdGYWxsYmFjayhsYW5nKS5maW5kKGwgPT4gb2JqW2xdKV07XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuZGlhbG9nOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLmxpc3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMucmlwcGxlOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLnNlbGVjdDsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy5zbGlkZXI7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuc3dpdGNoQ29udHJvbDsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy50YWJCYXI7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMudGV4dEZpZWxkOyIsIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyJdLCJzb3VyY2VSb290IjoiIn0=