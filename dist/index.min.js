/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 	};
/******/
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"index": 0
/******/ 	};
/******/
/******/
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"LineGZ":"LineGZ","LineHK":"LineHK","LineSH":"LineSH","initDesign":"initDesign","initInfo":"initInfo","initLayout":"initLayout","vendors~initStations":"vendors~initStations","initStations":"initStations"}[chunkId]||chunkId) + ".min.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "./dist/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Line/Line.ts":
/*!**************************!*\
  !*** ./src/Line/Line.ts ***!
  \**************************/
/*! exports provided: RMGLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLine", function() { return RMGLine; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Station_Station__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/Station */ "./src/Station/Station.ts");



class RMGLine {
    constructor(param) {
        this._longInterval = 1;
        this.stations = {};
        this._svgHeight = param.svg_height;
        this._svgWidth = param.svg_width;
        this._svgDestWidth = param.svg_dest_width;
        this._showOuter = param['show_outer'];
        [this.themeCity, this.themeLine, this._themeColour, this._fgColour] = param.theme;
        this.yPc = param['y_pc'];
        this._padding = param['padding'];
        this._stripPc = param['strip_pc'];
        this._branchSpacing = param.branch_spacing;
        this._lineNames = param['line_name'];
        for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
            this.stations[stnId] = this._initStnInstance(stnId, stnInfo);
        }
        this._currentStnId = param['current_stn_idx'];
        this._direction = param['direction'];
        this._platformNum = param['platform_num'];
        // Calculate other properties of stations
        for (let stnId of Object.keys(this.stations)) {
            this._updateStnInstance(stnId);
        }
    }
    _initStnInstance(stnId, stnInfo) {
        return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["RMGStation"](stnId, stnInfo);
    }
    /**
     * Update the following properties of `RMGStation` instance.
     * * `x`
     * * `y`
     * * `state`
     * * plus style specific properties
     */
    _updateStnInstance(stnId) {
        if (['linestart', 'lineend'].includes(stnId)) {
            return;
        }
        let instance = this.stations[stnId];
        instance.x = this._stnRealX(stnId);
        instance.y = this._stnRealY(stnId);
        instance.state = this._stnState(stnId);
    }
    /**
     * Width (in pixels) of `svg#destination`.
     */
    // get svgDestWidth() {return getParams().svg_dest_width;}
    set svgDestWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgDestWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_dest_width', val);
        this.drawSVGFrame();
        this.drawStrip();
        this.drawDestInfo();
    }
    /**
     * Setter of width of `svg#railmap`.
     */
    set svgWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_width', val);
        this.drawSVGFrame();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
    }
    /**
     * Setter of vertical position of line (y).
     * @param val Percentage of vertical position, given fixed `svgHeight`
     */
    set yPc(val) {
        this._yPc = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('y_pc', val);
        let y = val * this._svgHeight / 100;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        val = Number(val);
        this._padding = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('padding', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
    }
    set branchSpacing(val) {
        this._branchSpacing = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('branch_spacing', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
    }
    set themeColour(hexs) {
        this._themeColour = hexs[0];
        this._fgColour = hexs[1];
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.theme[2] = hexs[0];
        param.theme[3] = hexs[1];
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.fillThemeColour();
    }
    /**
     * Setter of train direction.
     */
    set direction(val) {
        this._direction = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
    }
    /**
     * Setter of platform number (can be string).
     */
    set platformNum(val) {
        this._platformNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('platform_num', val);
        $('.rmg-name__platformnum').text(val);
    }
    /**
     * Setter of names of line.
     */
    set lineNames(val) {
        this._lineNames = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_name', val);
    }
    /**
     * Setter of current station.
     */
    set currentStnId(val) {
        this._currentStnId = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('current_stn_idx', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
    }
    /**
     * Increment of the weight of out-bound edge of a station, which increases the horizontal interval from its children.
     */
    _rightWideFactor(stnId) {
        return 0;
    }
    /**
     * Increment of the weight of in-bound edge of a station, which increases the horizontal interval from its parents.
     */
    _leftWideFactor(stnId) {
        return 0;
    }
    /**
     * Path weight from station 1 to station 2 (station 2 must be a child of station 1, otherwise return `-Infinity`).
     */
    _pathWeight(stnId1, stnId2) {
        if (!this.stations[stnId1].children.includes(stnId2)) {
            return -Infinity;
        }
        return 1 + this._rightWideFactor(stnId1) + this._leftWideFactor(stnId2);
    }
    /**
     * Critical path and corresponding length from a station to another.
     * @param from ID of station on the left
     * @param to ID of station on the left
     */
    _cp(from, to) {
        let self = this;
        if (from == to) {
            return { len: 0, nodes: [from] };
        }
        let allLengths = [];
        let criticalPaths = [];
        this.stations[from].children.forEach(child => {
            let cp = self._cp(child, to);
            if (cp.len < 0) {
                return;
            }
            allLengths.push(this._pathWeight(from, child) + cp.len);
            cp.nodes.unshift(from);
            criticalPaths.push(cp.nodes);
        });
        let maxLength = Math.max(...allLengths);
        return {
            'len': maxLength,
            'nodes': criticalPaths[allLengths.indexOf(maxLength)]
        };
    }
    /**
     * Getter of critical path (from left to right) and corresponding length of the entire line.
     */
    get criticalPath() {
        let allLengths = [];
        let criticalPaths = [];
        this.leftDests.forEach(ld => {
            this.rightDests.forEach(rd => {
                let cp = this._cp(ld, rd);
                allLengths.push(cp.len);
                criticalPaths.push(cp.nodes);
            });
        });
        let maxLen = Math.max(...allLengths);
        return {
            'len': maxLen,
            'nodes': criticalPaths[allLengths.indexOf(maxLen)]
        };
    }
    _topoOrder(from, tpo = []) {
        var self = this;
        tpo.push(from);
        this.stations[from].children.forEach(child => {
            if (this._stnIndegree(child) == 2 && this.stations[child].parents.indexOf(from) == 0) {
                // wait the other branch
                return;
            }
            tpo.concat(self._topoOrder(child, tpo));
        });
        return tpo;
    }
    get tpo() {
        let res = this._topoOrder('linestart');
        return res.slice(1, res.length - 1);
    }
    get stripY() { return this._stripPc * this._svgHeight / 100; }
    get turningRadius() { return this._branchSpacing / 2 * (Math.sqrt(2) / (Math.sqrt(2) - 1)); }
    get lineXs() {
        return [
            this._svgWidth * this._padding / 100,
            this._svgWidth * (1 - this._padding / 100)
        ];
    }
    get leftDests() { return this.stations.linestart.children; }
    get rightDests() { return this.stations.lineend.parents; }
    get lValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart')[0])));
    }
    get rValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart').reverse()[0])));
    }
    /**
     * Indegree of a station node.
     */
    _stnIndegree(stnId) { return this.stations[stnId].inDegree; }
    /**
     * Outdegree of a station node.
     */
    _stnOutdegree(stnId) { return this.stations[stnId].outDegree; }
    /**
     * Horizontal position (in shares) of station icon.
     */
    _stnXShare(stnId) {
        var self = this;
        var cp = this.criticalPath;
        if (cp.nodes.includes(stnId)) {
            return this._cp(cp.nodes[0], stnId).len;
        }
        var partSource = stnId;
        var partSink = stnId;
        var leftOpenJaw = false;
        var rightOpenJaw = false;
        while (true) {
            var parent = this.stations[partSource].parents[0];
            if (parent == 'linestart') {
                leftOpenJaw = true;
                break;
            }
            partSource = parent;
            if (this._stnOutdegree(partSource) > 1) {
                break;
            }
        }
        while (true) {
            var children = this.stations[partSink].children;
            if (children[0] != 'lineend') {
                partSink = children[0];
            }
            else {
                rightOpenJaw = true;
                break;
            }
            if (this._stnIndegree(partSink) > 1) {
                break;
            }
        }
        var lengthToSource = this._cp(partSource, stnId).len;
        var lengthToSink = this._cp(stnId, partSink).len;
        if (leftOpenJaw) {
            var actualPartLength = this._cp(cp.nodes[0], partSink).len;
            return self._stnXShare(partSink) - lengthToSink / (lengthToSource + lengthToSink) * actualPartLength;
        }
        else if (rightOpenJaw) {
            var actualPartLength = this._cp(partSource, cp.nodes.slice(-1)[0]).len;
        }
        else {
            var actualPartLength = this._cp(partSource, partSink).len;
        }
        return self._stnXShare(partSource) + lengthToSource / (lengthToSource + lengthToSink) * actualPartLength;
    }
    /**
     * Horizontal position (in pixels) of station icon.
     */
    _stnRealX(stnId) {
        let [lineStart, lineEnd] = this.lineXs;
        return lineStart + this._stnXShare(stnId) / this.criticalPath.len * (lineEnd - lineStart);
    }
    /**
     * Mirror `_stnYShareMTR`.
     */
    _stnYShare(stnId) {
        return this._stnYShareMTR(stnId);
    }
    /**
     * Vertical position (in shares) of station icon if using MTR style (for consistency of method `RMGLine.newStnPossibleLoc()`).
     */
    _stnYShareMTR(stnId) {
        if (['linestart', 'lineend'].includes(stnId) || this._stnIndegree(stnId) > 1 || this._stnOutdegree(stnId) > 1) {
            return 0;
        }
        var stnPred = this.stations[stnId].parents[0];
        let self = this;
        if (stnPred) {
            // parent exist
            if (this._stnOutdegree(stnPred) == 1) {
                // no sibling, then y same as parent
                return self._stnYShareMTR(stnPred);
            }
            else {
                // sibling exists, then y depends on its idx of being children
                return (this.stations[stnPred].children.indexOf(stnId) == 0) ? 1 : -1;
            }
        }
        else {
            // no parent, must be linestart
            return 0;
        }
    }
    /**
     * Vertical position (in pixels) of station icon related to vertical position of line.
     */
    _stnRealY(stnId) {
        return -this._stnYShare(stnId) * this._branchSpacing;
    }
    /**
     * Return true if station 2 is a successor of station 1, false otherwise.
     */
    _isSuccessor(stnId1, stnId2) {
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx1 < idx2) {
                return true;
            }
        }
        return false;
    }
    /**
     * Return true if station 2 is a predecessor of station 1, false otherwise.
     */
    _isPredecessor(stnId1, stnId2) {
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx2 < idx1) {
                return true;
            }
        }
        return false;
    }
    /**
     * Return state of a station (-1: passed, 0: current, 1: future).
     */
    _stnState(stnId) {
        if (stnId == this._currentStnId) {
            return 0;
        }
        if (this._direction == 'r') {
            return this._isSuccessor(this._currentStnId, stnId) ? 1 : -1;
        }
        else {
            return this._isPredecessor(this._currentStnId, stnId) ? 1 : -1;
        }
    }
    /**
     * Set height and width for both `svg`s.
     */
    drawSVGFrame() {
        $('#railmap, #outer').attr({
            width: this._svgWidth,
            height: this._svgHeight
        });
        $('#destination, #dest_outer').attr({
            width: this._svgDestWidth,
            height: this._svgHeight
        });
    }
    /**
     * Show border of both `svg`s, but the stroke colour of the borders are currently set as `none`.
     */
    showFrameOuter() {
        // var outerColour = this._showOuter ? 'black' : 'none';
        // $('#outer, #dest_outer').attr('stroke', outerColour);
        if (this._showOuter) {
            $('#outer, #dest_outer').show();
        }
        else {
            $('#outer, #dest_outer').hide();
        }
    }
    /**
     * Draw all stations. (Previously drawn station icons are not removed. )
     */
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    get stnDX() { return this.turningRadius - this._branchSpacing / 2; }
    ;
    get stnDY() { return this._branchSpacing / 2; }
    ;
    get stnExtraH() {
        var [lineStart, lineEnd] = this.lineXs;
        return (lineEnd - lineStart) / this.criticalPath.len * this._longInterval;
    }
    get stnSpareH() {
        var [lineStart, lineEnd] = this.lineXs;
        var dh = ((lineEnd - lineStart) / this.criticalPath.len - 2 * this.stnDX) / 2;
        if (dh < 0) {
            console.warn(`SVG width too small! ${dh}`);
        }
        return dh;
    }
    get pathTurnENE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnNEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnESE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${this.stnDY}`; }
    ;
    get pathTurnSEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${this.stnDY}`; }
    ;
    /**
     * Generate `d` attribute of `<path>` element through all stations input.
     */
    _linePath(stnIds) {
        var [prevId, prevY, prevX] = [];
        var path = [];
        var { stnExtraH, stnSpareH, pathTurnESE, pathTurnSEE, pathTurnENE, pathTurnNEE, stnDX } = this;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path.push(`M ${x},${y}`);
                return;
            }
            if (y > prevY) {
                path.push(y === 0 ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnESE, pathTurnSEE);
            }
            else if (y < prevY) {
                path.push(y === 0 ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnENE, pathTurnNEE);
            }
            path.push(`H ${x}`);
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // simplify path
        return path.join(' ').replace(/( H ([\d.]+))+/g, ' H $2');
    }
    drawLine() {
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns) }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns) }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    drawStrip() {
        // $('#strip, #dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`)
        $('#strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`);
        $('#dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgDestWidth}`);
    }
    fillThemeColour() {
        $('#line_main, #strip, #dest_strip').attr('stroke', this._themeColour);
        $('#dest_name > #platform > circle').attr('fill', this._themeColour);
    }
    drawDestInfo() {
        //
    }
    updateStnName(stnId, names, stnNum) {
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].name = names;
        param.stn_list[stnId].num = stnNum;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId].name = names;
        // this.stations[stnId]._nameZH = nameZH;
        // this.stations[stnId]._nameEN = nameEN;
        this.stations[stnId].stnNum = stnNum;
        $(`#stn_icons #${stnId}`).remove();
        $('#stn_icons').append(this.stations[stnId].html);
        $('#stn_icons').html($('#stn_icons').html());
        if (this.leftDests.includes(stnId) && this._direction == 'l') {
            this.drawDestInfo();
        }
        else if (this.rightDests.includes(stnId) && this._direction == 'r') {
            this.drawDestInfo();
        }
    }
    updateStnServices(stnId, detail) {
        if (detail.selected) {
            if (this.stations[stnId].services.has(detail.chipId)) {
                return;
            }
            else {
                this.stations[stnId].services.add(detail.chipId);
            }
        }
        else {
            if (!this.stations[stnId].services.delete(detail.chipId)) {
                return;
            }
        }
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].services = Array.from(this.stations[stnId].services);
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        // redraw station on demand
    }
    updateStnTransfer(stnId, type, info = null) {
        var prevClass = this.stations[stnId].constructor.name;
        // V2.6 data structure
        let changeType = type.split('_')[0];
        let tick_direc = (type === 'none' || type === 'int2') ? 'r' : type.split('_')[1].split('').slice().reverse()[0];
        let paid_area = (type.indexOf('osi') !== -1) ? type.split('_')[1][0] === 'p' : true;
        let osi_names = (type.indexOf('osi') !== -1) ? [info[1][0]] : [];
        let transferInfo = info.length === 2 ? [info[0], info[1].slice(1)] : info;
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].change_type = type;
        if (type == 'none') {
            param.stn_list[stnId].interchange = [[]];
            param.stn_list[stnId].transfer = {
                type: changeType,
                tick_direc: tick_direc,
                paid_area: paid_area,
                osi_names: [],
                info: [[]]
            };
        }
        else {
            // param.stn_list[stnId].transfer = info;
            param.stn_list[stnId].interchange = info;
            param.stn_list[stnId].transfer = {
                type: changeType,
                tick_direc: tick_direc,
                paid_area: paid_area,
                osi_names: osi_names,
                info: transferInfo
            };
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId] = this._initStnInstance(stnId, param.stn_list[stnId]);
        // if (prevClass != this.stations[stnId].constructor.name) {
        // Not sure position, redraw all
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            this._updateStnInstance(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        // } else {
        //     this.stations[stnId].x = this._stnRealX(stnId);
        //     this.stations[stnId].y = this._stnRealY(stnId);
        //     this.stations[stnId].namePos = this._txtFlip ? !this._stnNamePos(stnId) : this._stnNamePos(stnId);
        //     this.stations[stnId].state = this._stnState(stnId);
        //     $(`#stn_icons #${stnId}`).remove();
        //     $('#stn_icons').append(this.stations[stnId].html);
        //     $('#stn_icons').html($('#stn_icons').html());
        // }
    }
    removeStn(stnId) {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        var parents = this.stations[stnId].parents;
        var children = this.stations[stnId].children;
        var isLastMainBranchStn = true;
        for (let id in this.stations) {
            if ([stnId, 'linestart', 'lineend'].includes(id)) {
                continue;
            }
            if (this._stnYShareMTR(id) == 0) {
                isLastMainBranchStn = false;
                break;
            }
        }
        if (parents.length == 2 && children.length == 2) {
            // To be rewritten, join two branches
            return false;
        }
        else if (isLastMainBranchStn) {
            // Last main line station
            return false;
        }
        else if (Object.keys(param.stn_list).length == 4) {
            // Last two stations
            return false;
        }
        else if (parents.length == 2 || children.length == 2) {
            parents.forEach(parId => {
                param.stn_list[parId].children = children;
                this.stations[parId].children = children;
            });
            children.forEach(childId => {
                param.stn_list[childId].parents = parents;
                this.stations[childId].parents = parents;
            });
            if (parents.length == 1) {
                param.stn_list[parents[0]].branch.right = this.stations[stnId].branch.right;
                this.stations[parents[0]].branch.right = this.stations[stnId].branch.right;
            }
            if (children.length == 1) {
                param.stn_list[children[0]].branch.left = this.stations[stnId].branch.left;
                this.stations[children[0]].branch.left = this.stations[stnId].branch.left;
            }
        }
        else if (this._stnOutdegree(parents[0]) == 2 && this._stnIndegree(children[0]) == 2) {
            // 1 par 1 child, last station on upper/lower branch
            // branch disappear
            var childIdxOfPar = this.stations[parents[0]].children.indexOf(stnId);
            var parIdxOfChild = this.stations[children[0]].parents.indexOf(stnId);
            param.stn_list[parents[0]].children.splice(childIdxOfPar, 1);
            this.stations[parents[0]].children.splice(childIdxOfPar, 1);
            param.stn_list[children[0]].parents.splice(parIdxOfChild, 1);
            this.stations[children[0]].parents.splice(parIdxOfChild, 1);
            param.stn_list[parents[0]].branch.right = [];
            this.stations[parents[0]].branch.right = [];
            param.stn_list[children[0]].branch.left = [];
            this.stations[children[0]].branch.left = [];
        }
        else {
            // 1 par 1 child
            parents.forEach(parId => {
                var idx = param.stn_list[parId].children.indexOf(stnId);
                if (children.length) {
                    param.stn_list[parId].children[idx] = children[0];
                    this.stations[parId].children[idx] = children[0];
                }
                else {
                    // Right dest
                    param.stn_list[parId].children.splice(idx, 1);
                    this.stations[parId].children.splice(idx, 1);
                }
                if (this.stations[parId].branch.right[1] === stnId) {
                    this.stations[parId].branch.right[1] = children[0];
                    param.stn_list[parId].branch.right[1] = children[0];
                }
            });
            children.forEach(childId => {
                var idx = param.stn_list[childId].parents.indexOf(stnId);
                if (parents.length) {
                    param.stn_list[childId].parents[idx] = parents[0];
                    this.stations[childId].parents[idx] = parents[0];
                }
                else {
                    // Left dest
                    param.stn_list[childId].parents.splice(idx, 1);
                    this.stations[childId].parents.splice(idx, 1);
                }
                if (this.stations[childId].branch.left[1] === stnId) {
                    this.stations[childId].branch.left[1] = parents[0];
                    param.stn_list[childId].branch.left[1] = parents[0];
                }
            });
        }
        delete param.stn_list[stnId];
        delete this.stations[stnId];
        var isCurrentStnChanged = false;
        if (this._currentStnId == stnId) {
            var newCurrentStnId = Object.keys(this.stations)[2];
            this._currentStnId = newCurrentStnId;
            param.current_stn_idx = newCurrentStnId;
            isCurrentStnChanged = true;
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        parents.concat(children).forEach(neId => {
            if (['linestart', 'lineend'].includes(neId)) {
                return;
            }
            this.stations[neId] = this._initStnInstance(neId, param.stn_list[neId]);
        });
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            this._updateStnInstance(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        return true;
    }
    newStnPossibleLoc(prep, stnId) {
        var deg = (prep == 'before') ? this._stnIndegree(stnId) : this._stnOutdegree(stnId);
        switch (deg) {
            case 2:
                // 1 -> 2
                return [1, 1, 1, [], []];
            case 1:
                if (this._stnYShareMTR(stnId) == 0) {
                    // 1 -> 1
                    let state = this.newBranchPossibleEnd(prep, stnId);
                    state = (state.length) ? state : [];
                    return [1, 0, 0, state, state];
                    // [1,0,0,1,1];
                }
                else if (this._stnYShareMTR(stnId) < 0) {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                }
                else {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                }
        }
        return [0, 0, 0, [], []];
    }
    newBranchPossibleEnd(prep, stnId) {
        let res = [];
        if (prep == 'before') {
            while (this._stnIndegree(stnId) == 1) {
                stnId = this.stations[stnId].parents[0];
                res.unshift(stnId);
            }
            res.pop();
        }
        else {
            while (this._stnOutdegree(stnId) == 1) {
                stnId = this.stations[stnId].children[0];
                res.push(stnId);
            }
            res.shift();
        }
        return res;
    }
    addStn(prep, stnId, loc, end) {
        let newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        while (Object.keys(this.stations).includes(newId)) {
            newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        }
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        let newInfo = {};
        if (prep == 'before') {
            if (loc == 'centre') {
                newInfo.parents = this.stations[stnId].parents;
                if (this._stnIndegree(stnId) == 0 && this._stnYShareMTR(stnId) != 0) {
                    newInfo.children = this.leftDests;
                }
                else if (this._stnYShareMTR(stnId) != 0) {
                    // pivot on branch
                    newInfo.children = this.stations[this.stations[stnId].parents[0]].children;
                    newInfo.branch = {
                        left: [],
                        right: this.stations[newInfo.parents[0]].branch.right
                    };
                    this.stations[newInfo.parents[0]].branch.right = [];
                    param.stn_list[newInfo.parents[0]].branch.right = [];
                }
                else {
                    // pivot on main
                    newInfo.children = [stnId];
                    newInfo.branch = {
                        left: this.stations[stnId].branch.left,
                        right: []
                    };
                    this.stations[stnId].branch.left = [];
                    param.stn_list[stnId].branch.left = [];
                }
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[0]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(0, 1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[0] = newId;
                    param.stn_list[stnId].parents[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children[0] = newId;
                        param.stn_list[par].children[0] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[1]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[1] = newId;
                    param.stn_list[stnId].parents[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        let parChildLen = this.stations[par].children.length;
                        this.stations[par].children[parChildLen - 1] = newId;
                        param.stn_list[par].children[parChildLen - 1] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left = ['through', newId];
                param.stn_list[stnId].branch.left = ['through', newId];
                this.stations[end].branch.right = ['through', newId];
                param.stn_list[end].branch.right = ['through', newId];
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.unshift(newId);
                param.stn_list[end].children.unshift(newId);
                this.stations[stnId].parents.unshift(newId);
                param.stn_list[stnId].parents.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left = ['through', newId];
                param.stn_list[stnId].branch.left = ['through', newId];
                this.stations[end].branch.right = ['through', newId];
                param.stn_list[end].branch.right = ['through', newId];
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.push(newId);
                param.stn_list[end].children.push(newId);
                this.stations[stnId].parents.push(newId);
                param.stn_list[stnId].parents.push(newId);
            }
        }
        else {
            if (loc == 'centre') {
                newInfo.children = this.stations[stnId].children;
                if (this._stnOutdegree(stnId) == 0 && this._stnYShareMTR(stnId) != 0) {
                    newInfo.parents = this.rightDests;
                }
                else if (this._stnYShareMTR(stnId) != 0) {
                    // pivot on branch
                    newInfo.parents = this.stations[this.stations[stnId].children[0]].parents;
                    newInfo.branch = {
                        left: this.stations[newInfo.children[0]].branch.left,
                        right: []
                    };
                    this.stations[newInfo.children[0]].branch.left = [];
                    param.stn_list[newInfo.children[0]].branch.left = [];
                }
                else {
                    // pivot on main
                    newInfo.parents = [stnId];
                    newInfo.branch = {
                        left: [],
                        right: this.stations[stnId].branch.right
                    };
                    this.stations[stnId].branch.right = [];
                    param.stn_list[stnId].branch.right = [];
                }
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[0]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(0, 1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[0] = newId;
                    param.stn_list[stnId].children[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents[0] = newId;
                        param.stn_list[child].parents[0] = newId;
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[1]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[1] = newId;
                    param.stn_list[stnId].children[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        if (this._stnIndegree(child) === 1) {
                            this.stations[child].parents[0] = newId;
                            param.stn_list[child].parents[0] = newId;
                        }
                        else {
                            this.stations[child].parents[1] = newId;
                            param.stn_list[child].parents[1] = newId;
                        }
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.unshift(newId);
                param.stn_list[end].parents.unshift(newId);
                this.stations[stnId].children.unshift(newId);
                param.stn_list[stnId].children.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.push(newId);
                param.stn_list[end].parents.push(newId);
                this.stations[stnId].children.push(newId);
                param.stn_list[stnId].children.push(newId);
            }
        }
        newInfo.name = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getNameFromId"])(newId);
        newInfo.change_type = 'none';
        newInfo.num = '00';
        newInfo.interchange = [[]];
        newInfo.services = ['local'];
        newInfo.transfer = {
            info: [[]],
            type: 'none',
            osi_names: [],
            paid_area: true,
            tick_direc: 'r'
        };
        param.stn_list[newId] = newInfo;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[newId] = this._initStnInstance(newId, newInfo);
        this.stations[stnId] = this._initStnInstance(stnId, Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId]);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            this._updateStnInstance(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        return [newId, newInfo];
    }
    reverseStns() {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (stnId === 'linestart') {
                param.stn_list['lineend'].parents = stnInstance.children.reverse();
                param.stn_list['lineend'].branch = {
                    left: stnInstance.branch.right,
                    right: []
                };
            }
            else if (stnId === 'lineend') {
                param.stn_list['linestart'].children = stnInstance.parents.reverse();
                param.stn_list['linestart'].branch = {
                    left: [],
                    right: stnInstance.branch.left
                };
            }
            else {
                var tmpArr = stnInstance.children.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].children = stnInstance.parents.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].parents = tmpArr;
                param.stn_list[stnId].branch.left = stnInstance.branch.right;
                param.stn_list[stnId].branch.right = stnInstance.branch.left;
            }
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        location.reload(true);
    }
    updateBranchType(stnId, direction, type) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][0] === type) {
            return false;
        }
        this.stations[stnId].branch[direc][0] = type;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].branch[direc][0] = type;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        return true;
    }
    updateBranchFirst(stnId, direction, first) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][1] === first) {
            return false;
        }
        let branchEndId = first;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            let branchFirstIdx = this.stations[stnId].children.indexOf(first);
            this.stations[stnId].branch.right[1] = param.stn_list[stnId].branch.right[1] = first;
            this.stations[branchEndId].branch.left[1] = param.stn_list[branchEndId].branch.left[1] = this.stations[branchEndId].parents[branchFirstIdx];
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            let branchFirstIdx = this.stations[stnId].parents.indexOf(first);
            this.stations[stnId].branch.left[1] = param.stn_list[stnId].branch.left[1] = first;
            this.stations[branchEndId].branch.right[1] = param.stn_list[branchEndId].branch.right[1] = this.stations[branchEndId].children[branchFirstIdx];
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        return true;
    }
    updateBranchPos(stnId, direction, pos) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (direc === 'right') {
            if (this.stations[stnId].children.indexOf(this.stations[stnId].branch.right[1]) === pos) {
                return false;
            }
        }
        else {
            if (this.stations[stnId].parents.indexOf(this.stations[stnId].branch.left[1]) === pos) {
                return false;
            }
        }
        let branchEndId = this.stations[stnId].branch[direc][1];
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            this.stations[stnId].children.reverse();
            param.stn_list[stnId].children.reverse();
            this.stations[branchEndId].parents.reverse();
            param.stn_list[branchEndId].parents.reverse();
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            this.stations[stnId].parents.reverse();
            param.stn_list[stnId].parents.reverse();
            this.stations[branchEndId].children.reverse();
            param.stn_list[branchEndId].children.reverse();
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        return true;
    }
    static clearSVG() {
        $('#stn_icons, #line_main, #line_pass').empty();
    }
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        line.fillThemeColour();
        line.drawLine();
        line.drawStrip();
        line.drawDestInfo();
    }
    /**
     * Getter of all branches (支線段) of the line. The first branch must be the main line.
     */
    get branches() {
        var stack = ['linestart'];
        var branches = [[]];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount][0] || null;
            var curBranch = [curId];
            if (prevId) {
                curBranch.unshift(prevId);
            }
            while (true) {
                if (curId == 'lineend') {
                    break;
                }
                if (curId != 'linestart' && prevId == this.stations[curId].branch.left[1]) {
                    // branch ends
                    break;
                }
                else {
                    prevId = curId;
                    var children = this.stations[prevId].children;
                    switch (children.length) {
                        case 1:
                            curId = children[0];
                            break;
                        case 2:
                            branches.push([prevId]);
                            if (prevId == 'linestart') {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            else {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            // var branchNextId = getParams().stn_list[prevId].branch.right[1];
                            stack.push(branchNextId);
                            curId = children.filter(stnId => stnId != branchNextId)[0];
                            break;
                    }
                    curBranch.push(curId);
                }
            }
            branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches.map(branch => {
            return branch.filter(stnId => !['linestart', 'lineend'].includes(stnId));
        });
    }
    /**
     * Getter of routes (行車交路) of the line. The first route must be the main line.
     */
    get routes() {
        var stack = ['linestart'];
        var branches = [['linestart']];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount].slice().reverse()[0] || null;
            if (prevId && curId !== 'linestart') {
                branches[branchCount].push(curId);
            }
            else {
                branches[branchCount] = [curId];
            }
            while (curId !== 'lineend') {
                prevId = curId;
                var children = this.stations[prevId].children;
                switch (children.length) {
                    case 1:
                        curId = children[0];
                        break;
                    case 2:
                        var branchNextId = this.stations[prevId].branch.right[1];
                        // if (branchCount === 0) {
                        if (this.stations[prevId].branch.right[0] === 'through') {
                            branches.push(branches[branchCount].slice());
                            stack.push(branchNextId);
                        }
                        else {
                            if (branchCount === 0) {
                                branches.push([prevId]);
                                stack.push(branchNextId);
                            }
                            // branches.push([prevId]);
                        }
                        // stack.push(branchNextId);
                        // }
                        curId = children.filter(stnId => stnId != branchNextId)[0];
                        break;
                }
                branches[branchCount].push(curId);
                if (prevId === this.stations[curId].branch.left[1] && this.stations[curId].branch.left[0] === 'nonthrough') {
                    break;
                }
            }
            // branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches;
    }
}


/***/ }),

/***/ "./src/Line/init.ts":
/*!**************************!*\
  !*** ./src/Line/init.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_1__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


const getLineClass = (style) => __awaiter(void 0, void 0, void 0, function* () {
    switch (style) {
        case 'mtr':
            return __webpack_require__.e(/*! import() | LineHK */ "LineHK").then(__webpack_require__.bind(null, /*! ./LineHK */ "./src/Line/LineHK.ts"))
                .then(({ RMGLineHK }) => RMGLineHK);
        case 'gzmtr':
            return __webpack_require__.e(/*! import() | LineGZ */ "LineGZ").then(__webpack_require__.bind(null, /*! ./LineGZ */ "./src/Line/LineGZ.ts"))
                .then(({ RMGLineGZ }) => RMGLineGZ);
        case 'shmetro':
            return __webpack_require__.e(/*! import() | LineSH */ "LineSH").then(__webpack_require__.bind(null, /*! ./LineSH */ "./src/Line/LineSH.ts"))
                .then(({ RMGLineSH }) => RMGLineSH);
        // any other styles
    }
});
/* harmony default export */ __webpack_exports__["default"] = (function () {
    const loadLine = (param) => __awaiter(this, void 0, void 0, function* () {
        let lineClass = yield getLineClass(window.urlParams.get('style'));
        window.myLine = yield new lineClass(param);
        lineClass.initSVG(window.myLine);
    });
    if (localStorage.rmgParam != null) {
        try {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        }
        catch (err) {
            let initErrDiag = _material_dialog__WEBPACK_IMPORTED_MODULE_1__["MDCDialog"].attachTo($('#init_err_diag')[0]);
            $('#init_err_diag')
                .find('#err_stack')
                .html(err + '<br>' + err.stack.replace(/\n/g, '<br>'));
            initErrDiag.open();
            console.error(err);
        }
    }
    else {
        $.getJSON(`templates/blank.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        });
    }
});


/***/ }),

/***/ "./src/PageInitialiser/init.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/init.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/tab-bar */ "@material/tab-bar");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_material_tab_bar__WEBPACK_IMPORTED_MODULE_0__);

/* harmony default export */ __webpack_exports__["default"] = (function () {
    let firstInit = [false, true, true, true, true];
    window.sliders = [];
    _material_tab_bar__WEBPACK_IMPORTED_MODULE_0__["MDCTabBar"].attachTo($('#panels .mdc-tab-bar')[0]).listen('MDCTabBar:activated', (event) => {
        $('.panel--active').removeClass('panel--active');
        $('.panel').eq(event.detail.index).addClass('panel--active');
        if (event.detail.index == 1 && firstInit[1]) {
            __webpack_require__.e(/*! import() | initLayout */ "initLayout").then(__webpack_require__.bind(null, /*! ./layout */ "./src/PageInitialiser/layout.ts"))
                .then(module => {
                module.common();
                if (window.urlParams.get('style') === 'gzmtr') {
                    module.gzmtr();
                }
                firstInit[1] = false;
            });
        }
        if (event.detail.index === 1) {
            window.sliders.forEach(slider => slider.layout());
        }
        if (event.detail.index == 2 && firstInit[2]) {
            __webpack_require__.e(/*! import() | initDesign */ "initDesign").then(__webpack_require__.bind(null, /*! ./design */ "./src/PageInitialiser/design.ts"))
                .then(module => {
                module.common();
                switch (window.urlParams.get('style')) {
                    case 'mtr':
                        module.mtr();
                        break;
                    case 'gzmtr':
                        module.gzmtr();
                        break;
                }
                firstInit[2] = false;
            });
        }
        if (event.detail.index == 3 && firstInit[3]) {
            Promise.all(/*! import() | initStations */[__webpack_require__.e("vendors~initStations"), __webpack_require__.e("initStations")]).then(__webpack_require__.bind(null, /*! ./stations */ "./src/PageInitialiser/stations.ts"))
                .then(module => {
                module.common();
                firstInit[3] = false;
            });
        }
        if (event.detail.index == 4 && firstInit[4]) {
            __webpack_require__.e(/*! import() | initInfo */ "initInfo").then(__webpack_require__.bind(null, /*! ./info */ "./src/PageInitialiser/info.ts"))
                .then(module => {
                module.common();
                firstInit[4] = false;
            });
        }
    });
});


/***/ }),

/***/ "./src/PageInitialiser/save.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/save.ts ***!
  \*************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Line_Line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Line/Line */ "./src/Line/Line.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/list */ "@material/list");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_list__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/ripple */ "@material/ripple");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_ripple__WEBPACK_IMPORTED_MODULE_4__);





function common() {
    // mdc intances 
    const [templateDialog, importDialog, exportDialog, previewDialog, styleDialog, langDialog] = ['#template_diag', '#import_diag', '#export_diag', '#preview_diag', '#style_diag', '#lang_diag']
        .map(selector => _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($(selector)[0]));
    const [saveList0, saveList1] = $('#panel_save .mdc-list').map((_, el) => _material_list__WEBPACK_IMPORTED_MODULE_3__["MDCList"].attachTo(el)).get();
    $('#panel_save .mdc-list li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_4__["MDCRipple"](el));
    saveList0.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                templateDialog.open();
                break;
            case 1:
                $('#upload_file').click();
                break;
            case 2:
                // var link = document.createElement('a');
                // var data = new Blob([localStorage.rmgParam], {type: 'application/json;charset=utf-8'});
                // var url = window.URL.createObjectURL(data);
                // link.href = url;
                // link.download = 'rmg_config.json';
                // link.click();
                // URL.revokeObjectURL(url);
                // break;
                var link = $('<a>', {
                    href: 'data:application/json;base64,' + btoa(unescape(encodeURIComponent(localStorage.rmgParam))),
                    download: 'rmg_param.json'
                });
                link[0].click();
                break;
            case 3:
                exportDialog.open();
                break;
        }
    });
    $('#panel_save .mdc-list:nth-child(2) li:first-child span:nth-child(2) span:last-child')
        .attr('trans-tag', $(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).attr('trans-tag'))
        .text($(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).text());
    $('#panel_save .mdc-list:nth-child(2) li:nth-child(2) span:nth-child(2) span:last-child')
        .text($(`#lang_diag [data-mdc-dialog-action="${window.urlParams.get('lang')}"] span`).text());
    saveList1.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                styleDialog.open();
                break;
            case 1:
                langDialog.open();
                break;
        }
    });
    $.getJSON('templates/template_list.json', data => {
        var lang = window.urlParams.get('lang');
        data.forEach(d => {
            $('#template_diag ul').append($('<li>', {
                class: "mdc-list-item",
                'data-mdc-dialog-action': d.filename
            }).append($('<span>', { class: "mdc-list-item__text" }).text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(d.desc, lang))));
        });
        $('#template_diag li:first-child').attr('tabindex', 0);
        $('#theme_line__selection li').map((_, el) => new _material_ripple__WEBPACK_IMPORTED_MODULE_4__["MDCRipple"](el));
    });
    templateDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        $.getJSON(`templates/${event.detail.action}.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            location.reload(true);
        });
    });
    exportDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
                break;
            case 'svg1':
                $('#preview_diag').attr('for', 'destination');
                previewDialog.open();
                break;
            case 'svg2':
                $('#preview_diag').attr('for', 'railmap');
                previewDialog.open();
                break;
        }
    });
    $(window).on('resize', _ => {
        resizeSVGPreview();
        // $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width()-32}px;`);
    });
    const resizeSVGPreview = () => {
        var svgId = $('preview_diag').attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $('#preview_diag')
            .find('svg')
            .attr({
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        });
        $('#preview_diag')
            .find('.mdc-dialog__surface')
            .attr('style', `max-width:${MAX_WIDTH + 50}px;`);
    };
    previewDialog.listen('MDCDialog:opened', event => {
        var svgId = $(event.target).attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width() - 32}px;`);
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $(event.target).find('.mdc-dialog__content')
            .append($('#' + $(event.target).attr('for')).clone().attr({
            style: 'all:initial;',
            viewBox: `0 0 ${thisSVGWidth} ${thisSVGHeight}`,
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        }));
        let cssTxt = ['share', $(event.target).find('svg')[0].id]
            .map(tag => {
            return Array.from($(`link#css_${tag}`)[0].sheet.cssRules).map(rule => rule.cssText).join(' ');
        });
        $(event.target).find('svg').prepend(...cssTxt.map(txt => $('<style>').text(txt)));
        $(event.target).find('svg [style="display: none;"]').remove();
    });
    previewDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action === 'close') {
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'png') {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["test"])($(event.target).removeAttr('for').find('svg'));
            $(event.target).find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'svg') {
            // Prepend css stylesheet to svg
            let svgContent = $(event.target).find('.mdc-dialog__content svg');
            // let cssTxt = ['share', svgContent[0].id]
            //     .map(tag => {
            //         return Array.from(
            //             ((<HTMLLinkElement>$(`link#css_${tag}`)[0]).sheet as CSSStyleSheet).cssRules
            //         ).map(rule => rule.cssText).join(' ');
            //     });
            // svgContent.prepend(
            //     ...cssTxt.map(txt => $('<style>').text(txt))
            // );
            var link = document.createElement('a');
            link.href = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgContent[0].outerHTML)));
            link.download = 'rmg_export.svg';
            link.click();
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
        }
    });
    let importedFile;
    $('#upload_file')
        .on('change', event => {
        console.log(event.target.files[0]);
        let reader = new FileReader();
        reader.onload = function (e) {
            console.log(e.target);
            importedFile = JSON.parse(e.target.result);
            $('#import_diag')
                .find('.mdc-dialog__content')
                .html(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["describeParams"])(importedFile));
            importDialog.open();
        };
        reader.readAsText(event.target.files[0]);
    });
    importDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            $('#upload_file')[0].value = '';
            return;
        }
        _Line_Line__WEBPACK_IMPORTED_MODULE_1__["RMGLine"].clearSVG();
        localStorage.rmgParam = JSON.stringify(importedFile);
        location.reload(true);
    });
    styleDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
            case window.urlParams.get('style'):
                return;
            default:
                window.urlParams.set('style', event.detail.action);
                window.location.href = '?' + window.urlParams.toString();
        }
    });
    langDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var nextLang = event.detail.action;
        localStorage.rmgLang = nextLang;
        if (nextLang == window.urlParams.get('lang')) {
            return;
        }
        else {
            window.urlParams.set('lang', nextLang);
            window.location.href = '?' + window.urlParams.toString();
        }
    });
}


/***/ }),

/***/ "./src/Station/Station.ts":
/*!********************************!*\
  !*** ./src/Station/Station.ts ***!
  \********************************/
/*! exports provided: RMGStation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStation", function() { return RMGStation; });
class RMGStation {
    constructor(id, data) {
        this.STN_NAME_Y = -10.5;
        this.STN_NAME_BASE_HEIGHT = 30.390625;
        this.STN_NAME_LINE_GAP = 14;
        this.STN_NAME_BG_ADJUST = 0.5;
        this.id = id;
        this.parents = data.parents;
        this.children = data.children;
        this.name = data.name;
        this.branch = data.branch;
        this.services = new Set(data.services);
    }
    get inDegree() { return this.parents.length; }
    get outDegree() { return this.children.length; }
    get nameClass() {
        switch (this.state) {
            case -1:
                return 'Pass';
            case 0:
                return 'Current';
            default:
                return 'Future';
        }
    }
    get _nameTxtAnchor() { return 'middle'; }
    get _nameDX() { return 0; }
    get _nameDY() { return 0; }
    get nameHTML() {
        var nameENs = this.name[1].split('\\');
        if (this.namePos) {
            var dy = this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BG_ADJUST;
        }
        else {
            var dy = -this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BASE_HEIGHT - (nameENs.length - 1) * 10;
        }
        // dy -= this.STN_NAME_BG_ADJUST;
        if (this.state === 0) {
            $('#current_bg').attr({
                y: this.y + dy + this.STN_NAME_Y - 1.5 + this._nameDY,
                height: this.STN_NAME_BASE_HEIGHT + (nameENs.length - 1) * 10 + 2 + 1.5
            });
        }
        var nameENp = nameENs.shift();
        var nameENElem = $('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__mtr--station'
        }).text(nameENp);
        while (nameENp = nameENs.shift()) {
            nameENElem.append($('<tspan>', { x: 0, dy: 10, 'alignment-baseline': 'middle' }).text(nameENp));
        }
        return $('<g>', {
            transform: `translate(${this.x + this._nameDX},${this.y + dy + this._nameDY})`,
            'text-anchor': this._nameTxtAnchor,
            'class': `Name ${this.nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--station').text(this.name[0])).append(nameENElem);
    }
    get iconClass() { return this.state == -1 ? 'rmg-stn__mtr--pass' : 'rmg-stn__mtr--future'; }
    get iconHTML() {
        return $('<use>', {
            'xlink:href': '#stn_hk',
            x: this.x, y: this.y,
            class: this.iconClass
        });
    }
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
}


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageInitialiser/save */ "./src/PageInitialiser/save.ts");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Line_init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line/init */ "./src/Line/init.ts");
/* harmony import */ var _PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageInitialiser/init */ "./src/PageInitialiser/init.ts");




var requestLang = window.urlParams.get('lang') || localStorage.rmgLang || navigator.language.split('-').slice(0, 2).join('-');
switch (requestLang.toLowerCase()) {
    case 'zh-cn':
    case 'zh-hans':
        window.urlParams.set('lang', 'zh-Hans');
        break;
    case 'zh':
    case 'zh-hk':
    case 'zh-tw':
        window.urlParams.set('lang', 'zh-HK');
        break;
    default: window.urlParams.set('lang', 'en');
}
switch (window.urlParams.get('style')) {
    case 'mtr':
    case 'gzmtr':
    case 'shmetro':
        break;
    default: window.urlParams.set('style', 'mtr');
}
history.pushState({ url: window.location.href }, null, '?' + window.urlParams.toString());
// load stylesheets on demand
jquery__WEBPACK_IMPORTED_MODULE_1__('head').append(...['share', 'destination', 'railmap']
    .map(tag => {
    return jquery__WEBPACK_IMPORTED_MODULE_1__('<link>', {
        rel: 'stylesheet',
        href: `styles/${tag}_${window.urlParams.get('style')}.css`,
        id: `css_${tag}`
    });
}));
window.myLine = null;
jquery__WEBPACK_IMPORTED_MODULE_1__(`[${window.urlParams.get('style')}-specific]`).show();
// autoInit();
_PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__["common"]();
Object(_Line_init__WEBPACK_IMPORTED_MODULE_2__["default"])();
Object(_PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__["default"])();


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: DirectionLong, NeighbourPl, IntInfoTag, putParams, getParams, setParams, test, getTxtBoxDim, joinIntName, getRandomId, getNameFromId, describeParams, countryCode2Emoji, rgb2Hex, updateParam, getTransText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionLong", function() { return DirectionLong; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NeighbourPl", function() { return NeighbourPl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntInfoTag", function() { return IntInfoTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "putParams", function() { return putParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParams", function() { return getParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setParams", function() { return setParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "test", function() { return test; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTxtBoxDim", function() { return getTxtBoxDim; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "joinIntName", function() { return joinIntName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRandomId", function() { return getRandomId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNameFromId", function() { return getNameFromId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "describeParams", function() { return describeParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "countryCode2Emoji", function() { return countryCode2Emoji; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb2Hex", function() { return rgb2Hex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateParam", function() { return updateParam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransText", function() { return getTransText; });
var DirectionLong;
(function (DirectionLong) {
    DirectionLong[DirectionLong["left"] = 0] = "left";
    DirectionLong[DirectionLong["right"] = 1] = "right";
})(DirectionLong || (DirectionLong = {}));
;
var NeighbourPl;
(function (NeighbourPl) {
    NeighbourPl[NeighbourPl["parents"] = 0] = "parents";
    NeighbourPl[NeighbourPl["children"] = 1] = "children";
})(NeighbourPl || (NeighbourPl = {}));
;
var IntInfoTag;
(function (IntInfoTag) {
    IntInfoTag[IntInfoTag["city"] = 0] = "city";
    IntInfoTag[IntInfoTag["line"] = 1] = "line";
    IntInfoTag[IntInfoTag["colour"] = 2] = "colour";
    IntInfoTag[IntInfoTag["fg"] = 3] = "fg";
    IntInfoTag[IntInfoTag["nameZH"] = 4] = "nameZH";
    IntInfoTag[IntInfoTag["nameEN"] = 5] = "nameEN";
})(IntInfoTag || (IntInfoTag = {}));
;
function putParams(instance) {
    localStorage.setItem('rmgParam', JSON.stringify(instance));
}
function getParams() {
    return JSON.parse(localStorage.rmgParam);
}
function setParams(key, data) {
    let param = getParams();
    param[key] = data;
    putParams(param);
}
function test(svgEl) {
    var [svgW, svgH] = svgEl.attr('viewBox').split(' ').slice(2);
    var canvas = $('canvas')[0];
    $('canvas').attr({
        width: svgW * 2.5, height: svgH * 2.5
    });
    var ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // bypass Chrome min font size (to be improved)
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--station, .rmg-name__en.rmg-name__mtr--station, .rmg-name__zh.IntName').each((_, el) => {
        $(el).attr('font-size', '10px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int').each((_, el) => {
        $(el).attr('font-size', '8px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int-small, .rmg-name__en.IntName').each((_, el) => {
        $(el).attr('font-size', '7px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--express').each((_, el) => {
        $(el).attr('font-size', '6.5px');
    });
    svgEl.find('text:not([font-size]), tspan:not([font-size])').each((_, el) => {
        $(el).attr('font-size', window.getComputedStyle(el).fontSize);
    });
    svgEl.find('text, tspan').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'font-family': elStyle.getPropertyValue('font-family'),
            'fill': elStyle.getPropertyValue('fill'),
            'alignment-baseline': elStyle.getPropertyValue('alignment-baseline'),
            'dominant-baseline': elStyle.getPropertyValue('dominant-baseline'),
            'text-anchor': elStyle.getPropertyValue('text-anchor')
        }).removeAttr('class');
    });
    svgEl.find('#strip, #dest_strip').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'stroke-width': elStyle.getPropertyValue('stroke-width')
        });
    });
    var img = new Image();
    img.onload = function () {
        ctx.drawImage(img, 0, 0, svgW * 2.5, svgH * 2.5);
        saveAs($('canvas')[0].toDataURL('image/png'), 'rmg_export');
    };
    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgEl[0].outerHTML)));
}
function saveAs(uri, filename) {
    var link = document.createElement('a');
    if (typeof link.download === 'string') {
        link.href = uri;
        link.download = filename;
        //Firefox requires the link to be in the body
        document.body.appendChild(link);
        //simulate click
        link.click();
        //remove the link when done
        document.body.removeChild(link);
    }
    else {
        window.open(uri);
    }
}
function getTxtBoxDim(elem, svg) {
    let svgNode = $('#' + svg)[0];
    let bcr = elem.getBoundingClientRect();
    let pt = svgNode.createSVGPoint();
    let ctm = svgNode.getScreenCTM();
    pt.x = bcr.left;
    pt.y = bcr.top;
    let pos = pt.matrixTransform(ctm.inverse());
    return { x: pos.x, y: pos.y, width: bcr.width, height: bcr.height };
}
function joinIntName(names, dy1, dy2) {
    var [nameZH, nameEN] = names.map(txt => txt.split(/\\/g));
    var res = $('<text>').addClass('rmg-name__zh IntName').text(nameZH[0]);
    for (let i = 1; i < nameZH.length; i++) {
        res = res.append($('<tspan>', { 'x': 0, 'dy': dy1, 'dominant-baseline': 'central' }).text(nameZH[i]));
    }
    var btwGap = (nameZH.length == 1) ? 9 : 9;
    res = res.append($('<tspan>', {
        'x': 0, 'dy': btwGap, 'class': 'rmg-name__en IntName'
    }).text(nameEN[0]));
    for (let i = 1; i < nameEN.length; i++) {
        res = res.append($('<tspan>', {
            'x': 0, 'dy': dy2, 'class': 'rmg-name__en IntName'
        }).text(nameEN[i]));
    }
    return [res, nameZH.length, nameEN.length];
}
function getRandomId() {
    return Math.floor(Math.random() * Math.pow(36, 4)).toString(36).padStart(4, '0');
}
function getNameFromId(stnId) {
    let numsZH = [
        '癸', '甲', '乙', '丙', '丁', '戊', '己', '庚', '辛', '壬',
        '日', '月', '金', '木', '水', '火', '土',
        '竹', '戈', '十', '大', '中', '一', '弓',
        '人', '心', '手', '口',
        '尸', '廿', '山', '女', '田', '難', '卜', '重'
    ];
    let numsEN = [
        'Zero', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine',
        'Alfa', 'Bravo', 'Charlie', 'Delta', 'Echo', 'Foxtrot', 'Golf',
        'Hotel', 'India', 'Juliett', 'Kilo', 'Lima', 'Mike', 'November',
        'Oscar', 'Papa', 'Quebec', 'Romeo',
        'Sierra', 'Tango', 'Uniform', 'Victor', 'Whiskey', 'X-ray', 'Yankee', 'Zulu'
    ];
    return [
        stnId.split('').map(char => numsZH[parseInt(char, 36)]).join(''),
        stnId.split('').map(char => numsEN[parseInt(char, 36)]).join(' ')
    ];
}
function describeParams(param) {
    return `Number of stations: ${Object.keys(param.stn_list).length - 2}
            ${Object.entries(param.stn_list).map(x => ['linestart', 'lineend'].includes(x[0]) ? '' : x[1].name.join(' - ')).join('<br>').trim().replace(/\\/, ' ')}`;
}
function countryCode2Emoji(code) {
    var chars = code.toUpperCase().split('');
    if (code.length == 2) {
        return chars.map(char => String.fromCodePoint((char.codePointAt(0) + 127397))).join('');
    }
    else {
        return '\u{1f3f4}' + chars.map(char => String.fromCodePoint((char.codePointAt(0) + 917536))).join('') + '\u{e007f}';
    }
}
function rgb2Hex(rgb) {
    let hex = rgb.match(/[\d]+/g)
        .map(dec => Number(dec).toString(16).padStart(2, '0'))
        .join('');
    switch (hex) {
        case '000000': return '#000';
        case 'ffffff': return '#fff';
        default: return '#' + hex;
    }
}
function updateParam() {
    var param = getParams();
    // Version 0.10
    if (!('line_name' in param)) {
        param.line_name = ['路線名', 'Name of Line'];
    }
    if (!('dest_legacy' in param)) {
        param.dest_legacy = false;
    }
    // Version 0.11
    if (!('char_form' in param)) {
        param.char_form = (region => {
            switch (region) {
                case 'KR': return 'trad';
                case 'TC': return 'tw';
                case 'SC': return 'cn';
                case 'JP': return 'jp';
            }
        })(param.fontZH[0].split(' ').reverse()[0]);
    }
    delete param.fontZH;
    delete param.fontEN;
    delete param.weightZH;
    delete param.weightEN;
    // Version 0.12
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        // if (['linestart', 'lineend'].includes(stnId)) {continue;}
        // if ('transfer' in stnInfo) {
        //     delete param.stn_list[stnId].interchange;
        //     switch (stnInfo.change_type) {
        //         case 'int2':
        //             param.stn_list[stnId].interchange = [[stnInfo.transfer[1]]];
        //             break;
        //         case 'int3_l':
        //         case 'int3_r':
        //             param.stn_list[stnId].interchange = [stnInfo.transfer.slice(1,3)];
        //             break;
        //         case 'osi11_pl':
        //         case 'osi11_pr':
        //         case 'osi11_ul':
        //         case 'osi11_ur':
        //             param.stn_list[stnId].interchange = [[], stnInfo.transfer.slice(0,2)];
        //             break;
        //         case 'osi12_pl':
        //         case 'osi12_pr':
        //         case 'osi12_ul':
        //         case 'osi12_ur':
        //             param.stn_list[stnId].interchange = [[], stnInfo.transfer];
        //             break;
        //     }
        // }
        // delete param.stn_list[stnId].transfer;
        if (!('branch' in stnInfo)) {
            param.stn_list[stnId].branch = { left: [], right: [] };
            if (stnInfo.children.length == 2) {
                param.stn_list[stnId].branch.right = ['through', stnInfo.children[1]];
            }
            else {
                param.stn_list[stnId].branch.right = [];
            }
            if (stnInfo.parents.length == 2) {
                param.stn_list[stnId].branch.left = ['through', stnInfo.parents[1]];
            }
            else {
                param.stn_list[stnId].branch.left = [];
            }
        }
    }
    // Version 1.2
    if (!('psd_num' in param)) {
        param.psd_num = 1;
    }
    if (!('line_num' in param)) {
        param.line_num = 1;
    }
    delete param.style;
    if (param.theme.length == 3) {
        param.theme.push('#fff');
    }
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (['linestart', 'lineend'].includes(stnId)) {
            continue;
        }
        if (!('num' in stnInfo)) {
            param.stn_list[stnId].num = '00';
        }
    }
    // Version 1.3
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if ('interchange' in stnInfo) {
            stnInfo.interchange.map(arr => {
                arr.map(intInfo => {
                    if (intInfo.length == 5) {
                        intInfo.splice(3, 0, '#fff');
                    }
                });
            });
        }
    }
    // Version 1.4
    if (!('info_panel_type' in param)) {
        param.info_panel_type = 'panasonic';
    }
    // Version 1.5
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (stnInfo.change_type === 'osi22_end_p') {
            param.stn_list[stnId].change_type = 'osi22_pr';
        }
        if (stnInfo.change_type === 'osi22_end_u') {
            param.stn_list[stnId].change_type = 'osi22_ur';
        }
    }
    // Version 2.1
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('interchange' in stnInfo)) {
            param.stn_list[stnId].interchange = [[]];
        }
    }
    // Version 2.2
    if (param.info_panel_type === 'gz_1') {
        param.info_panel_type = 'gz28';
    }
    // Version 2.3
    if (param.info_panel_type === 'panasonic') {
        param.info_panel_type = 'gz28';
    }
    if (param.info_panel_type === 'gz_2') {
        param.info_panel_type = 'gzgf';
    }
    if (param.info_panel_type === 'gz_3') {
        param.info_panel_type = 'gz3';
    }
    if (!('direction_gz_x' in param)) {
        param.direction_gz_x = 50;
    }
    if (!('direction_gz_y' in param)) {
        param.direction_gz_y = 70;
    }
    // Version 2.6
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('transfer' in stnInfo)) {
            param.stn_list[stnId].transfer = {
                type: stnInfo.change_type.split('_')[0],
                tick_direc: (stnInfo.change_type === 'none' || stnInfo.change_type === 'int2') ? 'r' : stnInfo.change_type.split('_')[1].split('').slice().reverse()[0],
                paid_area: (stnInfo.change_type.indexOf('osi') !== -1) ? stnInfo.change_type.split('_')[1][0] === 'p' : true,
                osi_names: (stnInfo.change_type.indexOf('osi') !== -1) ? [stnInfo.interchange[1][0]] : [],
                info: (stnInfo.interchange.length === 2) ? [stnInfo.interchange[0], stnInfo.interchange[1].slice(1)] : stnInfo.interchange
            };
        }
    }
    // Version 2.8
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('services' in stnInfo)) {
            param.stn_list[stnId].services = ['local'];
        }
    }
    putParams(param);
}
const langFallback = (lang) => {
    switch (lang) {
        case 'en': return ['en'];
        case 'zh-Hans': return ['zh-Hans', 'zh', 'en'];
        case 'zh-HK': return ['zh-HK', 'zh-Hant', 'zh', 'en'];
        default: return [lang, 'en'];
    }
};
const getTransText = (obj, lang) => {
    return obj[langFallback(lang).find(l => obj[l])];
};


/***/ }),

/***/ "@material/dialog":
/*!*****************************!*\
  !*** external "mdc.dialog" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.dialog;

/***/ }),

/***/ "@material/list":
/*!***************************!*\
  !*** external "mdc.list" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.list;

/***/ }),

/***/ "@material/ripple":
/*!*****************************!*\
  !*** external "mdc.ripple" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.ripple;

/***/ }),

/***/ "@material/select":
/*!*****************************!*\
  !*** external "mdc.select" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.select;

/***/ }),

/***/ "@material/slider":
/*!*****************************!*\
  !*** external "mdc.slider" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.slider;

/***/ }),

/***/ "@material/switch":
/*!************************************!*\
  !*** external "mdc.switchControl" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.switchControl;

/***/ }),

/***/ "@material/tab-bar":
/*!*****************************!*\
  !*** external "mdc.tabBar" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.tabBar;

/***/ }),

/***/ "@material/textfield":
/*!********************************!*\
  !*** external "mdc.textField" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.textField;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xpbmUvTGluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9pbml0LnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvaW5pdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGFnZUluaXRpYWxpc2VyL3NhdmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5kaWFsb2dcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMubGlzdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5yaXBwbGVcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMuc2VsZWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnNsaWRlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5zd2l0Y2hDb250cm9sXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnRhYkJhclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy50ZXh0RmllbGRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqUXVlcnlcIiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7UUFDQTtRQUNBLFFBQVEsb0JBQW9CO1FBQzVCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOzs7O1FBSUE7UUFDQTtRQUNBLHlDQUF5Qyw0TUFBNE07UUFDclA7O1FBRUE7UUFDQTs7UUFFQTtRQUNB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QUFFLElBQUksQ0FBQyxDQUFDO0tBQ2hDO0FBQ0wsQ0FBQztBQUVNLE1BQU0sWUFBWSxHQUFHLENBQUMsR0FBOEIsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUN6RSxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDOzs7Ozs7Ozs7Ozs7QUNqZ0JELDRCOzs7Ozs7Ozs7OztBQ0FBLDBCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLG1DOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLCtCOzs7Ozs7Ozs7OztBQ0FBLHdCIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuXG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdH07XG5cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdFwiaW5kZXhcIjogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgKHtcIkxpbmVHWlwiOlwiTGluZUdaXCIsXCJMaW5lSEtcIjpcIkxpbmVIS1wiLFwiTGluZVNIXCI6XCJMaW5lU0hcIixcImluaXREZXNpZ25cIjpcImluaXREZXNpZ25cIixcImluaXRJbmZvXCI6XCJpbml0SW5mb1wiLFwiaW5pdExheW91dFwiOlwiaW5pdExheW91dFwiLFwidmVuZG9yc35pbml0U3RhdGlvbnNcIjpcInZlbmRvcnN+aW5pdFN0YXRpb25zXCIsXCJpbml0U3RhdGlvbnNcIjpcImluaXRTdGF0aW9uc1wifVtjaHVua0lkXXx8Y2h1bmtJZCkgKyBcIi5taW4uanNcIlxuIFx0fVxuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cbiBcdC8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbiBcdC8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5lID0gZnVuY3Rpb24gcmVxdWlyZUVuc3VyZShjaHVua0lkKSB7XG4gXHRcdHZhciBwcm9taXNlcyA9IFtdO1xuXG5cbiBcdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXG4gXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuIFx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcbiBcdFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IFtyZXNvbHZlLCByZWplY3RdO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG4gXHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG4gXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gXHRcdFx0XHR2YXIgb25TY3JpcHRDb21wbGV0ZTtcblxuIFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuIFx0XHRcdFx0c2NyaXB0LnRpbWVvdXQgPSAxMjA7XG4gXHRcdFx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuIFx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzY3JpcHQuc3JjID0ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCk7XG5cbiBcdFx0XHRcdC8vIGNyZWF0ZSBlcnJvciBiZWZvcmUgc3RhY2sgdW53b3VuZCB0byBnZXQgdXNlZnVsIHN0YWNrdHJhY2UgbGF0ZXJcbiBcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuIFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuIFx0XHRcdFx0XHQvLyBhdm9pZCBtZW0gbGVha3MgaW4gSUUuXG4gXHRcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG4gXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiBcdFx0XHRcdFx0dmFyIGNodW5rID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRcdFx0XHRpZihjaHVuayAhPT0gMCkge1xuIFx0XHRcdFx0XHRcdGlmKGNodW5rKSB7XG4gXHRcdFx0XHRcdFx0XHR2YXIgZXJyb3JUeXBlID0gZXZlbnQgJiYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/ICdtaXNzaW5nJyA6IGV2ZW50LnR5cGUpO1xuIFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5uYW1lID0gJ0NodW5rTG9hZEVycm9yJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcbiBcdFx0XHRcdFx0XHRcdGNodW5rWzFdKGVycm9yKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gdW5kZWZpbmVkO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9O1xuIFx0XHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUoeyB0eXBlOiAndGltZW91dCcsIHRhcmdldDogc2NyaXB0IH0pO1xuIFx0XHRcdFx0fSwgMTIwMDAwKTtcbiBcdFx0XHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGU7XG4gXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gXHR9O1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiLi9kaXN0L1wiO1xuXG4gXHQvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsImltcG9ydCB7IHNldFBhcmFtcywgZ2V0UGFyYW1zLCBwdXRQYXJhbXMsIGdldFJhbmRvbUlkLCBnZXROYW1lRnJvbUlkIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgeyBSTUdTdGF0aW9uIH0gZnJvbSAnLi4vU3RhdGlvbi9TdGF0aW9uJztcclxuXHJcbmltcG9ydCB7IElELCBOYW1lLCBTdGF0aW9uSW5mbywgUk1HUGFyYW0sIERpcmVjdGlvbkxvbmcgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5pbnRlcmZhY2UgU3RhdGlvbkRpY3Qge1xyXG4gICAgW2luZGV4OiBzdHJpbmddOiBSTUdTdGF0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUk1HTGluZSB7XHJcbiAgICBwcm90ZWN0ZWQgX3N2Z0hlaWdodDogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIF9zdmdXaWR0aDogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIF9zdmdEZXN0V2lkdGg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX3Nob3dPdXRlcjogYm9vbGVhbjtcclxuICAgIHRoZW1lQ2l0eTsgdGhlbWVMaW5lOyBfdGhlbWVDb2xvdXI7XHJcbiAgICBfZmdDb2xvdXI6ICcjZmZmJyB8ICcjMDAwJztcclxuICAgIHByaXZhdGUgX3lQYzogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfc3RyaXBQYzogbnVtYmVyO1xyXG4gICAgcHJvdGVjdGVkIF9wYWRkaW5nOiBudW1iZXI7XHJcbiAgICBwcm90ZWN0ZWQgX2xvbmdJbnRlcnZhbCA9IDE7XHJcbiAgICBwcml2YXRlIF9icmFuY2hTcGFjaW5nOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3RhdGlvbnMgPSB7fSBhcyBTdGF0aW9uRGljdDtcclxuICAgIHByb3RlY3RlZCBfY3VycmVudFN0bklkOiBJRDtcclxuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uOiAnbCcgfCAncic7XHJcbiAgICBwcm90ZWN0ZWQgX3BsYXRmb3JtTnVtOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgX2xpbmVOYW1lczogTmFtZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAocGFyYW06IFJNR1BhcmFtKSB7XHJcbiAgICAgICAgdGhpcy5fc3ZnSGVpZ2h0ID0gcGFyYW0uc3ZnX2hlaWdodDtcclxuICAgICAgICB0aGlzLl9zdmdXaWR0aCA9IHBhcmFtLnN2Z193aWR0aDtcclxuICAgICAgICB0aGlzLl9zdmdEZXN0V2lkdGggPSBwYXJhbS5zdmdfZGVzdF93aWR0aDtcclxuICAgICAgICB0aGlzLl9zaG93T3V0ZXIgPSBwYXJhbVsnc2hvd19vdXRlciddO1xyXG5cclxuICAgICAgICBbdGhpcy50aGVtZUNpdHksIHRoaXMudGhlbWVMaW5lLCB0aGlzLl90aGVtZUNvbG91ciwgdGhpcy5fZmdDb2xvdXJdID0gcGFyYW0udGhlbWU7XHJcblxyXG4gICAgICAgIHRoaXMueVBjID0gcGFyYW1bJ3lfcGMnXTtcclxuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFyYW1bJ3BhZGRpbmcnXTtcclxuICAgICAgICB0aGlzLl9zdHJpcFBjID0gcGFyYW1bJ3N0cmlwX3BjJ107XHJcbiAgICAgICAgdGhpcy5fYnJhbmNoU3BhY2luZyA9IHBhcmFtLmJyYW5jaF9zcGFjaW5nO1xyXG5cclxuICAgICAgICB0aGlzLl9saW5lTmFtZXMgPSBwYXJhbVsnbGluZV9uYW1lJ107XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY3VycmVudFN0bklkID0gcGFyYW1bJ2N1cnJlbnRfc3RuX2lkeCddO1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHBhcmFtWydkaXJlY3Rpb24nXTtcclxuICAgICAgICB0aGlzLl9wbGF0Zm9ybU51bSA9IHBhcmFtWydwbGF0Zm9ybV9udW0nXTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIG90aGVyIHByb3BlcnRpZXMgb2Ygc3RhdGlvbnNcclxuICAgICAgICBmb3IgKGxldCBzdG5JZCBvZiBPYmplY3Qua2V5cyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdG5JbnN0YW5jZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9pbml0U3RuSW5zdGFuY2Uoc3RuSWQ6IElELCBzdG5JbmZvOiBTdGF0aW9uSW5mbykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUk1HU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIG9mIGBSTUdTdGF0aW9uYCBpbnN0YW5jZS4gXHJcbiAgICAgKiAqIGB4YFxyXG4gICAgICogKiBgeWBcclxuICAgICAqICogYHN0YXRlYFxyXG4gICAgICogKiBwbHVzIHN0eWxlIHNwZWNpZmljIHByb3BlcnRpZXNcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF91cGRhdGVTdG5JbnN0YW5jZShzdG5JZDogSUQpIHtcclxuICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge3JldHVybjt9XHJcbiAgICAgICAgbGV0IGluc3RhbmNlID0gdGhpcy5zdGF0aW9uc1tzdG5JZF07XHJcbiAgICAgICAgaW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcclxuICAgICAgICBpbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xyXG4gICAgICAgIGluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2lkdGggKGluIHBpeGVscykgb2YgYHN2ZyNkZXN0aW5hdGlvbmAuIFxyXG4gICAgICovXHJcbiAgICAvLyBnZXQgc3ZnRGVzdFdpZHRoKCkge3JldHVybiBnZXRQYXJhbXMoKS5zdmdfZGVzdF93aWR0aDt9XHJcbiAgICBzZXQgc3ZnRGVzdFdpZHRoKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsIDw9IDApIHtyZXR1cm47fVxyXG4gICAgICAgIHRoaXMuX3N2Z0Rlc3RXaWR0aCA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ3N2Z19kZXN0X3dpZHRoJywgdmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3U1ZHRnJhbWUoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2Ygd2lkdGggb2YgYHN2ZyNyYWlsbWFwYC4gXHJcbiAgICAgKi9cclxuICAgIHNldCBzdmdXaWR0aCh2YWw6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA8PSAwKSB7cmV0dXJuO31cclxuICAgICAgICB0aGlzLl9zdmdXaWR0aCA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ3N2Z193aWR0aCcsIHZhbCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd1NWR0ZyYW1lKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdHJpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dGVyIG9mIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGxpbmUgKHkpLlxyXG4gICAgICogQHBhcmFtIHZhbCBQZXJjZW50YWdlIG9mIHZlcnRpY2FsIHBvc2l0aW9uLCBnaXZlbiBmaXhlZCBgc3ZnSGVpZ2h0YFxyXG4gICAgICovXHJcbiAgICBzZXQgeVBjKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5feVBjID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygneV9wYycsIHZhbCk7XHJcblxyXG4gICAgICAgIGxldCB5ID0gdmFsICogdGhpcy5fc3ZnSGVpZ2h0IC8gMTAwO1xyXG4gICAgICAgICQoJ2cjbWFpbicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3l9KWApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBwYWRkaW5nKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFsID0gTnVtYmVyKHZhbCk7XHJcbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ3BhZGRpbmcnLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJyYW5jaFNwYWNpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9icmFuY2hTcGFjaW5nID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnYnJhbmNoX3NwYWNpbmcnLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRoZW1lQ29sb3VyKGhleHM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgdGhpcy5fdGhlbWVDb2xvdXIgPSBoZXhzWzBdO1xyXG4gICAgICAgIHRoaXMuX2ZnQ29sb3VyID0gaGV4c1sxXSBhcyAnI2ZmZicgfCAnIzAwMCc7XHJcblxyXG4gICAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgIHBhcmFtLnRoZW1lWzJdID0gaGV4c1swXTtcclxuICAgICAgICBwYXJhbS50aGVtZVszXSA9IGhleHNbMV0gYXMgJyNmZmYnIHwgJyMwMDAnO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2YgdHJhaW4gZGlyZWN0aW9uLiBcclxuICAgICAqL1xyXG4gICAgc2V0IGRpcmVjdGlvbih2YWw6ICdsJyB8ICdyJykge1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ2RpcmVjdGlvbicsIHZhbCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0dGVyIG9mIHBsYXRmb3JtIG51bWJlciAoY2FuIGJlIHN0cmluZykuIFxyXG4gICAgICovXHJcbiAgICBzZXQgcGxhdGZvcm1OdW0odmFsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9wbGF0Zm9ybU51bSA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ3BsYXRmb3JtX251bScsIHZhbCk7XHJcbiAgICAgICAgJCgnLnJtZy1uYW1lX19wbGF0Zm9ybW51bScpLnRleHQodmFsKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR0ZXIgb2YgbmFtZXMgb2YgbGluZS4gXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lTmFtZXModmFsOiBOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZU5hbWVzID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnbGluZV9uYW1lJywgdmFsKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHRlciBvZiBjdXJyZW50IHN0YXRpb24uIFxyXG4gICAgICovXHJcbiAgICBzZXQgY3VycmVudFN0bklkKHZhbDogSUQpIHtcclxuICAgICAgICB0aGlzLl9jdXJyZW50U3RuSWQgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdjdXJyZW50X3N0bl9pZHgnLCB2YWwpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5jcmVtZW50IG9mIHRoZSB3ZWlnaHQgb2Ygb3V0LWJvdW5kIGVkZ2Ugb2YgYSBzdGF0aW9uLCB3aGljaCBpbmNyZWFzZXMgdGhlIGhvcml6b250YWwgaW50ZXJ2YWwgZnJvbSBpdHMgY2hpbGRyZW4uIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX3JpZ2h0V2lkZUZhY3RvcihzdG5JZDogSUQpIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluY3JlbWVudCBvZiB0aGUgd2VpZ2h0IG9mIGluLWJvdW5kIGVkZ2Ugb2YgYSBzdGF0aW9uLCB3aGljaCBpbmNyZWFzZXMgdGhlIGhvcml6b250YWwgaW50ZXJ2YWwgZnJvbSBpdHMgcGFyZW50cy4gXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfbGVmdFdpZGVGYWN0b3Ioc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXRoIHdlaWdodCBmcm9tIHN0YXRpb24gMSB0byBzdGF0aW9uIDIgKHN0YXRpb24gMiBtdXN0IGJlIGEgY2hpbGQgb2Ygc3RhdGlvbiAxLCBvdGhlcndpc2UgcmV0dXJuIGAtSW5maW5pdHlgKS5cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIF9wYXRoV2VpZ2h0KHN0bklkMTogSUQsIHN0bklkMjogSUQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGlvbnNbc3RuSWQxXS5jaGlsZHJlbi5pbmNsdWRlcyhzdG5JZDIpKSB7cmV0dXJuIC1JbmZpbml0eTt9XHJcbiAgICAgICAgcmV0dXJuIDEgKyB0aGlzLl9yaWdodFdpZGVGYWN0b3Ioc3RuSWQxKSArIHRoaXMuX2xlZnRXaWRlRmFjdG9yKHN0bklkMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcml0aWNhbCBwYXRoIGFuZCBjb3JyZXNwb25kaW5nIGxlbmd0aCBmcm9tIGEgc3RhdGlvbiB0byBhbm90aGVyLiBcclxuICAgICAqIEBwYXJhbSBmcm9tIElEIG9mIHN0YXRpb24gb24gdGhlIGxlZnRcclxuICAgICAqIEBwYXJhbSB0byBJRCBvZiBzdGF0aW9uIG9uIHRoZSBsZWZ0XHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBfY3AoZnJvbTogSUQsIHRvOiBJRCkge1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoZnJvbSA9PSB0bykge1xyXG4gICAgICAgICAgICByZXR1cm4geyBsZW46IDAsIG5vZGVzOiBbZnJvbV0gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFsbExlbmd0aHM6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgbGV0IGNyaXRpY2FsUGF0aHM6IElEW11bXSA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbZnJvbV0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjcCA9IHNlbGYuX2NwKGNoaWxkLCB0byk7XHJcbiAgICAgICAgICAgIGlmIChjcC5sZW4gPCAwKSB7cmV0dXJuO31cclxuICAgICAgICAgICAgYWxsTGVuZ3Rocy5wdXNoKHRoaXMuX3BhdGhXZWlnaHQoZnJvbSwgY2hpbGQpICsgY3AubGVuKTtcclxuICAgICAgICAgICAgY3Aubm9kZXMudW5zaGlmdChmcm9tKTtcclxuICAgICAgICAgICAgY3JpdGljYWxQYXRocy5wdXNoKGNwLm5vZGVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgbWF4TGVuZ3RoID0gTWF0aC5tYXgoLi4uYWxsTGVuZ3Rocyk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2xlbic6IG1heExlbmd0aCwgXHJcbiAgICAgICAgICAgICdub2Rlcyc6IGNyaXRpY2FsUGF0aHNbYWxsTGVuZ3Rocy5pbmRleE9mKG1heExlbmd0aCldXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHRlciBvZiBjcml0aWNhbCBwYXRoIChmcm9tIGxlZnQgdG8gcmlnaHQpIGFuZCBjb3JyZXNwb25kaW5nIGxlbmd0aCBvZiB0aGUgZW50aXJlIGxpbmUuIFxyXG4gICAgICovXHJcbiAgICBnZXQgY3JpdGljYWxQYXRoKCkge1xyXG4gICAgICAgIGxldCBhbGxMZW5ndGhzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGxldCBjcml0aWNhbFBhdGhzOiBJRFtdW10gPSBbXTtcclxuICAgICAgICB0aGlzLmxlZnREZXN0cy5mb3JFYWNoKGxkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodERlc3RzLmZvckVhY2gocmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNwID0gdGhpcy5fY3AobGQsIHJkKTtcclxuICAgICAgICAgICAgICAgIGFsbExlbmd0aHMucHVzaChjcC5sZW4pO1xyXG4gICAgICAgICAgICAgICAgY3JpdGljYWxQYXRocy5wdXNoKGNwLm5vZGVzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IG1heExlbiA9IE1hdGgubWF4KC4uLmFsbExlbmd0aHMpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsZW4nOiBtYXhMZW4sXHJcbiAgICAgICAgICAgICdub2Rlcyc6IGNyaXRpY2FsUGF0aHNbYWxsTGVuZ3Rocy5pbmRleE9mKG1heExlbildXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9wb09yZGVyKGZyb206IElELCB0cG86IElEW10gPSBbXSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB0cG8ucHVzaChmcm9tKTtcclxuICAgICAgICB0aGlzLnN0YXRpb25zW2Zyb21dLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoY2hpbGQpID09IDIgJiYgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cy5pbmRleE9mKGZyb20pPT0wKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IHRoZSBvdGhlciBicmFuY2hcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgdHBvLmNvbmNhdChzZWxmLl90b3BvT3JkZXIoY2hpbGQsIHRwbykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cG87XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRwbygpIHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy5fdG9wb09yZGVyKCdsaW5lc3RhcnQnKTtcclxuICAgICAgICByZXR1cm4gcmVzLnNsaWNlKDEsIHJlcy5sZW5ndGgtMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN0cmlwWSgpIHtyZXR1cm4gdGhpcy5fc3RyaXBQYyAqIHRoaXMuX3N2Z0hlaWdodCAvIDEwMDt9XHJcbiAgICBnZXQgdHVybmluZ1JhZGl1cygpIHtyZXR1cm4gdGhpcy5fYnJhbmNoU3BhY2luZy8yICogKE1hdGguc3FydCgyKSAvIChNYXRoLnNxcnQoMiktMSkpO31cclxuXHJcbiAgICBnZXQgbGluZVhzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogdGhpcy5fcGFkZGluZyAvIDEwMCwgXHJcbiAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogKDEgLSB0aGlzLl9wYWRkaW5nLzEwMClcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBsZWZ0RGVzdHMoKSB7cmV0dXJuIHRoaXMuc3RhdGlvbnMubGluZXN0YXJ0LmNoaWxkcmVuO31cclxuICAgIGdldCByaWdodERlc3RzKCkge3JldHVybiB0aGlzLnN0YXRpb25zLmxpbmVlbmQucGFyZW50czt9XHJcblxyXG4gICAgZ2V0IGxWYWxpZERlc3RzKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICBuZXcgU2V0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2YodGhpcy5fY3VycmVudFN0bklkKSAhPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChyb3V0ZSA9PiByb3V0ZS5maWx0ZXIoc3RuSWQgPT4gc3RuSWQgIT09ICdsaW5lZW5kJyAmJiBzdG5JZCAhPT0gJ2xpbmVzdGFydCcpWzBdKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgclZhbGlkRGVzdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oXHJcbiAgICAgICAgICAgIG5ldyBTZXQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlc1xyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocm91dGUgPT4gcm91dGUuaW5kZXhPZih0aGlzLl9jdXJyZW50U3RuSWQpICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAubWFwKHJvdXRlID0+IHJvdXRlLmZpbHRlcihzdG5JZCA9PiBzdG5JZCAhPT0gJ2xpbmVlbmQnICYmIHN0bklkICE9PSAnbGluZXN0YXJ0JykucmV2ZXJzZSgpWzBdKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluZGVncmVlIG9mIGEgc3RhdGlvbiBub2RlLlxyXG4gICAgICovXHJcbiAgICBfc3RuSW5kZWdyZWUoc3RuSWQ6IElEKSB7cmV0dXJuIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmluRGVncmVlO31cclxuXHJcbiAgICAvKipcclxuICAgICAqIE91dGRlZ3JlZSBvZiBhIHN0YXRpb24gbm9kZS4gXHJcbiAgICAgKi9cclxuICAgIF9zdG5PdXRkZWdyZWUoc3RuSWQ6IElEKSB7cmV0dXJuIHRoaXMuc3RhdGlvbnNbc3RuSWRdLm91dERlZ3JlZTt9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb3Jpem9udGFsIHBvc2l0aW9uIChpbiBzaGFyZXMpIG9mIHN0YXRpb24gaWNvbi4gXHJcbiAgICAgKi9cclxuICAgIF9zdG5YU2hhcmUoc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICB2YXIgY3AgPSB0aGlzLmNyaXRpY2FsUGF0aDtcclxuICAgICAgICBpZiAoY3Aubm9kZXMuaW5jbHVkZXMoc3RuSWQpKSB7cmV0dXJuIHRoaXMuX2NwKGNwLm5vZGVzWzBdLCBzdG5JZCkubGVuO31cclxuXHJcbiAgICAgICAgdmFyIHBhcnRTb3VyY2UgPSBzdG5JZDtcclxuICAgICAgICB2YXIgcGFydFNpbmsgPSBzdG5JZDtcclxuICAgICAgICB2YXIgbGVmdE9wZW5KYXcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcmlnaHRPcGVuSmF3ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnN0YXRpb25zW3BhcnRTb3VyY2VdLnBhcmVudHNbMF07XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT0gJ2xpbmVzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgIGxlZnRPcGVuSmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcnRTb3VyY2UgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUocGFydFNvdXJjZSkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1twYXJ0U2lua10uY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlblswXSAhPSAnbGluZWVuZCcpIHtcclxuICAgICAgICAgICAgICAgIHBhcnRTaW5rID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByaWdodE9wZW5KYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHBhcnRTaW5rKSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbGVuZ3RoVG9Tb3VyY2UgPSB0aGlzLl9jcChwYXJ0U291cmNlLCBzdG5JZCkubGVuO1xyXG4gICAgICAgIHZhciBsZW5ndGhUb1NpbmsgPSB0aGlzLl9jcChzdG5JZCwgcGFydFNpbmspLmxlbjtcclxuICAgICAgICBpZiAobGVmdE9wZW5KYXcpIHtcclxuICAgICAgICAgICAgdmFyIGFjdHVhbFBhcnRMZW5ndGggPSB0aGlzLl9jcChjcC5ub2Rlc1swXSwgcGFydFNpbmspLmxlbjtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3N0blhTaGFyZShwYXJ0U2luaykgLSBsZW5ndGhUb1NpbmsgLyAobGVuZ3RoVG9Tb3VyY2UgKyBsZW5ndGhUb1NpbmspICogYWN0dWFsUGFydExlbmd0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0T3Blbkphdykge1xyXG4gICAgICAgICAgICB2YXIgYWN0dWFsUGFydExlbmd0aCA9IHRoaXMuX2NwKHBhcnRTb3VyY2UsIGNwLm5vZGVzLnNsaWNlKC0xKVswXSkubGVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhY3R1YWxQYXJ0TGVuZ3RoID0gdGhpcy5fY3AocGFydFNvdXJjZSwgcGFydFNpbmspLmxlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0blhTaGFyZShwYXJ0U291cmNlKSArIGxlbmd0aFRvU291cmNlIC8gKGxlbmd0aFRvU291cmNlICsgbGVuZ3RoVG9TaW5rKSAqIGFjdHVhbFBhcnRMZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIb3Jpem9udGFsIHBvc2l0aW9uIChpbiBwaXhlbHMpIG9mIHN0YXRpb24gaWNvbi4gXHJcbiAgICAgKi9cclxuICAgIF9zdG5SZWFsWChzdG5JZDogSUQpIHtcclxuICAgICAgICBsZXQgW2xpbmVTdGFydCwgbGluZUVuZF0gPSB0aGlzLmxpbmVYcztcclxuICAgICAgICByZXR1cm4gbGluZVN0YXJ0ICsgdGhpcy5fc3RuWFNoYXJlKHN0bklkKSAvIHRoaXMuY3JpdGljYWxQYXRoLmxlbiAqIChsaW5lRW5kIC0gbGluZVN0YXJ0KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1pcnJvciBgX3N0bllTaGFyZU1UUmAuIFxyXG4gICAgICovXHJcbiAgICBfc3RuWVNoYXJlKHN0bklkOiBJRCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdG5ZU2hhcmVNVFIoc3RuSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmVydGljYWwgcG9zaXRpb24gKGluIHNoYXJlcykgb2Ygc3RhdGlvbiBpY29uIGlmIHVzaW5nIE1UUiBzdHlsZSAoZm9yIGNvbnNpc3RlbmN5IG9mIG1ldGhvZCBgUk1HTGluZS5uZXdTdG5Qb3NzaWJsZUxvYygpYCkuIFxyXG4gICAgICovXHJcbiAgICBfc3RuWVNoYXJlTVRSKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpIHx8IHRoaXMuX3N0bkluZGVncmVlKHN0bklkKSA+IDEgfHwgdGhpcy5fc3RuT3V0ZGVncmVlKHN0bklkKSA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzdG5QcmVkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXTtcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHN0blByZWQpIHtcclxuICAgICAgICAgICAgLy8gcGFyZW50IGV4aXN0XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuUHJlZCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbm8gc2libGluZywgdGhlbiB5IHNhbWUgYXMgcGFyZW50XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fc3RuWVNoYXJlTVRSKHN0blByZWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gc2libGluZyBleGlzdHMsIHRoZW4geSBkZXBlbmRzIG9uIGl0cyBpZHggb2YgYmVpbmcgY2hpbGRyZW5cclxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5zdGF0aW9uc1tzdG5QcmVkXS5jaGlsZHJlbi5pbmRleE9mKHN0bklkKSA9PSAwKSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5vIHBhcmVudCwgbXVzdCBiZSBsaW5lc3RhcnRcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmVydGljYWwgcG9zaXRpb24gKGluIHBpeGVscykgb2Ygc3RhdGlvbiBpY29uIHJlbGF0ZWQgdG8gdmVydGljYWwgcG9zaXRpb24gb2YgbGluZS4gXHJcbiAgICAgKi9cclxuICAgIF9zdG5SZWFsWShzdG5JZDogSUQpIHtcclxuICAgICAgICByZXR1cm4gLXRoaXMuX3N0bllTaGFyZShzdG5JZCkgKiB0aGlzLl9icmFuY2hTcGFjaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgc3RhdGlvbiAyIGlzIGEgc3VjY2Vzc29yIG9mIHN0YXRpb24gMSwgZmFsc2Ugb3RoZXJ3aXNlLiBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBfaXNTdWNjZXNzb3Ioc3RuSWQxOiBJRCwgc3RuSWQyOiBJRCkge1xyXG4gICAgICAgIGZvciAobGV0IHJvdXRlIG9mIHRoaXMucm91dGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHgxID0gcm91dGUuaW5kZXhPZihzdG5JZDEpO1xyXG4gICAgICAgICAgICBsZXQgaWR4MiA9IHJvdXRlLmluZGV4T2Yoc3RuSWQyKTtcclxuICAgICAgICAgICAgaWYgKGlkeDEgIT09IC0xICYmIGlkeDIgIT09IC0xICYmIGlkeDEgPCBpZHgyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBzdGF0aW9uIDIgaXMgYSBwcmVkZWNlc3NvciBvZiBzdGF0aW9uIDEsIGZhbHNlIG90aGVyd2lzZS4gXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgX2lzUHJlZGVjZXNzb3Ioc3RuSWQxOiBJRCwgc3RuSWQyOiBJRCkge1xyXG4gICAgICAgIGZvciAobGV0IHJvdXRlIG9mIHRoaXMucm91dGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBpZHgxID0gcm91dGUuaW5kZXhPZihzdG5JZDEpO1xyXG4gICAgICAgICAgICBsZXQgaWR4MiA9IHJvdXRlLmluZGV4T2Yoc3RuSWQyKTtcclxuICAgICAgICAgICAgaWYgKGlkeDEgIT09IC0xICYmIGlkeDIgIT09IC0xICYmIGlkeDIgPCBpZHgxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gc3RhdGUgb2YgYSBzdGF0aW9uICgtMTogcGFzc2VkLCAwOiBjdXJyZW50LCAxOiBmdXR1cmUpLlxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgX3N0blN0YXRlKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmIChzdG5JZCA9PSB0aGlzLl9jdXJyZW50U3RuSWQpIHtyZXR1cm4gMDt9XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAncicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU3VjY2Vzc29yKHRoaXMuX2N1cnJlbnRTdG5JZCwgc3RuSWQpID8gMSA6IC0xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1ByZWRlY2Vzc29yKHRoaXMuX2N1cnJlbnRTdG5JZCwgc3RuSWQpID8gMSA6IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGhlaWdodCBhbmQgd2lkdGggZm9yIGJvdGggYHN2Z2BzLiBcclxuICAgICAqL1xyXG4gICAgZHJhd1NWR0ZyYW1lKCkge1xyXG4gICAgICAgICQoJyNyYWlsbWFwLCAjb3V0ZXInKS5hdHRyKHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuX3N2Z1dpZHRoLCBcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9zdmdIZWlnaHRcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjZGVzdGluYXRpb24sICNkZXN0X291dGVyJykuYXR0cih7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9zdmdEZXN0V2lkdGgsIFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX3N2Z0hlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvdyBib3JkZXIgb2YgYm90aCBgc3ZnYHMsIGJ1dCB0aGUgc3Ryb2tlIGNvbG91ciBvZiB0aGUgYm9yZGVycyBhcmUgY3VycmVudGx5IHNldCBhcyBgbm9uZWAuIFxyXG4gICAgICovXHJcbiAgICBzaG93RnJhbWVPdXRlcigpIHtcclxuICAgICAgICAvLyB2YXIgb3V0ZXJDb2xvdXIgPSB0aGlzLl9zaG93T3V0ZXIgPyAnYmxhY2snIDogJ25vbmUnO1xyXG4gICAgICAgIC8vICQoJyNvdXRlciwgI2Rlc3Rfb3V0ZXInKS5hdHRyKCdzdHJva2UnLCBvdXRlckNvbG91cik7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdXRlcikge1xyXG4gICAgICAgICAgICAkKCcjb3V0ZXIsICNkZXN0X291dGVyJykuc2hvdygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNvdXRlciwgI2Rlc3Rfb3V0ZXInKS5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhdyBhbGwgc3RhdGlvbnMuIChQcmV2aW91c2x5IGRyYXduIHN0YXRpb24gaWNvbnMgYXJlIG5vdCByZW1vdmVkLiApXHJcbiAgICAgKi9cclxuICAgIGRyYXdTdG5zKCkge1xyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICAkKCcjc3RuX2ljb25zJykuYXBwZW5kKHN0bkluc3RhbmNlLmh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTsgLy8gUmVmcmVzaCBET01cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGdldCBzdG5EWCgpIHtyZXR1cm4gdGhpcy50dXJuaW5nUmFkaXVzIC0gdGhpcy5fYnJhbmNoU3BhY2luZy8yfTtcclxuICAgIGdldCBzdG5EWSgpIHtyZXR1cm4gdGhpcy5fYnJhbmNoU3BhY2luZy8yfTtcclxuICAgIGdldCBzdG5FeHRyYUgoKSB7XHJcbiAgICAgICAgdmFyIFtsaW5lU3RhcnQsIGxpbmVFbmRdID0gdGhpcy5saW5lWHM7XHJcbiAgICAgICAgcmV0dXJuIChsaW5lRW5kIC0gbGluZVN0YXJ0KSAvIHRoaXMuY3JpdGljYWxQYXRoLmxlbiAqIHRoaXMuX2xvbmdJbnRlcnZhbDtcclxuICAgIH1cclxuICAgIGdldCBzdG5TcGFyZUgoKSB7XHJcbiAgICAgICAgdmFyIFtsaW5lU3RhcnQsIGxpbmVFbmRdID0gdGhpcy5saW5lWHM7XHJcbiAgICAgICAgdmFyIGRoID0gKCAobGluZUVuZC1saW5lU3RhcnQpL3RoaXMuY3JpdGljYWxQYXRoLmxlbiAtIDIqdGhpcy5zdG5EWCApIC8gMjtcclxuICAgICAgICBpZiAoZGggPCAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgU1ZHIHdpZHRoIHRvbyBzbWFsbCEgJHtkaH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRoO1xyXG4gICAgfVxyXG4gICAgZ2V0IHBhdGhUdXJuRU5FKCkge3JldHVybiBgYSAke3RoaXMudHVybmluZ1JhZGl1c30sJHt0aGlzLnR1cm5pbmdSYWRpdXN9IDAgMCwwICR7dGhpcy5zdG5EWH0sJHstdGhpcy5zdG5EWX1gfTtcclxuICAgIGdldCBwYXRoVHVybk5FRSgpIHtyZXR1cm4gYGEgJHt0aGlzLnR1cm5pbmdSYWRpdXN9LCR7dGhpcy50dXJuaW5nUmFkaXVzfSAwIDAsMSAke3RoaXMuc3RuRFh9LCR7LXRoaXMuc3RuRFl9YH07XHJcbiAgICBnZXQgcGF0aFR1cm5FU0UoKSB7cmV0dXJuIGBhICR7dGhpcy50dXJuaW5nUmFkaXVzfSwke3RoaXMudHVybmluZ1JhZGl1c30gMCAwLDEgJHt0aGlzLnN0bkRYfSwke3RoaXMuc3RuRFl9YH07XHJcbiAgICBnZXQgcGF0aFR1cm5TRUUoKSB7cmV0dXJuIGBhICR7dGhpcy50dXJuaW5nUmFkaXVzfSwke3RoaXMudHVybmluZ1JhZGl1c30gMCAwLDAgJHt0aGlzLnN0bkRYfSwke3RoaXMuc3RuRFl9YH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBgZGAgYXR0cmlidXRlIG9mIGA8cGF0aD5gIGVsZW1lbnQgdGhyb3VnaCBhbGwgc3RhdGlvbnMgaW5wdXQuIFxyXG4gICAgICovXHJcbiAgICBfbGluZVBhdGgoc3RuSWRzOiBJRFtdKSB7XHJcbiAgICAgICAgdmFyIFtwcmV2SWQsIHByZXZZLCBwcmV2WF06IFtzdHJpbmc/LCBudW1iZXI/LCBudW1iZXI/XSA9IFtdO1xyXG4gICAgICAgIHZhciBwYXRoID0gW107XHJcblxyXG4gICAgICAgIHZhciB7IHN0bkV4dHJhSCwgc3RuU3BhcmVILCBwYXRoVHVybkVTRSwgcGF0aFR1cm5TRUUsIHBhdGhUdXJuRU5FLCBwYXRoVHVybk5FRSwgc3RuRFggfSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHN0bklkcy5mb3JFYWNoKHN0bklkID0+IHtcclxuICAgICAgICAgICAgdmFyIFt4LHldID0gWydfc3RuUmVhbFgnLCAnX3N0blJlYWxZJ10ubWFwKGZ1biA9PiB0aGlzW2Z1bl0oc3RuSWQpKTtcclxuICAgICAgICAgICAgaWYgKCFwcmV2WSAmJiBwcmV2WSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgW3ByZXZJZCwgcHJldlgsIHByZXZZXSA9IFtzdG5JZCwgeCwgeV07XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goYE0gJHt4fSwke3l9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkgPiBwcmV2WSkge1xyXG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHk9PT0wID8gYGggJHt4IC0gcHJldlggLSBzdG5FeHRyYUgqdGhpcy5fbGVmdFdpZGVGYWN0b3Ioc3RuSWQpIC0gc3RuU3BhcmVIIC0gc3RuRFgqMn1gIDogYGggJHtzdG5FeHRyYUggKiB0aGlzLl9yaWdodFdpZGVGYWN0b3IocHJldklkKSArIHN0blNwYXJlSH1gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKHBhdGhUdXJuRVNFLCBwYXRoVHVyblNFRSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA8IHByZXZZKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgeT09PTAgPyBgaCAke3ggLSBwcmV2WCAtIHN0bkV4dHJhSCp0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZCkgLSBzdG5TcGFyZUggLSBzdG5EWCoyfWAgOiBgaCAke3N0bkV4dHJhSCAqIHRoaXMuX3JpZ2h0V2lkZUZhY3RvcihwcmV2SWQpICsgc3RuU3BhcmVIfWBcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gocGF0aFR1cm5FTkUsIHBhdGhUdXJuTkVFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXRoLnB1c2goYEggJHt4fWApO1xyXG4gICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2ltcGxpZnkgcGF0aFxyXG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4oJyAnKS5yZXBsYWNlKC8oIEggKFtcXGQuXSspKSsvZywgJyBIICQyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0xpbmUoKSB7XHJcbiAgICAgICAgdGhpcy5icmFuY2hlcy5tYXAoYnJhbmNoID0+IHtcclxuICAgICAgICAgICAgdmFyIGxpbmVNYWluU3RucyA9IGJyYW5jaC5maWx0ZXIoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RhdGUgPj0gMCk7XHJcbiAgICAgICAgICAgIHZhciBsaW5lUGFzc1N0bnMgPSBicmFuY2guZmlsdGVyKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlIDw9IDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmVNYWluU3Rucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVQYXNzU3RucyA9IGJyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmVNYWluU3Rucy5maWx0ZXIoc3RuSWQgPT4gbGluZVBhc3NTdG5zLmluZGV4T2Yoc3RuSWQpICE9PSAtMSkubGVuZ3RoID09IDAgJiYgbGluZU1haW5TdG5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdHdvIHNldCBkaXNqb2ludFxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVQYXNzU3Ruc1swXSA9PT0gYnJhbmNoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLTEgLTEgMSAxXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zLnB1c2gobGluZU1haW5TdG5zWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZU1haW5TdG5zWzBdID09PSBicmFuY2hbMF0gJiYgbGluZU1haW5TdG5zW2xpbmVNYWluU3Rucy5sZW5ndGgtMV0gPT09IGJyYW5jaFticmFuY2gubGVuZ3RoLTFdICYmIGxpbmVQYXNzU3Rucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMgPSBicmFuY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZU1haW5TdG5zID0gW107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIDEgMSAtMSAtMVxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3Rucy51bnNoaWZ0KGxpbmVNYWluU3Ruc1tsaW5lTWFpblN0bnMubGVuZ3RoLTFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJCgnI2xpbmVfbWFpbicpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzxwYXRoPicsIHtkOnRoaXMuX2xpbmVQYXRoKGxpbmVNYWluU3Rucyl9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAkKCcjbGluZV9wYXNzJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZVBhc3NTdG5zKX0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNsaW5lX21haW4nKS5odG1sKCQoJyNsaW5lX21haW4nKS5odG1sKCkpO1xyXG4gICAgICAgICQoJyNsaW5lX3Bhc3MnKS5odG1sKCQoJyNsaW5lX3Bhc3MnKS5odG1sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTdHJpcCgpIHtcclxuICAgICAgICAvLyAkKCcjc3RyaXAsICNkZXN0X3N0cmlwJykuYXR0cignZCcsIGBNIDAsJHt0aGlzLnN0cmlwWX0gSCAke3RoaXMuX3N2Z1dpZHRofWApXHJcbiAgICAgICAgJCgnI3N0cmlwJykuYXR0cignZCcsIGBNIDAsJHt0aGlzLnN0cmlwWX0gSCAke3RoaXMuX3N2Z1dpZHRofWApO1xyXG4gICAgICAgICQoJyNkZXN0X3N0cmlwJykuYXR0cignZCcsIGBNIDAsJHt0aGlzLnN0cmlwWX0gSCAke3RoaXMuX3N2Z0Rlc3RXaWR0aH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBmaWxsVGhlbWVDb2xvdXIoKSB7XHJcbiAgICAgICAgJCgnI2xpbmVfbWFpbiwgI3N0cmlwLCAjZGVzdF9zdHJpcCcpLmF0dHIoJ3N0cm9rZScsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgICAgICAkKCcjZGVzdF9uYW1lID4gI3BsYXRmb3JtID4gY2lyY2xlJykuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RGVzdEluZm8oKSB7XHJcbiAgICAgICAgLy9cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdG5OYW1lKHN0bklkOiBJRCwgbmFtZXM6IE5hbWUsIHN0bk51bTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLm5hbWUgPSBuYW1lcztcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ubnVtID0gc3RuTnVtO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWUgPSBuYW1lcztcclxuICAgICAgICAvLyB0aGlzLnN0YXRpb25zW3N0bklkXS5fbmFtZVpIID0gbmFtZVpIO1xyXG4gICAgICAgIC8vIHRoaXMuc3RhdGlvbnNbc3RuSWRdLl9uYW1lRU4gPSBuYW1lRU47XHJcbiAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RuTnVtID0gc3RuTnVtO1xyXG5cclxuICAgICAgICAkKGAjc3RuX2ljb25zICMke3N0bklkfWApLnJlbW92ZSgpO1xyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQodGhpcy5zdGF0aW9uc1tzdG5JZF0uaHRtbCk7XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxlZnREZXN0cy5pbmNsdWRlcyhzdG5JZCkgJiYgdGhpcy5fZGlyZWN0aW9uID09ICdsJykge1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yaWdodERlc3RzLmluY2x1ZGVzKHN0bklkKSAmJiB0aGlzLl9kaXJlY3Rpb24gPT0gJ3InKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVN0blNlcnZpY2VzKHN0bklkOiBJRCwgZGV0YWlsOiB7Y2hpcElkOiAnbG9jYWwnfCdleHByZXNzJywgc2VsZWN0ZWQ6IGJvb2xlYW59KSB7XHJcbiAgICAgICAgaWYgKGRldGFpbC5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uc2VydmljZXMuaGFzKGRldGFpbC5jaGlwSWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5zZXJ2aWNlcy5hZGQoZGV0YWlsLmNoaXBJZCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0aW9uc1tzdG5JZF0uc2VydmljZXMuZGVsZXRlKGRldGFpbC5jaGlwSWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5zZXJ2aWNlcyA9IEFycmF5LmZyb20odGhpcy5zdGF0aW9uc1tzdG5JZF0uc2VydmljZXMpO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIC8vIHJlZHJhdyBzdGF0aW9uIG9uIGRlbWFuZFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVN0blRyYW5zZmVyKHN0bklkOiBJRCwgdHlwZSwgaW5mbz1udWxsKSB7XHJcbiAgICAgICAgdmFyIHByZXZDbGFzcyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIFYyLjYgZGF0YSBzdHJ1Y3R1cmVcclxuICAgICAgICBsZXQgY2hhbmdlVHlwZSA9IHR5cGUuc3BsaXQoJ18nKVswXTtcclxuICAgICAgICBsZXQgdGlja19kaXJlYyA9ICh0eXBlID09PSAnbm9uZScgfHwgdHlwZSA9PT0gJ2ludDInKSA/ICdyJyA6IHR5cGUuc3BsaXQoJ18nKVsxXS5zcGxpdCgnJykuc2xpY2UoKS5yZXZlcnNlKClbMF07XHJcbiAgICAgICAgbGV0IHBhaWRfYXJlYSA9ICh0eXBlLmluZGV4T2YoJ29zaScpIT09LTEpID8gdHlwZS5zcGxpdCgnXycpWzFdWzBdPT09J3AnIDogdHJ1ZTtcclxuICAgICAgICBsZXQgb3NpX25hbWVzID0gKHR5cGUuaW5kZXhPZignb3NpJykhPT0tMSkgPyBbaW5mb1sxXVswXV0gOiBbXTtcclxuICAgICAgICBsZXQgdHJhbnNmZXJJbmZvID0gaW5mby5sZW5ndGg9PT0yID8gW2luZm9bMF0sIGluZm9bMV0uc2xpY2UoMSldIDogaW5mbztcclxuXHJcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoYW5nZV90eXBlID0gdHlwZTtcclxuICAgICAgICBpZiAodHlwZSA9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tdXTtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogY2hhbmdlVHlwZSwgXHJcbiAgICAgICAgICAgICAgICB0aWNrX2RpcmVjOiB0aWNrX2RpcmVjLCBcclxuICAgICAgICAgICAgICAgIHBhaWRfYXJlYTogcGFpZF9hcmVhLFxyXG4gICAgICAgICAgICAgICAgb3NpX25hbWVzOiBbXSwgXHJcbiAgICAgICAgICAgICAgICBpbmZvOiBbW11dXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyID0gaW5mbztcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gaW5mbztcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogY2hhbmdlVHlwZSwgXHJcbiAgICAgICAgICAgICAgICB0aWNrX2RpcmVjOiB0aWNrX2RpcmVjLCBcclxuICAgICAgICAgICAgICAgIHBhaWRfYXJlYTogcGFpZF9hcmVhLFxyXG4gICAgICAgICAgICAgICAgb3NpX25hbWVzOiBvc2lfbmFtZXMsIFxyXG4gICAgICAgICAgICAgICAgaW5mbzogdHJhbnNmZXJJbmZvXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKHN0bklkLCBwYXJhbS5zdG5fbGlzdFtzdG5JZF0pO1xyXG5cclxuICAgICAgICAvLyBpZiAocHJldkNsYXNzICE9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWUpIHtcclxuICAgICAgICAgICAgLy8gTm90IHN1cmUgcG9zaXRpb24sIHJlZHJhdyBhbGxcclxuICAgICAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RuSW5zdGFuY2Uoc3RuSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ubmFtZVBvcyA9IHRoaXMuX3R4dEZsaXAgPyAhdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCkgOiB0aGlzLl9zdG5OYW1lUG9zKHN0bklkKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XHJcbiAgICAgICAgLy8gICAgICQoYCNzdG5faWNvbnMgIyR7c3RuSWR9YCkucmVtb3ZlKCk7XHJcbiAgICAgICAgLy8gICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQodGhpcy5zdGF0aW9uc1tzdG5JZF0uaHRtbCk7XHJcbiAgICAgICAgLy8gICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVTdG4oc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcblxyXG4gICAgICAgIHZhciBwYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgdmFyIGlzTGFzdE1haW5CcmFuY2hTdG4gPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGlkIGluIHRoaXMuc3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKFtzdG5JZCwgJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoaWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuWVNoYXJlTVRSKGlkKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpc0xhc3RNYWluQnJhbmNoU3RuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgJiYgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgLy8gVG8gYmUgcmV3cml0dGVuLCBqb2luIHR3byBicmFuY2hlc1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0xhc3RNYWluQnJhbmNoU3RuKSB7XHJcbiAgICAgICAgICAgIC8vIExhc3QgbWFpbiBsaW5lIHN0YXRpb25cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMocGFyYW0uc3RuX2xpc3QpLmxlbmd0aCA9PSA0KSB7XHJcbiAgICAgICAgICAgIC8vIExhc3QgdHdvIHN0YXRpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgfHwgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgcGFyZW50cy5mb3JFYWNoKHBhcklkID0+IHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3BhcklkXS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuLmZvckVhY2goY2hpbGRJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzID0gcGFyZW50cztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0ucGFyZW50cyA9IHBhcmVudHM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZHJlblswXV0uYnJhbmNoLmxlZnQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShwYXJlbnRzWzBdKT09MiAmJiB0aGlzLl9zdG5JbmRlZ3JlZShjaGlsZHJlblswXSk9PTIpIHtcclxuICAgICAgICAgICAgLy8gMSBwYXIgMSBjaGlsZCwgbGFzdCBzdGF0aW9uIG9uIHVwcGVyL2xvd2VyIGJyYW5jaFxyXG4gICAgICAgICAgICAvLyBicmFuY2ggZGlzYXBwZWFyXHJcbiAgICAgICAgICAgIHZhciBjaGlsZElkeE9mUGFyID0gdGhpcy5zdGF0aW9uc1twYXJlbnRzWzBdXS5jaGlsZHJlbi5pbmRleE9mKHN0bklkKTtcclxuICAgICAgICAgICAgdmFyIHBhcklkeE9mQ2hpbGQgPSB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5wYXJlbnRzLmluZGV4T2Yoc3RuSWQpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJlbnRzWzBdXS5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJZHhPZlBhciwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyZW50c1swXV0uY2hpbGRyZW4uc3BsaWNlKGNoaWxkSWR4T2ZQYXIsIDEpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZHJlblswXV0ucGFyZW50cy5zcGxpY2UocGFySWR4T2ZDaGlsZCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRyZW5bMF1dLnBhcmVudHMuc3BsaWNlKHBhcklkeE9mQ2hpbGQsIDEpO1xyXG5cclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIDEgcGFyIDEgY2hpbGRcclxuICAgICAgICAgICAgcGFyZW50cy5mb3JFYWNoKHBhcklkID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpZHggPSBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uY2hpbGRyZW4uaW5kZXhPZihzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuW2lkeF0gPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5jaGlsZHJlbltpZHhdID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGRlc3RcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcGFySWRdLmJyYW5jaC5yaWdodFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5icmFuY2gucmlnaHRbMV0gPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJJZF0uYnJhbmNoLnJpZ2h0WzFdID0gY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkSWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IHBhcmFtLnN0bl9saXN0W2NoaWxkSWRdLnBhcmVudHMuaW5kZXhPZihzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzW2lkeF0gPSBwYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0ucGFyZW50c1tpZHhdID0gcGFyZW50c1swXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBkZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0ucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkSWRdLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZElkXS5icmFuY2gubGVmdFsxXSA9IHBhcmVudHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPSBwYXJlbnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHBhcmFtLnN0bl9saXN0W3N0bklkXTtcclxuICAgICAgICBkZWxldGUgdGhpcy5zdGF0aW9uc1tzdG5JZF07XHJcblxyXG4gICAgICAgIHZhciBpc0N1cnJlbnRTdG5DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdG5JZCA9PSBzdG5JZCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3Q3VycmVudFN0bklkID0gT2JqZWN0LmtleXModGhpcy5zdGF0aW9ucylbMl07XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdG5JZCA9IG5ld0N1cnJlbnRTdG5JZDtcclxuICAgICAgICAgICAgcGFyYW0uY3VycmVudF9zdG5faWR4ID0gbmV3Q3VycmVudFN0bklkO1xyXG4gICAgICAgICAgICBpc0N1cnJlbnRTdG5DaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgcGFyZW50cy5jb25jYXQoY2hpbGRyZW4pLmZvckVhY2gobmVJZCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMobmVJZCkpIHtyZXR1cm47fVxyXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW25lSWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKG5lSWQsIHBhcmFtLnN0bl9saXN0W25lSWRdKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdG5JbnN0YW5jZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3U3RuUG9zc2libGVMb2MocHJlcDogJ2JlZm9yZScgfCAnYWZ0ZXInLCBzdG5JZDogSUQpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgSURbXSwgSURbXV0ge1xyXG4gICAgICAgIHZhciBkZWcgPSAocHJlcCA9PSAnYmVmb3JlJykgPyB0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgOiB0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpO1xyXG4gICAgICAgIHN3aXRjaCAoZGVnKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIC8vIDEgLT4gMlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxLDEsMSxbXSxbXV07XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5ZU2hhcmVNVFIoc3RuSWQpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAxIC0+IDFcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdGU6IElEW10gfCAwID0gdGhpcy5uZXdCcmFuY2hQb3NzaWJsZUVuZChwcmVwLCBzdG5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAoc3RhdGUubGVuZ3RoKSA/IHN0YXRlIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsxLDAsMCxzdGF0ZSxzdGF0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gWzEsMCwwLDEsMV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3N0bllTaGFyZU1UUihzdG5JZCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXAgPT0gJ2JlZm9yZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9zdG5PdXRkZWdyZWUodGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSktMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLDEsW10sW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bkluZGVncmVlKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKS0xLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsMSxbXSxbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXAgPT0gJ2JlZm9yZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9zdG5PdXRkZWdyZWUodGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSktMSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLDAsW10sW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bkluZGVncmVlKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKS0xLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsMCxbXSxbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFswLDAsMCxbXSxbXV07XHJcbiAgICB9XHJcblxyXG4gICAgbmV3QnJhbmNoUG9zc2libGVFbmQocHJlcDogJ2JlZm9yZScgfCAnYWZ0ZXInLCBzdG5JZDogSUQpIHtcclxuICAgICAgICBsZXQgcmVzOiBJRFtdID0gW107XHJcbiAgICAgICAgaWYgKHByZXAgPT0gJ2JlZm9yZScpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX3N0bkluZGVncmVlKHN0bklkKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBzdG5JZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF07XHJcbiAgICAgICAgICAgICAgICByZXMudW5zaGlmdChzdG5JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnBvcCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpID09IDEpIHtcclxuICAgICAgICAgICAgICAgIHN0bklkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChzdG5JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU3RuKHByZXA6ICdiZWZvcmUnIHwgJ2FmdGVyJywgc3RuSWQ6IElELCBsb2MsIGVuZDogSUQpOiBbSUQsIFN0YXRpb25JbmZvXSB7XHJcbiAgICAgICAgbGV0IG5ld0lkID0gZ2V0UmFuZG9tSWQoKTtcclxuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXModGhpcy5zdGF0aW9ucykuaW5jbHVkZXMobmV3SWQpKSB7XHJcbiAgICAgICAgICAgIG5ld0lkID0gZ2V0UmFuZG9tSWQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG4gICAgICAgIGxldCBuZXdJbmZvID0ge30gYXMgU3RhdGlvbkluZm87XHJcblxyXG4gICAgICAgIGlmIChwcmVwID09ICdiZWZvcmUnKSB7XHJcbiAgICAgICAgICAgIGlmIChsb2MgPT0gJ2NlbnRyZScpIHtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHM7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpPT0wICYmIHRoaXMuX3N0bllTaGFyZU1UUihzdG5JZCkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLmxlZnREZXN0cztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGl2b3Qgb24gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXV0uY2hpbGRyZW47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBbXSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnN0YXRpb25zW25ld0luZm8ucGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW25ld0luZm8ucGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbbmV3SW5mby5wYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGl2b3Qgb24gbWFpblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICd1cHBlcicpIHtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHN0bklkKSA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID09IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzLnNsaWNlKDAsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzLmZvckVhY2gocGFyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgb24gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW5bMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlblswXSA9IG5ld0lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcGFyXS5icmFuY2gucmlnaHRbMV0gPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ2xvd2VyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzLmZvckVhY2gocGFyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1sxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzWzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgb24gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyQ2hpbGRMZW4gPSB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW5bcGFyQ2hpbGRMZW4tMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbltwYXJDaGlsZExlbi0xXSA9IG5ld0lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcGFyXS5icmFuY2gucmlnaHRbMV0gPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ25ld3VwcGVyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbZW5kXTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uY2hpbGRyZW4udW5zaGlmdChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmNoaWxkcmVuLnVuc2hpZnQobmV3SWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMudW5zaGlmdChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cy51bnNoaWZ0KG5ld0lkKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ25ld2xvd2VyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbZW5kXTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uY2hpbGRyZW4ucHVzaChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmNoaWxkcmVuLnB1c2gobmV3SWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMucHVzaChuZXdJZCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cy5wdXNoKG5ld0lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsb2MgPT0gJ2NlbnRyZScpIHtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpPT0wICYmIHRoaXMuX3N0bllTaGFyZU1UUihzdG5JZCkgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IHRoaXMucmlnaHREZXN0cztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RuWVNoYXJlTVRSKHN0bklkKSAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGl2b3Qgb24gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1t0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXV0ucGFyZW50cztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuc3RhdGlvbnNbbmV3SW5mby5jaGlsZHJlblswXV0uYnJhbmNoLmxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tuZXdJbmZvLmNoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W25ld0luZm8uY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gW107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBpdm90IG9uIG1haW5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ3VwcGVyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID09IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4uc2xpY2UoMCwxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW5bMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ2xvd2VyJykge1xyXG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID09IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4uc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoaWxkcmVuWzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgb24gYnJhbmNoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKGNoaWxkKSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50c1swXSA9IG5ld0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHNbMF0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHNbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzWzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW2NoaWxkXS5icmFuY2gubGVmdFsxXSA9PT0gc3RuSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbmV3dXBwZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbZW5kXTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbZW5kXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnVuc2hpZnQobmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoaWxkcmVuLnVuc2hpZnQobmV3SWQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbmV3bG93ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgbmV3SWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbZW5kXTtcclxuICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5wYXJlbnRzLnB1c2gobmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbZW5kXS5wYXJlbnRzLnB1c2gobmV3SWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnB1c2gobmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoaWxkcmVuLnB1c2gobmV3SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdJbmZvLm5hbWUgPSBnZXROYW1lRnJvbUlkKG5ld0lkKTtcclxuICAgICAgICBuZXdJbmZvLmNoYW5nZV90eXBlID0gJ25vbmUnO1xyXG4gICAgICAgIG5ld0luZm8ubnVtID0gJzAwJztcclxuICAgICAgICBuZXdJbmZvLmludGVyY2hhbmdlID0gW1tdXTtcclxuICAgICAgICBuZXdJbmZvLnNlcnZpY2VzID0gWydsb2NhbCddO1xyXG4gICAgICAgIG5ld0luZm8udHJhbnNmZXIgPSB7XHJcbiAgICAgICAgICAgIGluZm86IFtbXV0sIFxyXG4gICAgICAgICAgICB0eXBlOiAnbm9uZScsIFxyXG4gICAgICAgICAgICBvc2lfbmFtZXM6IFtdLCBcclxuICAgICAgICAgICAgcGFpZF9hcmVhOiB0cnVlLCBcclxuICAgICAgICAgICAgdGlja19kaXJlYzogJ3InXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtuZXdJZF0gPSBuZXdJbmZvO1xyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbbmV3SWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKG5ld0lkLCBuZXdJbmZvKTtcclxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXSA9IHRoaXMuX2luaXRTdG5JbnN0YW5jZShzdG5JZCwgZ2V0UGFyYW1zKCkuc3RuX2xpc3Rbc3RuSWRdKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0bkluc3RhbmNlKHN0bklkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgcmV0dXJuIFtuZXdJZCwgbmV3SW5mb107XHJcbiAgICB9XHJcblxyXG4gICAgcmV2ZXJzZVN0bnMoKSB7XHJcbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKHN0bklkID09PSAnbGluZXN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVlbmQnXS5wYXJlbnRzID0gc3RuSW5zdGFuY2UuY2hpbGRyZW4ucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVlbmQnXS5icmFuY2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogc3RuSW5zdGFuY2UuYnJhbmNoLnJpZ2h0LCBcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RuSWQgPT09ICdsaW5lZW5kJykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVzdGFydCddLmNoaWxkcmVuID0gc3RuSW5zdGFuY2UucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFsnbGluZXN0YXJ0J10uYnJhbmNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFtdLCBcclxuICAgICAgICAgICAgICAgICAgICByaWdodDogc3RuSW5zdGFuY2UuYnJhbmNoLmxlZnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB0bXBBcnIgPSBzdG5JbnN0YW5jZS5jaGlsZHJlbi5yZXZlcnNlKCkubWFwKGlkID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmVzdGFydCc6IHJldHVybiAnbGluZWVuZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmVlbmQnOiByZXR1cm4gJ2xpbmVzdGFydCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBpZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbiA9IHN0bkluc3RhbmNlLnBhcmVudHMucmV2ZXJzZSgpLm1hcChpZCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lc3RhcnQnOiByZXR1cm4gJ2xpbmVlbmQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lZW5kJzogcmV0dXJuICdsaW5lc3RhcnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cyA9IHRtcEFycjtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IHN0bkluc3RhbmNlLmJyYW5jaC5yaWdodDtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBzdG5JbnN0YW5jZS5icmFuY2gubGVmdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hUeXBlKHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCB0eXBlOiAndGhyb3VnaCcgfCAnbm9udGhyb3VnaCcpIHtcclxuICAgICAgICBsZXQgZGlyZWMgPSBEaXJlY3Rpb25Mb25nW2RpcmVjdGlvbl07XHJcbiAgICAgICAgLy8gbm8gY2hhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMF0gPT09IHR5cGUpIHtyZXR1cm4gZmFsc2U7fVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2hbZGlyZWNdWzBdID0gdHlwZTtcclxuICAgICAgICBsZXQgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoW2RpcmVjXVswXSA9IHR5cGU7XHJcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCBmaXJzdDogSUQpIHtcclxuICAgICAgICBsZXQgZGlyZWMgPSBEaXJlY3Rpb25Mb25nW2RpcmVjdGlvbl07XHJcbiAgICAgICAgLy8gbm8gY2hhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMV0gPT09IGZpcnN0KSB7cmV0dXJuIGZhbHNlO31cclxuXHJcbiAgICAgICAgbGV0IGJyYW5jaEVuZElkID0gZmlyc3Q7XHJcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICAgICAgaWYgKGRpcmVjID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5pbkRlZ3JlZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYnJhbmNoRW5kSWQgPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYnJhbmNoRmlyc3RJZHggPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5pbmRleE9mKGZpcnN0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHRbMV0gPSBmaXJzdDtcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0uYnJhbmNoLmxlZnRbMV0gPSBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0uYnJhbmNoLmxlZnRbMV0gPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5wYXJlbnRzW2JyYW5jaEZpcnN0SWR4XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ub3V0RGVncmVlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLnBhcmVudHNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGJyYW5jaEZpcnN0SWR4ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5pbmRleE9mKGZpcnN0KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gZmlyc3Q7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmJyYW5jaC5yaWdodFsxXSA9IHBhcmFtLnN0bl9saXN0W2JyYW5jaEVuZElkXS5icmFuY2gucmlnaHRbMV0gPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5jaGlsZHJlblticmFuY2hGaXJzdElkeF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xyXG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQnJhbmNoUG9zKHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCBwb3M6IDAgfCAxKSB7XHJcbiAgICAgICAgbGV0IGRpcmVjID0gRGlyZWN0aW9uTG9uZ1tkaXJlY3Rpb25dO1xyXG4gICAgICAgIC8vIG5vIGNoYW5nZVxyXG4gICAgICAgIGlmIChkaXJlYyA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4uaW5kZXhPZih0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRbMV0pID09PSBwb3MpIHtyZXR1cm4gZmFsc2U7fVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzLmluZGV4T2YodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0pID09PSBwb3MpIHtyZXR1cm4gZmFsc2U7fVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGJyYW5jaEVuZElkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoW2RpcmVjXVsxXTtcclxuICAgICAgICBsZXQgcGFyYW0gPSBnZXRQYXJhbXMoKTtcclxuICAgICAgICBpZiAoZGlyZWMgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmluRGVncmVlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoaWxkcmVuLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2JyYW5jaEVuZElkXS5wYXJlbnRzLnJldmVyc2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGlsZSAodGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ub3V0RGVncmVlID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLnBhcmVudHNbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0uY2hpbGRyZW4ucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0uY2hpbGRyZW4ucmV2ZXJzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xyXG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcclxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xyXG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcclxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xlYXJTVkcoKSB7XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucywgI2xpbmVfbWFpbiwgI2xpbmVfcGFzcycpLmVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluaXRTVkcobGluZTogUk1HTGluZSkge1xyXG4gICAgICAgIGxpbmUuZHJhd1NWR0ZyYW1lKCk7XHJcbiAgICAgICAgbGluZS5zaG93RnJhbWVPdXRlcigpO1xyXG4gICAgICAgIGxpbmUuZHJhd1N0bnMoKTtcclxuICAgICAgICBsaW5lLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgIGxpbmUuZHJhd0xpbmUoKTtcclxuICAgICAgICBsaW5lLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIGxpbmUuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXR0ZXIgb2YgYWxsIGJyYW5jaGVzICjmlK/nt5rmrrUpIG9mIHRoZSBsaW5lLiBUaGUgZmlyc3QgYnJhbmNoIG11c3QgYmUgdGhlIG1haW4gbGluZS4gXHJcbiAgICAgKi9cclxuICAgIGdldCBicmFuY2hlcygpIHtcclxuICAgICAgICB2YXIgc3RhY2sgPSBbJ2xpbmVzdGFydCddO1xyXG4gICAgICAgIHZhciBicmFuY2hlczogSURbXVtdID0gW1tdXTtcclxuICAgICAgICB2YXIgYnJhbmNoQ291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cklkID0gc3RhY2suc2hpZnQoKTtcclxuICAgICAgICAgICAgdmFyIHByZXZJZCA9IGJyYW5jaGVzW2JyYW5jaENvdW50XVswXSB8fCBudWxsO1xyXG4gICAgICAgICAgICB2YXIgY3VyQnJhbmNoID0gW2N1cklkXTtcclxuICAgICAgICAgICAgaWYgKHByZXZJZCkge2N1ckJyYW5jaC51bnNoaWZ0KHByZXZJZCk7fVxyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cklkID09ICdsaW5lZW5kJykge2JyZWFrO31cclxuICAgICAgICAgICAgICAgIGlmIChjdXJJZCAhPSAnbGluZXN0YXJ0JyAmJiBwcmV2SWQgPT0gdGhpcy5zdGF0aW9uc1tjdXJJZF0uYnJhbmNoLmxlZnRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBicmFuY2ggZW5kc1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SWQgPSBjdXJJZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySWQgPSBjaGlsZHJlblswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2SWQgPT0gJ2xpbmVzdGFydCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnJhbmNoTmV4dElkID0gdGhpcy5zdGF0aW9uc1twcmV2SWRdLmJyYW5jaC5yaWdodFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJyYW5jaE5leHRJZCA9IHRoaXMuc3RhdGlvbnNbcHJldklkXS5icmFuY2gucmlnaHRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgYnJhbmNoTmV4dElkID0gZ2V0UGFyYW1zKCkuc3RuX2xpc3RbcHJldklkXS5icmFuY2gucmlnaHRbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGJyYW5jaE5leHRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJJZCA9IGNoaWxkcmVuLmZpbHRlcihzdG5JZCA9PiBzdG5JZCAhPSBicmFuY2hOZXh0SWQpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGN1ckJyYW5jaC5wdXNoKGN1cklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmFuY2hlc1ticmFuY2hDb3VudF0gPSBjdXJCcmFuY2g7XHJcbiAgICAgICAgICAgIGJyYW5jaENvdW50Kys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYnJhbmNoZXMubWFwKGJyYW5jaCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBicmFuY2guZmlsdGVyKHN0bklkID0+ICFbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHRlciBvZiByb3V0ZXMgKOihjOi7iuS6pOi3rykgb2YgdGhlIGxpbmUuIFRoZSBmaXJzdCByb3V0ZSBtdXN0IGJlIHRoZSBtYWluIGxpbmUuIFxyXG4gICAgICovXHJcbiAgICBnZXQgcm91dGVzKCkge1xyXG4gICAgICAgIHZhciBzdGFjayA9IFsnbGluZXN0YXJ0J107XHJcbiAgICAgICAgdmFyIGJyYW5jaGVzID0gW1snbGluZXN0YXJ0J11dO1xyXG4gICAgICAgIHZhciBicmFuY2hDb3VudCA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgY3VySWQgPSBzdGFjay5zaGlmdCgpO1xyXG4gICAgICAgICAgICB2YXIgcHJldklkID0gYnJhbmNoZXNbYnJhbmNoQ291bnRdLnNsaWNlKCkucmV2ZXJzZSgpWzBdIHx8IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChwcmV2SWQgJiYgY3VySWQgIT09ICdsaW5lc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hlc1ticmFuY2hDb3VudF0ucHVzaChjdXJJZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmFuY2hlc1ticmFuY2hDb3VudF0gPSBbY3VySWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJJZCAhPT0gJ2xpbmVlbmQnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2SWQgPSBjdXJJZDtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbcHJldklkXS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBicmFuY2hOZXh0SWQgPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYnJhbmNoQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcHJldklkXS5icmFuY2gucmlnaHRbMF0gPT09ICd0aHJvdWdoJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmNoZXMucHVzaChicmFuY2hlc1ticmFuY2hDb3VudF0uc2xpY2UoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGJyYW5jaE5leHRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnJhbmNoQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGJyYW5jaE5leHRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cklkID0gY2hpbGRyZW4uZmlsdGVyKHN0bklkID0+IHN0bklkICE9IGJyYW5jaE5leHRJZClbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJhbmNoZXNbYnJhbmNoQ291bnRdLnB1c2goY3VySWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcmV2SWQgPT09IHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzFdICYmIHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzBdID09PSAnbm9udGhyb3VnaCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBicmFuY2hlc1ticmFuY2hDb3VudF0gPSBjdXJCcmFuY2g7XHJcbiAgICAgICAgICAgIGJyYW5jaENvdW50Kys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYnJhbmNoZXM7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdXBkYXRlUGFyYW0sIGdldFBhcmFtcyB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgTURDRGlhbG9nIH0gZnJvbSAnQG1hdGVyaWFsL2RpYWxvZyc7XHJcblxyXG5jb25zdCBnZXRMaW5lQ2xhc3MgPSBhc3luYyAoc3R5bGU6IHN0cmluZykgPT4ge1xyXG4gICAgc3dpdGNoIChzdHlsZSkge1xyXG4gICAgICAgIGNhc2UgJ210cic6XHJcbiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJMaW5lSEtcIiAqLyAnLi9MaW5lSEsnKVxyXG4gICAgICAgICAgICAudGhlbigoeyBSTUdMaW5lSEsgfSkgPT4gUk1HTGluZUhLKTtcclxuICAgICAgICBjYXNlICdnem10cic6XHJcbiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJMaW5lR1pcIiAqLyAnLi9MaW5lR1onKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHsgUk1HTGluZUdaIH0pID0+IFJNR0xpbmVHWik7XHJcbiAgICAgICAgY2FzZSAnc2htZXRybyc6XHJcbiAgICAgICAgICAgIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJMaW5lU0hcIiAqLyAnLi9MaW5lU0gnKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHsgUk1HTGluZVNIIH0pID0+IFJNR0xpbmVTSCk7XHJcbiAgICAgICAgLy8gYW55IG90aGVyIHN0eWxlc1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XHJcbiAgICBcclxuY29uc3QgbG9hZExpbmUgPSBhc3luYyAocGFyYW0pID0+IHtcclxuICAgIGxldCBsaW5lQ2xhc3MgPSBhd2FpdCBnZXRMaW5lQ2xhc3Mod2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJykpO1xyXG4gICAgd2luZG93Lm15TGluZSA9IGF3YWl0IG5ldyBsaW5lQ2xhc3MocGFyYW0pO1xyXG4gICAgbGluZUNsYXNzLmluaXRTVkcod2luZG93Lm15TGluZSk7XHJcbn1cclxuXHJcbmlmIChsb2NhbFN0b3JhZ2Uucm1nUGFyYW0gIT0gbnVsbCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB1cGRhdGVQYXJhbSgpO1xyXG4gICAgICAgIGxvYWRMaW5lKGdldFBhcmFtcygpKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGxldCBpbml0RXJyRGlhZyA9IE1EQ0RpYWxvZy5hdHRhY2hUbygkKCcjaW5pdF9lcnJfZGlhZycpWzBdKTtcclxuICAgICAgICAkKCcjaW5pdF9lcnJfZGlhZycpXHJcbiAgICAgICAgICAgIC5maW5kKCcjZXJyX3N0YWNrJylcclxuICAgICAgICAgICAgLmh0bWwoZXJyICsgJzxicj4nICsgZXJyLnN0YWNrLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpKTtcclxuICAgICAgICBpbml0RXJyRGlhZy5vcGVuKCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG59IGVsc2Uge1xyXG4gICAgJC5nZXRKU09OKGB0ZW1wbGF0ZXMvYmxhbmsuanNvbmAsIGRhdGEgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5ybWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgIHVwZGF0ZVBhcmFtKCk7XHJcbiAgICAgICAgbG9hZExpbmUoZ2V0UGFyYW1zKCkpO1xyXG4gICAgfSk7XHJcbn1cclxuICAgIFxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBNRENUYWJCYXIgfSBmcm9tICdAbWF0ZXJpYWwvdGFiLWJhcic7XHJcbmltcG9ydCB7IE1EQ1NsaWRlciB9IGZyb20gJ0BtYXRlcmlhbC9zbGlkZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbmxldCBmaXJzdEluaXQgPSBbZmFsc2UsIHRydWUsIHRydWUsIHRydWUsIHRydWVdO1xyXG53aW5kb3cuc2xpZGVycyA9IFtdIGFzIE1EQ1NsaWRlcltdO1xyXG5cclxuTURDVGFiQmFyLmF0dGFjaFRvKCQoJyNwYW5lbHMgLm1kYy10YWItYmFyJylbMF0pLmxpc3RlbignTURDVGFiQmFyOmFjdGl2YXRlZCcsIChldmVudDogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICQoJy5wYW5lbC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3BhbmVsLS1hY3RpdmUnKTtcclxuICAgICQoJy5wYW5lbCcpLmVxKGV2ZW50LmRldGFpbC5pbmRleCkuYWRkQ2xhc3MoJ3BhbmVsLS1hY3RpdmUnKTtcclxuXHJcbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09IDEgJiYgZmlyc3RJbml0WzFdKSB7XHJcbiAgICAgICAgaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaW5pdExheW91dFwiICovICcuL2xheW91dCcpXHJcbiAgICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuY29tbW9uKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJykgPT09ICdnem10cicpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZ3ptdHIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpcnN0SW5pdFsxXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChldmVudC5kZXRhaWwuaW5kZXggPT09IDEpIHtcclxuICAgICAgICB3aW5kb3cuc2xpZGVycy5mb3JFYWNoKHNsaWRlciA9PiBzbGlkZXIubGF5b3V0KCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PSAyICYmIGZpcnN0SW5pdFsyXSkge1xyXG4gICAgICAgIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImluaXREZXNpZ25cIiAqLyAnLi9kZXNpZ24nKVxyXG4gICAgICAgICAgICAudGhlbihtb2R1bGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLmNvbW1vbigpO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ210cic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5tdHIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ3ptdHInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZ3ptdHIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaXJzdEluaXRbMl0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09IDMgJiYgZmlyc3RJbml0WzNdKSB7XHJcbiAgICAgICAgaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiaW5pdFN0YXRpb25zXCIgKi8gJy4vc3RhdGlvbnMnKVxyXG4gICAgICAgICAgICAudGhlbihtb2R1bGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLmNvbW1vbigpO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RJbml0WzNdID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PSA0ICYmIGZpcnN0SW5pdFs0XSkge1xyXG4gICAgICAgIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcImluaXRJbmZvXCIgKi8gJy4vaW5mbycpXHJcbiAgICAgICAgICAgIC50aGVuKG1vZHVsZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGUuY29tbW9uKCk7XHJcbiAgICAgICAgICAgICAgICBmaXJzdEluaXRbNF0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgZ2V0UGFyYW1zLCBnZXRUcmFuc1RleHQsIHRlc3QsIGRlc2NyaWJlUGFyYW1zLCBSTUdQYXJhbSB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgUk1HTGluZSB9IGZyb20gJy4uL0xpbmUvTGluZSc7XHJcbmltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gJ0BtYXRlcmlhbC9kaWFsb2cnO1xyXG5pbXBvcnQgeyBNRENMaXN0IH0gZnJvbSAnQG1hdGVyaWFsL2xpc3QnO1xyXG5pbXBvcnQgeyBNRENSaXBwbGUgfSBmcm9tICdAbWF0ZXJpYWwvcmlwcGxlJztcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgICAgIHVybFBhcmFtcz86IFVSTFNlYXJjaFBhcmFtcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHsgICAgXHJcbiAgICAvLyBtZGMgaW50YW5jZXMgXHJcbiAgICBjb25zdCBbdGVtcGxhdGVEaWFsb2csIGltcG9ydERpYWxvZywgZXhwb3J0RGlhbG9nLCBwcmV2aWV3RGlhbG9nLCBzdHlsZURpYWxvZywgbGFuZ0RpYWxvZ10gPSBcclxuICAgICAgICBbJyN0ZW1wbGF0ZV9kaWFnJywgJyNpbXBvcnRfZGlhZycsICcjZXhwb3J0X2RpYWcnLCAnI3ByZXZpZXdfZGlhZycsICcjc3R5bGVfZGlhZycsICcjbGFuZ19kaWFnJ11cclxuICAgICAgICAgICAgLm1hcChzZWxlY3RvciA9PiBNRENEaWFsb2cuYXR0YWNoVG8oJChzZWxlY3RvcilbMF0pKTtcclxuICAgIGNvbnN0IFtzYXZlTGlzdDAsIHNhdmVMaXN0MV0gPSAkKCcjcGFuZWxfc2F2ZSAubWRjLWxpc3QnKS5tYXAoKF8sZWwpID0+IE1EQ0xpc3QuYXR0YWNoVG8oZWwpKS5nZXQoKTtcclxuICAgICQoJyNwYW5lbF9zYXZlIC5tZGMtbGlzdCBsaScpLm1hcCgoXyxlbCkgPT4gbmV3IE1EQ1JpcHBsZShlbCkpO1xyXG5cclxuICAgIHNhdmVMaXN0MC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2ZpbGUnKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIC8vIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSBuZXcgQmxvYihbbG9jYWxTdG9yYWdlLnJtZ1BhcmFtXSwge3R5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnfSk7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmRvd25sb2FkID0gJ3JtZ19jb25maWcuanNvbic7XHJcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcbiAgICAgICAgICAgICAgICAvLyBicmVhaztcclxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJCgnPGE+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6ICdkYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCcrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQobG9jYWxTdG9yYWdlLnJtZ1BhcmFtKSkpLCBcclxuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZDogJ3JtZ19wYXJhbS5qc29uJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsaW5rWzBdLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgZXhwb3J0RGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNwYW5lbF9zYXZlIC5tZGMtbGlzdDpudGgtY2hpbGQoMikgbGk6Zmlyc3QtY2hpbGQgc3BhbjpudGgtY2hpbGQoMikgc3BhbjpsYXN0LWNoaWxkJylcclxuICAgICAgICAuYXR0cigndHJhbnMtdGFnJywgJChgI3N0eWxlX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfVwiXSBzcGFuYCkuYXR0cigndHJhbnMtdGFnJykpXHJcbiAgICAgICAgLnRleHQoJChgI3N0eWxlX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdzdHlsZScpfVwiXSBzcGFuYCkudGV4dCgpKTtcclxuXHJcbiAgICAkKCcjcGFuZWxfc2F2ZSAubWRjLWxpc3Q6bnRoLWNoaWxkKDIpIGxpOm50aC1jaGlsZCgyKSBzcGFuOm50aC1jaGlsZCgyKSBzcGFuOmxhc3QtY2hpbGQnKVxyXG4gICAgICAgIC50ZXh0KCQoYCNsYW5nX2RpYWcgW2RhdGEtbWRjLWRpYWxvZy1hY3Rpb249XCIke3dpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyl9XCJdIHNwYW5gKS50ZXh0KCkpO1xyXG4gICAgICAgIFxyXG4gICAgc2F2ZUxpc3QxLmxpc3RlbignTURDTGlzdDphY3Rpb24nLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmluZGV4KSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHN0eWxlRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBsYW5nRGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQuZ2V0SlNPTigndGVtcGxhdGVzL3RlbXBsYXRlX2xpc3QuanNvbicsIGRhdGEgPT4ge1xyXG4gICAgICAgIHZhciBsYW5nID0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKTtcclxuICAgICAgICBkYXRhLmZvckVhY2goZCA9PiB7XHJcbiAgICAgICAgICAgICQoJyN0ZW1wbGF0ZV9kaWFnIHVsJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPGxpPicsIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJtZGMtbGlzdC1pdGVtXCIsIFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLW1kYy1kaWFsb2ctYWN0aW9uJzogZC5maWxlbmFtZVxyXG4gICAgICAgICAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJzxzcGFuPicsIHsgY2xhc3M6IFwibWRjLWxpc3QtaXRlbV9fdGV4dFwiIH0pLnRleHQoZ2V0VHJhbnNUZXh0KGQuZGVzYywgbGFuZykpXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyN0ZW1wbGF0ZV9kaWFnIGxpOmZpcnN0LWNoaWxkJykuYXR0cigndGFiaW5kZXgnLCAwKTtcclxuICAgICAgICAkKCcjdGhlbWVfbGluZV9fc2VsZWN0aW9uIGxpJykubWFwKChfLGVsKSA9PiBuZXcgTURDUmlwcGxlKGVsKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZW1wbGF0ZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5hY3Rpb24gPT0gJ2Nsb3NlJykge3JldHVybjt9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJC5nZXRKU09OKGB0ZW1wbGF0ZXMvJHtldmVudC5kZXRhaWwuYWN0aW9ufS5qc29uYCwgZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5ybWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBleHBvcnREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3ZnMSc6XHJcbiAgICAgICAgICAgICAgICAkKCcjcHJldmlld19kaWFnJykuYXR0cignZm9yJywgJ2Rlc3RpbmF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICBwcmV2aWV3RGlhbG9nLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzdmcyJzpcclxuICAgICAgICAgICAgICAgICQoJyNwcmV2aWV3X2RpYWcnKS5hdHRyKCdmb3InLCAncmFpbG1hcCcpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlld0RpYWxvZy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIF8gPT4ge1xyXG4gICAgICAgIHJlc2l6ZVNWR1ByZXZpZXcoKTtcclxuICAgICAgICAvLyAkKCcjcHJldmlld19kaWFnIC5tZGMtZGlhbG9nX19zdXJmYWNlJykuYXR0cignc3R5bGUnLCBgbWF4LXdpZHRoOiR7JCh3aW5kb3cpLndpZHRoKCktMzJ9cHg7YCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlc2l6ZVNWR1ByZXZpZXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHN2Z0lkID0gJCgncHJldmlld19kaWFnJykuYXR0cignZm9yJyk7XHJcbiAgICAgICAgdmFyIFt0aGlzU1ZHV2lkdGgsIHRoaXNTVkdIZWlnaHRdID0gW1xyXG4gICAgICAgICAgICBzdmdJZD09J2Rlc3RpbmF0aW9uJyA/IGdldFBhcmFtcygpLnN2Z19kZXN0X3dpZHRoIDogZ2V0UGFyYW1zKCkuc3ZnX3dpZHRoLCBcclxuICAgICAgICAgICAgZ2V0UGFyYW1zKCkuc3ZnX2hlaWdodFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgdmFyIE1BWF9XSURUSCA9ICQod2luZG93KS53aWR0aCgpIC0gMzIgLSA1MDtcclxuICAgICAgICB2YXIgTUFYX0hFSUdIVCA9ICQod2luZG93KS5oZWlnaHQoKSAtIDYwIC0gNTMgLSA2MDtcclxuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSBNYXRoLm1pbihNQVhfV0lEVEgvdGhpc1NWR1dpZHRoLCBNQVhfSEVJR0hUL3RoaXNTVkdIZWlnaHQpO1xyXG5cclxuICAgICAgICAkKCcjcHJldmlld19kaWFnJylcclxuICAgICAgICAgICAgLmZpbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzU1ZHV2lkdGggKiBzY2FsZUZhY3RvciwgXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXNTVkdIZWlnaHQgKiBzY2FsZUZhY3RvclxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3ByZXZpZXdfZGlhZycpXHJcbiAgICAgICAgICAgIC5maW5kKCcubWRjLWRpYWxvZ19fc3VyZmFjZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGBtYXgtd2lkdGg6JHtNQVhfV0lEVEgrNTB9cHg7YCk7XHJcbiAgICB9XHJcbiAgICBwcmV2aWV3RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5lZCcsIGV2ZW50ID0+IHtcclxuICAgICAgICB2YXIgc3ZnSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XHJcbiAgICAgICAgdmFyIFt0aGlzU1ZHV2lkdGgsIHRoaXNTVkdIZWlnaHRdID0gW1xyXG4gICAgICAgICAgICBzdmdJZD09J2Rlc3RpbmF0aW9uJyA/IGdldFBhcmFtcygpLnN2Z19kZXN0X3dpZHRoIDogZ2V0UGFyYW1zKCkuc3ZnX3dpZHRoLCBcclxuICAgICAgICAgICAgZ2V0UGFyYW1zKCkuc3ZnX2hlaWdodFxyXG4gICAgICAgIF1cclxuXHJcbiAgICAgICAgJCgnI3ByZXZpZXdfZGlhZyAubWRjLWRpYWxvZ19fc3VyZmFjZScpLmF0dHIoJ3N0eWxlJywgYG1heC13aWR0aDokeyQod2luZG93KS53aWR0aCgpLTMyfXB4O2ApO1xyXG5cclxuICAgICAgICB2YXIgTUFYX1dJRFRIID0gJCh3aW5kb3cpLndpZHRoKCkgLSAzMiAtIDUwO1xyXG4gICAgICAgIHZhciBNQVhfSEVJR0hUID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gNjAgLSA1MyAtIDYwO1xyXG4gICAgICAgIHZhciBzY2FsZUZhY3RvciA9IE1hdGgubWluKE1BWF9XSURUSC90aGlzU1ZHV2lkdGgsIE1BWF9IRUlHSFQvdGhpc1NWR0hlaWdodCk7XHJcblxyXG4gICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCcjJyskKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJykpLmNsb25lKCkuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdhbGw6aW5pdGlhbDsnLCBcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7dGhpc1NWR1dpZHRofSAke3RoaXNTVkdIZWlnaHR9YCwgXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXNTVkdXaWR0aCAqIHNjYWxlRmFjdG9yLCBcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXNTVkdIZWlnaHQgKiBzY2FsZUZhY3RvclxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IGNzc1R4dCA9IFsnc2hhcmUnLCAkKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkuZmluZCgnc3ZnJylbMF0uaWRdXHJcbiAgICAgICAgICAgIC5tYXAodGFnID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICAgICAgICAgICgoPEhUTUxMaW5rRWxlbWVudD4kKGBsaW5rI2Nzc18ke3RhZ31gKVswXSkuc2hlZXQgYXMgQ1NTU3R5bGVTaGVldCkuY3NzUnVsZXNcclxuICAgICAgICAgICAgICAgICkubWFwKHJ1bGUgPT4gcnVsZS5jc3NUZXh0KS5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCdzdmcnKS5wcmVwZW5kKC4uLmNzc1R4dC5tYXAodHh0ID0+ICQoJzxzdHlsZT4nKS50ZXh0KHR4dCkpKTtcclxuICAgICAgICBcclxuICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmluZCgnc3ZnIFtzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCJdJykucmVtb3ZlKCk7XHJcbiAgICB9KTtcclxuICAgIHByZXZpZXdEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5yZW1vdmVBdHRyKCdmb3InKS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAncG5nJykge1xyXG4gICAgICAgICAgICB0ZXN0KCQoZXZlbnQudGFyZ2V0KS5yZW1vdmVBdHRyKCdmb3InKS5maW5kKCdzdmcnKSk7XHJcbiAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnc3ZnJykge1xyXG4gICAgICAgICAgICAvLyBQcmVwZW5kIGNzcyBzdHlsZXNoZWV0IHRvIHN2Z1xyXG4gICAgICAgICAgICBsZXQgc3ZnQ29udGVudCA9ICQoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCBzdmcnKTtcclxuICAgICAgICAgICAgLy8gbGV0IGNzc1R4dCA9IFsnc2hhcmUnLCBzdmdDb250ZW50WzBdLmlkXVxyXG4gICAgICAgICAgICAvLyAgICAgLm1hcCh0YWcgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAoKDxIVE1MTGlua0VsZW1lbnQ+JChgbGluayNjc3NfJHt0YWd9YClbMF0pLnNoZWV0IGFzIENTU1N0eWxlU2hlZXQpLmNzc1J1bGVzXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgKS5tYXAocnVsZSA9PiBydWxlLmNzc1RleHQpLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBzdmdDb250ZW50LnByZXBlbmQoXHJcbiAgICAgICAgICAgIC8vICAgICAuLi5jc3NUeHQubWFwKHR4dCA9PiAkKCc8c3R5bGU+JykudGV4dCh0eHQpKVxyXG4gICAgICAgICAgICAvLyApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCcgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdmdDb250ZW50WzBdLm91dGVySFRNTCkpKTtcclxuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9ICdybWdfZXhwb3J0LnN2Zyc7XHJcbiAgICAgICAgICAgIGxpbmsuY2xpY2soKTtcclxuICAgIFxyXG4gICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkucmVtb3ZlQXR0cignZm9yJykuZmluZCgnLm1kYy1kaWFsb2dfX2NvbnRlbnQnKS5lbXB0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBpbXBvcnRlZEZpbGU6IFJNR1BhcmFtO1xyXG4gICAgKCQoJyN1cGxvYWRfZmlsZScpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcclxuICAgICAgICAub24oJ2NoYW5nZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRlZEZpbGUgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCBhcyB1bmtub3duIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjaW1wb3J0X2RpYWcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwoZGVzY3JpYmVQYXJhbXMoaW1wb3J0ZWRGaWxlKSk7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnREaWFsb2cub3BlbigpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChldmVudC50YXJnZXQuZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgaW1wb3J0RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsIChldmVudDogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7XHJcbiAgICAgICAgICAgICgkKCcjdXBsb2FkX2ZpbGUnKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoaW1wb3J0ZWRGaWxlKTtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdHlsZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzogXHJcbiAgICAgICAgICAgIGNhc2Ugd2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cudXJsUGFyYW1zLnNldCgnc3R5bGUnLCBldmVudC5kZXRhaWwuYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGxhbmdEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09ICdjbG9zZScpIHtyZXR1cm47fVxyXG4gICAgICAgIHZhciBuZXh0TGFuZyA9IGV2ZW50LmRldGFpbC5hY3Rpb247XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ0xhbmcgPSBuZXh0TGFuZztcclxuICAgICAgICBpZiAobmV4dExhbmcgPT0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCBuZXh0TGFuZyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCJpbXBvcnQgeyBJRCwgTmFtZSwgQnJhbmNoSW5mbywgU3RhdGlvbkluZm8gfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUk1HU3RhdGlvbiB7XHJcbiAgICBTVE5fTkFNRV9ZID0gLTEwLjU7XHJcbiAgICBTVE5fTkFNRV9CQVNFX0hFSUdIVCA9IDMwLjM5MDYyNTtcclxuICAgIFNUTl9OQU1FX0xJTkVfR0FQID0gMTQ7XHJcbiAgICBTVE5fTkFNRV9CR19BREpVU1QgPSAwLjU7XHJcblxyXG4gICAgcHVibGljIGlkOiBJRDtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gICAgcHVibGljIHN0YXRlOiAtMSB8IDAgfCAxO1xyXG4gICAgcHVibGljIHBhcmVudHM6IElEW107XHJcbiAgICBwdWJsaWMgY2hpbGRyZW46IElEW107XHJcbiAgICBwdWJsaWMgbmFtZVBvczogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBuYW1lOiBOYW1lO1xyXG4gICAgcHVibGljIGJyYW5jaDogQnJhbmNoSW5mbztcclxuICAgIHB1YmxpYyBzdG5OdW06IHN0cmluZztcclxuICAgIHB1YmxpYyBzZXJ2aWNlczogU2V0PCdsb2NhbCcgfCAnZXhwcmVzcyc+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMucGFyZW50cyA9IGRhdGEucGFyZW50cztcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gZGF0YS5jaGlsZHJlbjtcclxuICAgICAgICB0aGlzLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5icmFuY2ggPSBkYXRhLmJyYW5jaDtcclxuICAgICAgICB0aGlzLnNlcnZpY2VzID0gbmV3IFNldChkYXRhLnNlcnZpY2VzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5EZWdyZWUoKSB7cmV0dXJuIHRoaXMucGFyZW50cy5sZW5ndGg7fVxyXG4gICAgZ2V0IG91dERlZ3JlZSgpIHtyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7fVxyXG5cclxuICAgIGdldCBuYW1lQ2xhc3MoKTogc3RyaW5nIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnUGFzcyc7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnQ3VycmVudCc7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Z1dHVyZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBfbmFtZVR4dEFuY2hvcigpIHtyZXR1cm4gJ21pZGRsZSc7fVxyXG4gICAgZ2V0IF9uYW1lRFgoKSB7cmV0dXJuIDA7fVxyXG4gICAgZ2V0IF9uYW1lRFkoKSB7cmV0dXJuIDA7fVxyXG5cclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgbmFtZUVOcyA9IHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5uYW1lUG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBkeSA9IHRoaXMuU1ROX05BTUVfTElORV9HQVAgLSB0aGlzLlNUTl9OQU1FX1kgLSB0aGlzLlNUTl9OQU1FX0JHX0FESlVTVDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZHkgPSAtdGhpcy5TVE5fTkFNRV9MSU5FX0dBUCAtIHRoaXMuU1ROX05BTUVfWSAtIHRoaXMuU1ROX05BTUVfQkFTRV9IRUlHSFQgLSAobmFtZUVOcy5sZW5ndGgtMSkqMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGR5IC09IHRoaXMuU1ROX05BTUVfQkdfQURKVVNUO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAkKCcjY3VycmVudF9iZycpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55ICsgZHkgKyB0aGlzLlNUTl9OQU1FX1kgLSAxLjUgKyB0aGlzLl9uYW1lRFksIFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLlNUTl9OQU1FX0JBU0VfSEVJR0hUICsgKG5hbWVFTnMubGVuZ3RoLTEpKjEwICsyICsxLjVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbmFtZUVOcCA9IG5hbWVFTnMuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVFTkVsZW0gPSAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgIGR5OiAxNSwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX210ci0tc3RhdGlvbidcclxuICAgICAgICB9KS50ZXh0KG5hbWVFTnApO1xyXG4gICAgICAgIHdoaWxlIChuYW1lRU5wID0gbmFtZUVOcy5zaGlmdCgpKSB7XHJcbiAgICAgICAgICAgIG5hbWVFTkVsZW0uYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHRzcGFuPicsIHsgeDogMCwgZHk6IDEwLCAnYWxpZ25tZW50LWJhc2VsaW5lJzonbWlkZGxlJyB9KS50ZXh0KG5hbWVFTnApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggKyB0aGlzLl9uYW1lRFh9LCR7dGhpcy55ICsgZHkgKyB0aGlzLl9uYW1lRFl9KWAsIFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl9uYW1lVHh0QW5jaG9yLCBcclxuICAgICAgICAgICAgJ2NsYXNzJzogYE5hbWUgJHt0aGlzLm5hbWVDbGFzc31gXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19tdHItLXN0YXRpb24nKS50ZXh0KHRoaXMubmFtZVswXSlcclxuICAgICAgICApLmFwcGVuZChcclxuICAgICAgICAgICAgbmFtZUVORWxlbVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb25DbGFzcygpIHtyZXR1cm4gdGhpcy5zdGF0ZSA9PSAtMSA/ICdybWctc3RuX19tdHItLXBhc3MnIDogJ3JtZy1zdG5fX210ci0tZnV0dXJlJzt9XHJcblxyXG4gICAgZ2V0IGljb25IVE1MKCkge1xyXG4gICAgICAgIHJldHVybiAkKCc8dXNlPicsIHtcclxuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI3N0bl9oaycsIFxyXG4gICAgICAgICAgICB4OiB0aGlzLngsIHk6IHRoaXMueSwgXHJcbiAgICAgICAgICAgIGNsYXNzOiB0aGlzLmljb25DbGFzc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1bmdycEhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge2lkOnRoaXMuaWR9KS5hcHBlbmQoLi4udGhpcy51bmdycEhUTUwpO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgKiBhcyBpbml0U2F2ZSBmcm9tICcuL1BhZ2VJbml0aWFsaXNlci9zYXZlJztcclxuaW1wb3J0ICogYXMgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lL0xpbmUnO1xyXG5pbXBvcnQgaW5pdExpbmUgZnJvbSAnLi9MaW5lL2luaXQnO1xyXG5pbXBvcnQgaW5pdFBhbmVscyBmcm9tICcuL1BhZ2VJbml0aWFsaXNlci9pbml0JztcclxuaW1wb3J0IHsgZ2V0UGFyYW1zIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICBteUxpbmU/OiBSTUdMaW5lO1xyXG4gICAgICAgIHVybFBhcmFtcz86IFVSTFNlYXJjaFBhcmFtcztcclxuICAgIH1cclxufVxyXG5cclxudmFyIHJlcXVlc3RMYW5nID0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKSB8fCBsb2NhbFN0b3JhZ2Uucm1nTGFuZyB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3BsaXQoJy0nKS5zbGljZSgwLDIpLmpvaW4oJy0nKTtcclxuc3dpdGNoIChyZXF1ZXN0TGFuZy50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICBjYXNlICd6aC1jbic6XHJcbiAgICBjYXNlICd6aC1oYW5zJzpcclxuICAgICAgICB3aW5kb3cudXJsUGFyYW1zLnNldCgnbGFuZycsICd6aC1IYW5zJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd6aCc6XHJcbiAgICBjYXNlICd6aC1oayc6XHJcbiAgICBjYXNlICd6aC10dyc6XHJcbiAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCAnemgtSEsnKTtcclxuICAgICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6IHdpbmRvdy51cmxQYXJhbXMuc2V0KCdsYW5nJywgJ2VuJyk7XHJcbn1cclxuXHJcbnN3aXRjaCAod2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJykpIHtcclxuICAgIGNhc2UgJ210cic6XHJcbiAgICBjYXNlICdnem10cic6XHJcbiAgICBjYXNlICdzaG1ldHJvJzpcclxuICAgICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6IHdpbmRvdy51cmxQYXJhbXMuc2V0KCdzdHlsZScsICdtdHInKTtcclxufVxyXG5oaXN0b3J5LnB1c2hTdGF0ZSh7dXJsOndpbmRvdy5sb2NhdGlvbi5ocmVmfSwgbnVsbCwgJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpKTtcclxuXHJcbi8vIGxvYWQgc3R5bGVzaGVldHMgb24gZGVtYW5kXHJcbiQoJ2hlYWQnKS5hcHBlbmQoXHJcbiAgICAuLi5bJ3NoYXJlJywgJ2Rlc3RpbmF0aW9uJywgJ3JhaWxtYXAnXVxyXG4gICAgICAgIC5tYXAodGFnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICQoJzxsaW5rPicsIHtcclxuICAgICAgICAgICAgICAgIHJlbDogJ3N0eWxlc2hlZXQnLCBcclxuICAgICAgICAgICAgICAgIGhyZWY6IGBzdHlsZXMvJHt0YWd9XyR7d2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyl9LmNzc2AsIFxyXG4gICAgICAgICAgICAgICAgaWQ6IGBjc3NfJHt0YWd9YFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbik7XHJcblxyXG53aW5kb3cubXlMaW5lID0gbnVsbDtcclxuJChgWyR7d2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyl9LXNwZWNpZmljXWApLnNob3coKTtcclxuLy8gYXV0b0luaXQoKTtcclxuaW5pdFNhdmUuY29tbW9uKCk7XHJcblxyXG5pbml0TGluZSgpO1xyXG5pbml0UGFuZWxzKCk7IiwiZXhwb3J0IHR5cGUgSUQgPSBzdHJpbmc7XHJcbmV4cG9ydCBpbnRlcmZhY2UgQnJhbmNoSW5mbyB7XHJcbiAgICBsZWZ0OiBbJ3Rocm91Z2gnIHwgJ25vbnRocm91Z2gnLCBJRF0gfCBbXSwgXHJcbiAgICByaWdodDogWyd0aHJvdWdoJyB8ICdub250aHJvdWdoJywgSURdIHwgW11cclxufVxyXG4vKipcclxuICogQXJyYXkgb2YgbmFtZSBgc3RyaW5nYHMuIFRoZSBmaXJzdCBlbGVtZW50IGlzIGluIENoaW5lc2UgY2hhcmFjdGVycyBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGlzIGluIExhdGluIGNoYXJhY3RlcnMuIFxyXG4gKi9cclxuZXhwb3J0IHR5cGUgTmFtZSA9IFtzdHJpbmcsIHN0cmluZ107XHJcbmV4cG9ydCBlbnVtIERpcmVjdGlvbkxvbmcge2xlZnQsIHJpZ2h0fTtcclxuZXhwb3J0IGVudW0gTmVpZ2hib3VyUGwge3BhcmVudHMsIGNoaWxkcmVufTtcclxuZXhwb3J0IGludGVyZmFjZSBTdGF0aW9uSW5mbyB7XHJcbiAgICAvKipcclxuICAgICAqIFN0YXRpb24gbmFtZSBpbiB0d28gbGFuZ3VhZ2VzLiBcclxuICAgICAqL1xyXG4gICAgbmFtZTogTmFtZTtcclxuICAgIC8qKlxyXG4gICAgICogU3RhdGlvbiBudW1iZXIuIChHWk1UUiBzcGVjaWZpYylcclxuICAgICAqL1xyXG4gICAgbnVtPzogc3RyaW5nO1xyXG4gICAgYnJhbmNoPzogQnJhbmNoSW5mbztcclxuICAgIC8qKlxyXG4gICAgICogQXJyYXkgb2YgcGFyZW50cycgSURzLiAoV2lsbCBiZSBzdHJvbmdseSB0eXBlZC4pXHJcbiAgICAgKi9cclxuICAgIHBhcmVudHM6IElEW107XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIGNoaWxkcmVuJ3MgSURzLiAoV2lsbCBiZSBzdHJvbmdseSB0eXBlZC4pXHJcbiAgICAgKi9cclxuICAgIGNoaWxkcmVuOiBJRFtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRhaWwgb2YgaW50ZXJjaGFuZ2VzLiBcclxuICAgICAqL1xyXG4gICAgdHJhbnNmZXI/OiBTdGF0aW9uVHJhbnNmZXI7XHJcbiAgICAvKipcclxuICAgICAqIEFycmF5IG9mIHNlcnZpY2VzIGF0IHRoaXMgc3RhdGlvbi4gXHJcbiAgICAgKi9cclxuICAgIHNlcnZpY2VzOiAoJ2xvY2FsJyB8ICdleHByZXNzJylbXTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0YWlsIG9mIGludGVyY2hhbmdlcyAobGVnYWN5KS4gXHJcbiAgICAgKi9cclxuICAgIGludGVyY2hhbmdlPzogYW55O1xyXG4gICAgY2hhbmdlX3R5cGU/OiBzdHJpbmc7XHJcbn1cclxuZXhwb3J0IGVudW0gSW50SW5mb1RhZyB7XHJcbiAgICBjaXR5LCBsaW5lLCBjb2xvdXIsIGZnLCBuYW1lWkgsIG5hbWVFTlxyXG59O1xyXG5leHBvcnQgdHlwZSBJbnRlcmNoYW5nZUluZm8gPSB7XHJcbiAgICBbVCBpbiBJbnRJbmZvVGFnXTogc3RyaW5nO1xyXG59O1xyXG5pbnRlcmZhY2UgU3RhdGlvblRyYW5zZmVyIHtcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJjaGFuZ2UgdHlwZSBvZiBzdGF0aW9uLiBcclxuICAgICAqL1xyXG4gICAgdHlwZTogJ25vbmUnIHwgJ2ludDInIHwgJ2ludDMnIHwgJ29zaTExJyB8ICdvc2kxMicgfCAnb3NpMTMnIHwgJ29zaTIxJyB8ICdvc2kyMicgfCAnb3NpMzEnO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEaXJlY3Rpb24gb2YgdGV4dC90aWNrIG9mIGludGVyY2hhbmdlcy4gXHJcbiAgICAgKi9cclxuICAgIHRpY2tfZGlyZWM6ICdyJyB8ICdsJztcclxuICAgIC8qKlxyXG4gICAgICogRmxhZyBvZiBwYWlkIGFyZWEgd2l0aGluIG91dC1vZi1zdGF0aW9uIGludGVyY2hhbmdlLiBcclxuICAgICAqL1xyXG4gICAgcGFpZF9hcmVhOiBib29sZWFuO1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcnJheSBvZiBuYW1lIChpbiB0d28gbGFuZ3VhZ2VzKSBvZiBhbGwgb3V0LW9mLXN0YXRpb24gaW50ZXJjaGFuZ2Ugc3RhdGlvbnMuIFxyXG4gICAgICovXHJcbiAgICBvc2lfbmFtZXM6IE5hbWVbXTtcclxuICAgIC8qKlxyXG4gICAgICogQXJyYXkgb2YgYXJyYXlzIG9mIGludGVyY2hhbmdlIGluZm8uIFxyXG4gICAgICogQGluZGV4IDAgLSBhcnJheSBvZiB3aXRoaW4tc3RhdGlvbiBpbnRlcmNoYW5nZSBpbmZvXHJcbiAgICAgKiBAaW5kZXggcmVtYWluaW5nIC0gYXJyYXlzIG9mIG91dC1vZi1zdGF0aW9uIGludGVyY2hhbmdlIGluZm8gKGZyb20gdGhlIG5lYXJlc3QgdG8gdGhlIGZ1cnRoZXN0IHN0YXRpb24pXHJcbiAgICAgKi9cclxuICAgIGluZm86IEludGVyY2hhbmdlSW5mb1tdW107XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBSTUdQYXJhbSB7XHJcbiAgICAvKipcclxuICAgICAqIFdpZHRoIChpbiBwaXhlbHMpIG9mIGBzdmcjcmFpbG1hcGAuXHJcbiAgICAgKi9cclxuICAgIHN2Z193aWR0aDogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaWR0aCAoaW4gcGl4ZWxzKSBvZiBgc3ZnI2Rlc3RpbmF0aW9uYC5cclxuICAgICAqL1xyXG4gICAgc3ZnX2Rlc3Rfd2lkdGg6IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICogSGVpZ2h0IChpbiBwaXhlbHMpIG9mIGBzdmdgcy5cclxuICAgICAqL1xyXG4gICAgc3ZnX2hlaWdodDogbnVtYmVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFpbiBkaXJlY3Rpb24uIFxyXG4gICAgICovXHJcbiAgICBkaXJlY3Rpb246ICdsJyB8ICdyJztcclxuICAgIHRoZW1lOiBbc3RyaW5nLCBzdHJpbmcsIHN0cmluZywgJyNmZmYnIHwgJyMwMDAnXSB8IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXTtcclxuICAgIC8qKlxyXG4gICAgICogSUQgb2YgY3VycmVudCBzdGF0aW9uLiBcclxuICAgICAqL1xyXG4gICAgY3VycmVudF9zdG5faWR4OiBJRDtcclxuICAgIC8qKlxyXG4gICAgICogS2V5LXZhbHVlIHBhaXJzIG9mIHRoZSBpbmZvcm1hdGlvbiBvZiBlYWNoIHN0YXRpb24uIFxyXG4gICAgICovXHJcbiAgICBzdG5fbGlzdDoge1xyXG4gICAgICAgIFtzdG5JZDogc3RyaW5nXTogU3RhdGlvbkluZm87XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGbGFnIG9mIGZsaXBwaW5nIHN0YXRpb24gbmFtZXMuIChNVFIgc3BlY2lmaWMpXHJcbiAgICAgKi9cclxuICAgIHR4dF9mbGlwPzogYm9vbGVhbjtcclxuICAgIC8qKlxyXG4gICAgICogTGVnYWN5IHN0eWxlIG9mIGRlc3RpbmF0aW9uIGluZm9ybWF0aW9uIHBhbmVsLiAoTVRSIHNwZWNpZmljKVxyXG4gICAgICovXHJcbiAgICBkZXN0X2xlZ2FjeT86IGJvb2xlYW47XHJcbiAgICAvKipcclxuICAgICAqIENvdW50cnktdmFyaWFudCBjaGFyYWN0ZXIgZm9ybS4gKE1UUiBzcGVjaWZpYylcclxuICAgICAqL1xyXG4gICAgY2hhcl9mb3JtPzogJ3RyYWQnIHwgJ2NuJyB8ICd0dycgfCAnanAnO1xyXG4gICAgW3Byb3BOYW1lOiBzdHJpbmddOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTGluZUVudHJ5IHtcclxuICAgIC8qKlxyXG4gICAgICogSUQgb2YgbGluZS4gXHJcbiAgICAgKi9cclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIEtleS12YWx1ZSBwYWlycyBvZiBtdWx0aS1saW5ndWFsIG5hbWVzIG9mIHRoZSBsaW5lLiBcclxuICAgICAqL1xyXG4gICAgbmFtZToge1xyXG4gICAgICAgIGVuOiBzdHJpbmc7XHJcbiAgICAgICAgW2xhbmc6IHN0cmluZ106IHN0cmluZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEJhY2tncm91bmQgY29sb3VyIChpbiAjSEVYKS4gXHJcbiAgICAgKi9cclxuICAgIGNvbG91cjogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb3JlZ3JvdW5kIGNvbG91ci4gTWFuZGF0b3J5IGZpZWxkIGlmIGZvcmVncm91bmQgY29sb3VyIGlzIGJsYWNrLiBcclxuICAgICAqL1xyXG4gICAgZmc/OiAnIzAwMCcgfCAnI2ZmZic7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2l0eUVudHJ5IHtcclxuICAgIC8qKlxyXG4gICAgICogSUQgb2YgY2l0eS4gXHJcbiAgICAgKi9cclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIElTTyAzMTY2LTEgYWxwaGEtMiBjb3VudHJ5IGNvZGUuIChGb3IgY2l0aWVzIGluIEJyaXRhaW4sIGFwcGVuZCBCUyA2ODc5IHN1YmRpdmlzaW9uIGNvZGUuIClcclxuICAgICAqL1xyXG4gICAgY291bnRyeTogc3RyaW5nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBLZXktdmFsdWUgcGFpcnMgb2YgbXVsdGktbGluZ3VhbCBuYW1lcyBvZiB0aGUgY2l0eS4gXHJcbiAgICAgKi9cclxuICAgIG5hbWU6IHtcclxuICAgICAgICBlbjogc3RyaW5nO1xyXG4gICAgICAgIFtsYW5nOiBzdHJpbmddOiBzdHJpbmc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwdXRQYXJhbXMoaW5zdGFuY2U6IFJNR1BhcmFtKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm1nUGFyYW0nLCBKU09OLnN0cmluZ2lmeShpbnN0YW5jZSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyYW1zKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnJtZ1BhcmFtKSBhcyBSTUdQYXJhbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhcmFtcyhrZXk6IEV4dHJhY3Q8a2V5b2YgUk1HUGFyYW0sIHN0cmluZz4sIGRhdGE6IGFueSkge1xyXG4gICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XHJcbiAgICBwYXJhbVtrZXldID0gZGF0YTtcclxuICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0KHN2Z0VsKSB7XHJcbiAgICB2YXIgW3N2Z1csIHN2Z0hdID0gc3ZnRWwuYXR0cigndmlld0JveCcpLnNwbGl0KCcgJykuc2xpY2UoMik7XHJcblxyXG4gICAgdmFyIGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gJCgnY2FudmFzJylbMF07XHJcbiAgICAkKCdjYW52YXMnKS5hdHRyKHtcclxuICAgICAgICB3aWR0aDogc3ZnVyoyLjUsIGhlaWdodDpzdmdIKjIuNVxyXG4gICAgfSk7XHJcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAvLyBieXBhc3MgQ2hyb21lIG1pbiBmb250IHNpemUgKHRvIGJlIGltcHJvdmVkKVxyXG5cclxuICAgIHN2Z0VsLmZpbmQoJy5ybWctbmFtZV9fZW4ucm1nLW5hbWVfX2d6bXRyLS1zdGF0aW9uLCAucm1nLW5hbWVfX2VuLnJtZy1uYW1lX19tdHItLXN0YXRpb24sIC5ybWctbmFtZV9femguSW50TmFtZScpLmVhY2goKF8sZWwpID0+IHtcclxuICAgICAgICAkKGVsKS5hdHRyKCdmb250LXNpemUnLCAnMTBweCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLWludCcpLmVhY2goKF8sZWwpID0+IHtcclxuICAgICAgICAkKGVsKS5hdHRyKCdmb250LXNpemUnLCAnOHB4Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdmdFbC5maW5kKCcucm1nLW5hbWVfX2VuLnJtZy1uYW1lX19nem10ci0taW50LXNtYWxsLCAucm1nLW5hbWVfX2VuLkludE5hbWUnKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgJzdweCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLWV4cHJlc3MnKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgJzYuNXB4Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdmdFbC5maW5kKCd0ZXh0Om5vdChbZm9udC1zaXplXSksIHRzcGFuOm5vdChbZm9udC1zaXplXSknKS5lYWNoKChfLGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmZvbnRTaXplKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHN2Z0VsLmZpbmQoJ3RleHQsIHRzcGFuJykuZWFjaCgoXyxlbCkgPT4ge1xyXG4gICAgICAgIHZhciBlbFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgICAgICQoZWwpLmF0dHIoe1xyXG4gICAgICAgICAgICAnZm9udC1mYW1pbHknOiBlbFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2ZvbnQtZmFtaWx5JyksIFxyXG4gICAgICAgICAgICAnZmlsbCc6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZmlsbCcpLCBcclxuICAgICAgICAgICAgJ2FsaWdubWVudC1iYXNlbGluZSc6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYWxpZ25tZW50LWJhc2VsaW5lJyksIFxyXG4gICAgICAgICAgICAnZG9taW5hbnQtYmFzZWxpbmUnOiBlbFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2RvbWluYW50LWJhc2VsaW5lJyksXHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgndGV4dC1hbmNob3InKVxyXG4gICAgICAgIH0pLnJlbW92ZUF0dHIoJ2NsYXNzJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdmdFbC5maW5kKCcjc3RyaXAsICNkZXN0X3N0cmlwJykuZWFjaCgoXyxlbCkgPT4ge1xyXG4gICAgICAgIHZhciBlbFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgICAgICQoZWwpLmF0dHIoe1xyXG4gICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdzdHJva2Utd2lkdGgnKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzdmdXKjIuNSwgc3ZnSCoyLjUpO1xyXG4gICAgICAgIHNhdmVBcyhcclxuICAgICAgICAgICAgKDxIVE1MQ2FudmFzRWxlbWVudD4kKCdjYW52YXMnKVswXSkudG9EYXRhVVJMKCdpbWFnZS9wbmcnKSwgXHJcbiAgICAgICAgICAgICdybWdfZXhwb3J0J1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBpbWcuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN2Z0VsWzBdLm91dGVySFRNTCkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZUFzKHVyaTogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKSB7XHJcblxyXG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBsaW5rLmRvd25sb2FkID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IHVyaTtcclxuICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7XHJcbiAgICAgICAgLy9GaXJlZm94IHJlcXVpcmVzIHRoZSBsaW5rIHRvIGJlIGluIHRoZSBib2R5XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICAvL3NpbXVsYXRlIGNsaWNrXHJcbiAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgICAgIC8vcmVtb3ZlIHRoZSBsaW5rIHdoZW4gZG9uZVxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cub3Blbih1cmkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHh0Qm94RGltKGVsZW06IFNWR0dyYXBoaWNzRWxlbWVudCwgc3ZnOiBzdHJpbmcpIHtcclxuICAgIGxldCBzdmdOb2RlID0gJCgnIycgKyBzdmcpWzBdIGFzIEVsZW1lbnQgYXMgU1ZHU1ZHRWxlbWVudDtcclxuICAgIGxldCBiY3IgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IHB0ID0gc3ZnTm9kZS5jcmVhdGVTVkdQb2ludCgpO1xyXG4gICAgbGV0IGN0bSA9IHN2Z05vZGUuZ2V0U2NyZWVuQ1RNKCk7XHJcbiAgICBwdC54ID0gYmNyLmxlZnQ7XHJcbiAgICBwdC55ID0gYmNyLnRvcDtcclxuICAgIGxldCBwb3MgPSBwdC5tYXRyaXhUcmFuc2Zvcm0oY3RtLmludmVyc2UoKSk7XHJcbiAgICByZXR1cm4ge3g6cG9zLngsIHk6cG9zLnksIHdpZHRoOmJjci53aWR0aCwgaGVpZ2h0OmJjci5oZWlnaHR9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gam9pbkludE5hbWUobmFtZXM6IE5hbWUsIGR5MSwgZHkyKTogW0pRdWVyeTxIVE1MRWxlbWVudD4sIG51bWJlciwgbnVtYmVyXSB7XHJcbiAgICB2YXIgW25hbWVaSCwgbmFtZUVOXSA9IG5hbWVzLm1hcCh0eHQgPT4gdHh0LnNwbGl0KC9cXFxcL2cpKTtcclxuICAgIHZhciByZXMgPSAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIEludE5hbWUnKS50ZXh0KG5hbWVaSFswXSk7XHJcbiAgICBmb3IgKGxldCBpPTE7IGk8bmFtZVpILmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcmVzID0gcmVzLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRzcGFuPicsIHsneCc6MCwgJ2R5JzpkeTEsICdkb21pbmFudC1iYXNlbGluZSc6ICdjZW50cmFsJ30pLnRleHQobmFtZVpIW2ldKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICB2YXIgYnR3R2FwID0gKG5hbWVaSC5sZW5ndGggPT0gMSkgPyA5IDogOTtcclxuICAgIHJlcyA9IHJlcy5hcHBlbmQoXHJcbiAgICAgICAgJCgnPHRzcGFuPicsIHtcclxuICAgICAgICAgICAgJ3gnOjAsICdkeSc6YnR3R2FwLCAnY2xhc3MnOiAncm1nLW5hbWVfX2VuIEludE5hbWUnXHJcbiAgICAgICAgfSkudGV4dChuYW1lRU5bMF0pXHJcbiAgICApO1xyXG4gICAgZm9yIChsZXQgaT0xOyBpPG5hbWVFTi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHJlcyA9IHJlcy5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAneCc6MCwgJ2R5JzpkeTIsICdjbGFzcyc6ICdybWctbmFtZV9fZW4gSW50TmFtZSdcclxuICAgICAgICAgICAgfSkudGV4dChuYW1lRU5baV0pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBbcmVzLCBuYW1lWkgubGVuZ3RoLCBuYW1lRU4ubGVuZ3RoXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUlkKCk6IElEIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygzNiwgNCkpLnRvU3RyaW5nKDM2KS5wYWRTdGFydCg0LCAnMCcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZUZyb21JZChzdG5JZDogSUQpOiBOYW1lIHtcclxuICAgIGxldCBudW1zWkggPSBbXHJcbiAgICAgICAgJ+eZuCcsICfnlLInLCAn5LmZJywgJ+S4mScsICfkuIEnLCAn5oiKJywgJ+W3sScsICfluponLCAn6L6bJywgJ+WjrCcsIFxyXG4gICAgICAgICfml6UnLCAn5pyIJywgJ+mHkScsICfmnKgnLCAn5rC0JywgJ+eBqycsICflnJ8nLCBcclxuICAgICAgICAn56u5JywgJ+aIiCcsICfljYEnLCAn5aSnJywgJ+S4rScsICfkuIAnLCAn5byTJywgXHJcbiAgICAgICAgJ+S6uicsICflv4MnLCAn5omLJywgJ+WPoycsIFxyXG4gICAgICAgICflsLgnLCAn5bu/JywgJ+WxsScsICflpbMnLCAn55SwJywgJ+mboycsICfljZwnLCAn6YeNJ1xyXG4gICAgXTtcclxuICAgIGxldCBudW1zRU4gPSBbXHJcbiAgICAgICAgJ1plcm8nLCAnT25lJywgJ1R3bycsICdUaHJlZScsICdGb3VyJywgJ0ZpdmUnLCAnU2l4JywgJ1NldmVuJywgJ0VpZ2h0JywgJ05pbmUnLCBcclxuICAgICAgICAnQWxmYScsICdCcmF2bycsICdDaGFybGllJywgJ0RlbHRhJywgJ0VjaG8nLCAnRm94dHJvdCcsICdHb2xmJyxcclxuICAgICAgICAnSG90ZWwnLCAnSW5kaWEnLCAnSnVsaWV0dCcsICdLaWxvJywgJ0xpbWEnLCAnTWlrZScsICdOb3ZlbWJlcicsIFxyXG4gICAgICAgICdPc2NhcicsICdQYXBhJywgJ1F1ZWJlYycsICdSb21lbycsIFxyXG4gICAgICAgICdTaWVycmEnLCAnVGFuZ28nLCAnVW5pZm9ybScsICdWaWN0b3InLCAnV2hpc2tleScsICdYLXJheScsICdZYW5rZWUnLCAnWnVsdSdcclxuICAgIF07XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIHN0bklkLnNwbGl0KCcnKS5tYXAoY2hhciA9PiBudW1zWkhbcGFyc2VJbnQoY2hhciwgMzYpXSkuam9pbignJyksIFxyXG4gICAgICAgIHN0bklkLnNwbGl0KCcnKS5tYXAoY2hhciA9PiBudW1zRU5bcGFyc2VJbnQoY2hhciwgMzYpXSkuam9pbignICcpXHJcbiAgICBdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVQYXJhbXMocGFyYW06IFJNR1BhcmFtKSB7XHJcbiAgICByZXR1cm4gYE51bWJlciBvZiBzdGF0aW9uczogJHtPYmplY3Qua2V5cyhwYXJhbS5zdG5fbGlzdCkubGVuZ3RoLTJ9XHJcbiAgICAgICAgICAgICR7T2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpLm1hcCh4ID0+IFsnbGluZXN0YXJ0JywnbGluZWVuZCddLmluY2x1ZGVzKHhbMF0pID8gJycgOiB4WzFdLm5hbWUuam9pbignIC0gJykpLmpvaW4oJzxicj4nKS50cmltKCkucmVwbGFjZSgvXFxcXC8sJyAnKX1gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY291bnRyeUNvZGUyRW1vamkoY29kZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHZhciBjaGFycyA9IGNvZGUudG9VcHBlckNhc2UoKS5zcGxpdCgnJyk7XHJcbiAgICBpZiAoY29kZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIHJldHVybiBjaGFycy5tYXAoY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludCgoY2hhci5jb2RlUG9pbnRBdCgwKSsxMjczOTcpKSkuam9pbignJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnXFx1ezFmM2Y0fScgKyBjaGFycy5tYXAoY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludCgoY2hhci5jb2RlUG9pbnRBdCgwKSs5MTc1MzYpKSkuam9pbignJykgKyAnXFx1e2UwMDdmfSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZ2IySGV4KHJnYjogc3RyaW5nKSB7XHJcbiAgICBsZXQgaGV4ID0gcmdiLm1hdGNoKC9bXFxkXSsvZylcclxuICAgICAgICAubWFwKGRlYyA9PiBOdW1iZXIoZGVjKS50b1N0cmluZygxNikucGFkU3RhcnQoMiwnMCcpKVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgIHN3aXRjaCAoaGV4KSB7XHJcbiAgICAgICAgY2FzZSAnMDAwMDAwJzogcmV0dXJuICcjMDAwJztcclxuICAgICAgICBjYXNlICdmZmZmZmYnOiByZXR1cm4gJyNmZmYnO1xyXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAnIycgKyBoZXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQYXJhbSgpIHtcclxuICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xyXG5cclxuICAgIC8vIFZlcnNpb24gMC4xMFxyXG4gICAgaWYgKCEoJ2xpbmVfbmFtZScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0ubGluZV9uYW1lID0gWyfot6/nt5rlkI0nLCAnTmFtZSBvZiBMaW5lJ107XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGVzdF9sZWdhY3knIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRlc3RfbGVnYWN5ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAwLjExXHJcbiAgICBpZiAoISgnY2hhcl9mb3JtJyBpbiBwYXJhbSkpIHtcclxuICAgICAgICBwYXJhbS5jaGFyX2Zvcm0gPSAocmVnaW9uID0+IHtzd2l0Y2ggKHJlZ2lvbikge1xyXG4gICAgICAgICAgICBjYXNlICdLUic6IHJldHVybiAndHJhZCc7XHJcbiAgICAgICAgICAgIGNhc2UgJ1RDJzogcmV0dXJuICd0dyc7XHJcbiAgICAgICAgICAgIGNhc2UgJ1NDJzogcmV0dXJuICdjbic7XHJcbiAgICAgICAgICAgIGNhc2UgJ0pQJzogcmV0dXJuICdqcCc7XHJcbiAgICAgICAgfX0pKHBhcmFtLmZvbnRaSFswXS5zcGxpdCgnICcpLnJldmVyc2UoKVswXSlcclxuICAgIH1cclxuICAgIGRlbGV0ZSBwYXJhbS5mb250Wkg7XHJcbiAgICBkZWxldGUgcGFyYW0uZm9udEVOO1xyXG4gICAgZGVsZXRlIHBhcmFtLndlaWdodFpIO1xyXG4gICAgZGVsZXRlIHBhcmFtLndlaWdodEVOO1xyXG5cclxuICAgIC8vIFZlcnNpb24gMC4xMlxyXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcclxuICAgICAgICAvLyBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cclxuICAgICAgICAvLyBpZiAoJ3RyYW5zZmVyJyBpbiBzdG5JbmZvKSB7XHJcbiAgICAgICAgLy8gICAgIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2U7XHJcbiAgICAgICAgLy8gICAgIHN3aXRjaCAoc3RuSW5mby5jaGFuZ2VfdHlwZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSAnaW50Mic6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tzdG5JbmZvLnRyYW5zZmVyWzFdXV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdpbnQzX2wnOlxyXG4gICAgICAgIC8vICAgICAgICAgY2FzZSAnaW50M19yJzpcclxuICAgICAgICAvLyAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbc3RuSW5mby50cmFuc2Zlci5zbGljZSgxLDMpXTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3BsJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3ByJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3VsJzpcclxuICAgICAgICAvLyAgICAgICAgIGNhc2UgJ29zaTExX3VyJzpcclxuICAgICAgICAvLyAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbW10sIHN0bkluZm8udHJhbnNmZXIuc2xpY2UoMCwyKV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl9wbCc6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl9wcic6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl91bCc6XHJcbiAgICAgICAgLy8gICAgICAgICBjYXNlICdvc2kxMl91cic6XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tdLCBzdG5JbmZvLnRyYW5zZmVyXTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBkZWxldGUgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghKCdicmFuY2gnIGluIHN0bkluZm8pKSB7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH07XHJcbiAgICAgICAgICAgIGlmIChzdG5JbmZvLmNoaWxkcmVuLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gWyd0aHJvdWdoJywgc3RuSW5mby5jaGlsZHJlblsxXV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0bkluZm8ucGFyZW50cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgc3RuSW5mby5wYXJlbnRzWzFdXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMS4yXHJcbiAgICBpZiAoISgncHNkX251bScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0ucHNkX251bSA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnbGluZV9udW0nIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmxpbmVfbnVtID0gMTtcclxuICAgIH1cclxuICAgIGRlbGV0ZSBwYXJhbS5zdHlsZTtcclxuICAgIGlmIChwYXJhbS50aGVtZS5sZW5ndGggPT0gMykge1xyXG4gICAgICAgIHBhcmFtLnRoZW1lLnB1c2goJyNmZmYnKTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgaWYgKCEoJ251bScgaW4gc3RuSW5mbykpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLm51bSA9ICcwMCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMS4zXHJcbiAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtLnN0bl9saXN0KSkge1xyXG4gICAgICAgIGlmICgnaW50ZXJjaGFuZ2UnIGluIHN0bkluZm8pIHtcclxuICAgICAgICAgICAgc3RuSW5mby5pbnRlcmNoYW5nZS5tYXAoYXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGFyci5tYXAoaW50SW5mbyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludEluZm8ubGVuZ3RoID09IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50SW5mby5zcGxpY2UoMywwLCcjZmZmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJzaW9uIDEuNFxyXG4gICAgaWYgKCEoJ2luZm9fcGFuZWxfdHlwZScgaW4gcGFyYW0pKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ3BhbmFzb25pYyc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAxLjVcclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfcCcpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoYW5nZV90eXBlID0gJ29zaTIyX3ByJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfdScpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoYW5nZV90eXBlID0gJ29zaTIyX3VyJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAvLyBWZXJzaW9uIDIuMVxyXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcclxuICAgICAgICBpZiAoISgnaW50ZXJjaGFuZ2UnIGluIHN0bkluZm8pKSB7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5pbnRlcmNoYW5nZSA9IFtbXV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMi4yXHJcbiAgICBpZiAocGFyYW0uaW5mb19wYW5lbF90eXBlID09PSAnZ3pfMScpIHtcclxuICAgICAgICBwYXJhbS5pbmZvX3BhbmVsX3R5cGUgPSAnZ3oyOCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAyLjNcclxuICAgIGlmIChwYXJhbS5pbmZvX3BhbmVsX3R5cGUgPT09ICdwYW5hc29uaWMnKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6MjgnO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzInKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6Z2YnO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzMnKSB7XHJcbiAgICAgICAgcGFyYW0uaW5mb19wYW5lbF90eXBlID0gJ2d6Myc7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3gnIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRpcmVjdGlvbl9nel94ID0gNTA7XHJcbiAgICB9XHJcbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3knIGluIHBhcmFtKSkge1xyXG4gICAgICAgIHBhcmFtLmRpcmVjdGlvbl9nel95ID0gNzA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyc2lvbiAyLjZcclxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XHJcbiAgICAgICAgaWYgKCEoJ3RyYW5zZmVyJyBpbiBzdG5JbmZvKSkge1xyXG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0udHJhbnNmZXIgPSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBzdG5JbmZvLmNoYW5nZV90eXBlLnNwbGl0KCdfJylbMF0gYXMgJ25vbmUnIHwgJ2ludDInIHwgJ2ludDMnIHwgJ29zaTExJyB8ICdvc2kxMicgfCAnb3NpMjInLCBcclxuICAgICAgICAgICAgICAgIHRpY2tfZGlyZWM6IChzdG5JbmZvLmNoYW5nZV90eXBlID09PSAnbm9uZScgfHwgc3RuSW5mby5jaGFuZ2VfdHlwZSA9PT0gJ2ludDInKSA/ICdyJyA6IHN0bkluZm8uY2hhbmdlX3R5cGUuc3BsaXQoJ18nKVsxXS5zcGxpdCgnJykuc2xpY2UoKS5yZXZlcnNlKClbMF0gYXMgJ2wnIHwgJ3InLCBcclxuICAgICAgICAgICAgICAgIHBhaWRfYXJlYTogKHN0bkluZm8uY2hhbmdlX3R5cGUuaW5kZXhPZignb3NpJykhPT0tMSkgPyBzdG5JbmZvLmNoYW5nZV90eXBlLnNwbGl0KCdfJylbMV1bMF09PT0ncCcgOiB0cnVlLCBcclxuICAgICAgICAgICAgICAgIG9zaV9uYW1lczogKHN0bkluZm8uY2hhbmdlX3R5cGUuaW5kZXhPZignb3NpJykhPT0tMSkgPyBbc3RuSW5mby5pbnRlcmNoYW5nZVsxXVswXV0gOiBbXSwgXHJcbiAgICAgICAgICAgICAgICBpbmZvOiAoc3RuSW5mby5pbnRlcmNoYW5nZS5sZW5ndGggPT09IDIpID8gW3N0bkluZm8uaW50ZXJjaGFuZ2VbMF0sIHN0bkluZm8uaW50ZXJjaGFuZ2VbMV0uc2xpY2UoMSldIDogc3RuSW5mby5pbnRlcmNoYW5nZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcnNpb24gMi44XHJcbiAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtLnN0bl9saXN0KSkge1xyXG4gICAgICAgIGlmICghKCdzZXJ2aWNlcycgaW4gc3RuSW5mbykpIHtcclxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnNlcnZpY2VzID0gWydsb2NhbCddO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1dFBhcmFtcyhwYXJhbSk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBsYW5nRmFsbGJhY2sgPSAobGFuZzogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKGxhbmcpIHtcclxuICAgICAgICBjYXNlICdlbic6IHJldHVybiBbJ2VuJ107XHJcbiAgICAgICAgY2FzZSAnemgtSGFucyc6IHJldHVybiBbJ3poLUhhbnMnLCAnemgnLCAnZW4nXTtcclxuICAgICAgICBjYXNlICd6aC1ISyc6IHJldHVybiBbJ3poLUhLJywgJ3poLUhhbnQnLCAnemgnLCAnZW4nXTtcclxuICAgICAgICBkZWZhdWx0OiByZXR1cm4gW2xhbmcsICdlbiddO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VHJhbnNUZXh0ID0gKG9iajoge1tpbmRleDogc3RyaW5nXTogc3RyaW5nfSwgbGFuZzogc3RyaW5nKSA9PiB7XHJcbiAgICByZXR1cm4gb2JqW2xhbmdGYWxsYmFjayhsYW5nKS5maW5kKGwgPT4gb2JqW2xdKV07XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuZGlhbG9nOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLmxpc3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMucmlwcGxlOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLnNlbGVjdDsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy5zbGlkZXI7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuc3dpdGNoQ29udHJvbDsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy50YWJCYXI7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMudGV4dEZpZWxkOyIsIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyJdLCJzb3VyY2VSb290IjoiIn0=