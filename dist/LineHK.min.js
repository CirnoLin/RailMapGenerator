(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{15:function(t,e,a){"use strict";a.r(e),a.d(e,"RMGLineHK",(function(){return n}));var s=a(5),r=a(0);class n extends s.a{constructor(t){super(t),this._charForm=t.char_form,this._destLegacy=t.dest_legacy}set svgDestWidth(t){super.svgDestWidth=t,this.loadFonts()}set svgWidth(t){super.svgWidth=t,this.loadFonts(),this.updateStnNameBg()}set padding(t){super.padding=t,this.loadFonts(),this.updateStnNameBg()}set branchSpacing(t){super.branchSpacing=t,this.loadFonts(),this.updateStnNameBg()}set txtFlip(t){super.txtFlip=t,this.loadFonts(),this.updateStnNameBg()}set direction(t){super.direction=t,this.loadFonts()}set charForm(t){this._charForm=t,Object(r.n)("char_form",t),$(".rmg-name__char-trad, .rmg-name__char-cn, .rmg-name__char-tw, .rmg-name__char-jp").removeClass("rmg-name__char-trad rmg-name__char-cn rmg-name__char-tw rmg-name__char-jp").addClass(`rmg-name__char-${t}`)}set lineNames(t){super.lineNames=t,this._destLegacy&&(this.drawDestInfo(),this.loadFonts())}set destLegacy(t){this._destLegacy=t,Object(r.n)("dest_legacy",t),this.drawDestInfo(),this.loadFonts()}set currentStnId(t){super.currentStnId=t,this.loadFonts(),this.updateStnNameBg()}loadFonts(){$(".rmg-name__zh").addClass(`rmg-name__char-${this._charForm}`)}updateStnNameBg(){var t=Object(r.j)($(`#stn_icons > #${this._currentStnId} g.Name`)[0],"railmap");$("#current_bg").attr({x:t.x-3,width:t.width+6})}drawDestInfo(){$("#dest_name > #platform > text").text(this._platformNum);let t=this[this._direction+"ValidDests"],e="l"===this._direction?"start":"end";var[a,s]=[0,1].map(e=>t.map(t=>this.stations[t].name[e].replace(/\\/g," ")).join("/"));if(this._destLegacy){var[r,n]=this._lineNames;n+=" "}else var r=n="";$("#dest_name > g:last-child text").eq(0).text(`${r}å¾€${a}`),$("#dest_name > g:last-child text").eq(1).text(`${n}to ${s}`);var d=310+$("#dest_name > g:last-child")[0].getBoundingClientRect().width+45+50,i="l"==this._direction?1:-1,h=(this._svgDestWidth-i*d)/2,o=90*(1-i),m=h+285*i,c=m+120*i;$("#dest_name > use").attr("transform",`translate(${h},130)rotate(${o})`),$("#dest_name > #platform").attr("transform",`translate(${m},130)`),$("#dest_name > g:last-child").attr({transform:`translate(${c},105)`,"text-anchor":e})}updateStnName(t,e,a){super.updateStnName(t,e,a),this.loadFonts(),t==this._currentStnId&&this.updateStnNameBg()}updateStnTransfer(t,e,a=null){super.updateStnTransfer(t,e,a),this.loadFonts(),this.updateStnNameBg()}addStn(t,e,a,s){let r=super.addStn(t,e,a,s);return this.loadFonts(),this.updateStnNameBg(),r}removeStn(t){return!!super.removeStn(t)&&(this.loadFonts(),this.updateStnNameBg(),!0)}updateBranchType(t,e,a){return!!super.updateBranchType(t,e,a)&&(this.loadFonts(),!0)}updateBranchFirst(t,e,a){return!!super.updateBranchFirst(t,e,a)&&(this.loadFonts(),!0)}updateBranchPos(t,e,a){return!!super.updateBranchPos(t,e,a)&&(this.loadFonts(),!0)}static initSVG(t){super.initSVG(t),t.loadFonts(),t.updateStnNameBg()}}}}]);