(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["LineGZ"],{

/***/ "./src/Line/LineGZ.ts":
/*!****************************!*\
  !*** ./src/Line/LineGZ.ts ***!
  \****************************/
/*! exports provided: RMGLineGZ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLineGZ", function() { return RMGLineGZ; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/StationGZ */ "./src/Station/StationGZ.ts");
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");



class RMGLineGZ extends _Line__WEBPACK_IMPORTED_MODULE_2__["RMGLine"] {
    constructor(param) {
        super(param);
        this._psdNum = param.psd_num;
        this._lineNum = param.line_num;
        this._infoPanelType = param.info_panel_type;
        this._directionGZX = param.direction_gz_x;
        this._directionGZY = param.direction_gz_y;
    }
    _initStnInstance(stnId, stnInfo) {
        if (stnInfo.children.length === 2 || stnInfo.parents.length === 2) {
            return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["BranchStationGZ"](stnId, stnInfo, [this.themeCity, this.themeLine, this._themeColour, this._fgColour, ...this._lineNames]);
        }
        switch (stnInfo.transfer.type) {
            case 'int2':
            case 'int3':
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["IntStationGZ"](stnId, stnInfo);
            case 'osi11':
            case 'osi12':
            case 'osi13':
            case 'osi21':
            case 'osi22':
            case 'osi31':
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["OSIStationGZ"](stnId, stnInfo);
            default:
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["RMGStationGZ"](stnId, stnInfo);
        }
    }
    get lineXs() {
        if (this._direction == 'r') {
            return [
                this._svgWidth * this._padding / 100 + 65,
                this._svgWidth * (1 - this._padding / 100)
            ];
        }
        else {
            return [
                this._svgWidth * this._padding / 100,
                this._svgWidth * (1 - this._padding / 100) - 65
            ];
        }
    }
    set svgWidth(val) {
        super.svgWidth = val;
        this.loadLineNum();
        this.loadLineName();
        this.loadDirection();
    }
    set padding(val) {
        super.padding = val;
        this.loadLineNum();
        this.loadLineName();
    }
    set branchSpacing(val) {
        super.branchSpacing = val;
        this.loadLineNum();
    }
    set direction(val) {
        this._direction = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            this._updateStnInstance(stnId);
        }
        RMGLineGZ.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadLineNum();
        this.loadLineName();
        this.loadDirection();
    }
    set currentStnId(val) {
        super.currentStnId = val;
        this.loadLineNum();
        this.loadDirection();
    }
    set lineNum(val) {
        this._lineNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_num', val);
        this.loadLineNum();
    }
    set lineNames(val) {
        this._lineNames = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_name', val);
        this.loadLineName();
        // (to be fixed) redraw branching station
    }
    set psdNum(val) {
        this._psdNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('psd_num', val);
        $('.rmg-psd-num').text(val);
    }
    set infoPanelType(val) {
        this._infoPanelType = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('info_panel_type', val);
        $('#station_info_gzmtr #indicator_light').attr('xlink:href', '#indicator_' + val);
        // $('#dest_strip, #strip').removeAttr('class').addClass(`rmg-strip__gzmtr--${this._infoPanelType}`);
        this.drawStrip();
        this.fillThemeColour();
        this.drawPSD();
    }
    set directionGZX(val) {
        this._directionGZX = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction_gz_x', val);
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
    }
    set directionGZY(val) {
        this._directionGZY = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction_gz_y', val);
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
    }
    _stnXShare(stnId) {
        let { criticalPath, branches } = this;
        let self = this;
        if (criticalPath.nodes.includes(stnId)) {
            return super._stnXShare(stnId);
        }
        if (this.criticalPath.nodes.join(',') !== branches[0].join(',')) {
            return super._stnXShare(stnId);
        }
        else {
            let branchWithStn = branches.slice(1).filter(branch => branch.includes(stnId))[0];
            let lenToLeft = this._cp(branchWithStn[0], stnId).len;
            let lenToRight = this._cp(stnId, branchWithStn[branchWithStn.length - 1]).len;
            if (branches[0].includes(branchWithStn[0]) && branches[0].includes(branchWithStn[branchWithStn.length - 1])) {
                return (self._stnXShare(branchWithStn[0]) * lenToRight + self._stnXShare(branchWithStn[branchWithStn.length - 1]) * lenToLeft) / (lenToLeft + lenToRight);
            }
            else if (branches[0].includes(branchWithStn[0])) {
                return self._stnXShare(branchWithStn[0]) + lenToLeft;
            }
            else {
                return self._stnXShare(branchWithStn[branchWithStn.length - 1]) - lenToRight;
            }
        }
    }
    /**
     * Vertical position (in shares) of station icon.
     */
    _stnYShare(stnId) {
        if (['linestart', 'lineend'].includes(stnId)) {
            return 0;
        }
        var branches = this.branches;
        if (branches[0].includes(stnId)) {
            return 0;
        }
        else {
            let i = 1;
            while (i < branches.length) {
                if (branches[i].includes(stnId)) {
                    break;
                }
                i++;
            }
            if (branches[0].includes(branches[i][0])) {
                var branchingStnId = branches[i][0];
                var neToFind = 'children';
                if (this.stations[branchingStnId][neToFind].indexOf(branches[i][1]) == 0) {
                    return 2;
                }
                else {
                    return -2;
                }
            }
            else {
                var branchingStnId = branches[i].slice().reverse()[0];
                var neToFind = 'parents';
                if (this.stations[branchingStnId][neToFind].indexOf(branches[i].slice().reverse()[1]) == 0) {
                    return 2;
                }
                else {
                    return -2;
                }
            }
        }
    }
    drawStrip() {
        let stripHeight = (type => {
            switch (type) {
                case 'gz28':
                case 'gzgf':
                    return 60;
                case 'gz3':
                    return 40;
                case 'gz1421':
                    return 20;
            }
        })(this._infoPanelType);
        $('#dest_strip_gz, #strip_gz').attr({
            y: this._svgHeight - stripHeight,
            height: stripHeight
        });
    }
    _rightWideFactor(stnId) {
        if (this.stations[stnId] instanceof _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["BranchStationGZ"] && this.stations[stnId]._tickRotation === 0) {
            return 0.25;
        }
        else {
            return 0;
        }
    }
    _leftWideFactor(stnId) {
        if (this.stations[stnId] instanceof _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["BranchStationGZ"] && this.stations[stnId]._tickRotation !== 0) {
            return 0.25;
        }
        else {
            return 0;
        }
    }
    _pathWeight(stnId1, stnId2) {
        if (!this.stations[stnId1].children.includes(stnId2)) {
            return -Infinity;
        }
        return 1 + this._rightWideFactor(stnId1) + this._leftWideFactor(stnId2);
        // return 1;
    }
    /**
     * Set width for colour strips. (Height of strips are controlled by `RMGLineGZ.drawStrip`. )
     */
    drawSVGFrame() {
        super.drawSVGFrame();
        $('#dest_strip_gz').attr('width', this._svgDestWidth);
        $('#strip_gz').attr('width', this._svgWidth);
    }
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $(`#stn_icons #${stnId} g#stn_name`).append(stnInstance.expressTagHTML(this._themeColour));
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    _linePath(stnIds) {
        let prevY;
        var path = [];
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                prevY = y;
                path.push(`M ${x},${y}`);
                return;
            }
            if (y === 0) {
                if (y < prevY) {
                    path.push(`H ${x - 30}`, 'a 30,30 0 0,0 30,-30', `V ${y}`);
                }
                if (y > prevY) {
                    path.push(`H ${x - 30}`, 'a 30,30 0 0,1 30,30', `V ${y}`);
                }
            }
            else {
                if (y < prevY) {
                    path.push(`V ${y + 30}`, 'a 30,30 0 0,1 30,-30', `H ${x}`);
                }
                if (y > prevY) {
                    path.push(`V ${y - 30}`, 'a 30,30 0 0,0 30,30', `H ${x}`);
                }
            }
            path.push(`H ${x}`);
            prevY = y;
        });
        // simplify path
        return path.join(' ').replace(/( H ([\d.]+))+/g, ' H $2');
    }
    drawLine() {
        $('.rmg-line').removeClass('rmg-line__mtr').addClass('rmg-line__gzmtr');
        super.drawLine();
    }
    initFonts() {
        let styleSheet = $('link#css_share')[0].sheet;
        let idx = [];
        Array.from(styleSheet.cssRules).forEach((rule, i) => {
            if (rule.cssText.indexOf('.rmg-name__zh') !== -1) {
                idx.push(i);
            }
            else if (rule.cssText.indexOf('.rmg-name__en') !== -1) {
                idx.push(i);
            }
        });
        idx.forEach(i => styleSheet.deleteRule(i));
        styleSheet.insertRule('.rmg-name__zh {alignment-baseline: central; font-family: Arial, SimHei, STHeiti, PingFangSC-Regular, sans-serif;}');
        styleSheet.insertRule('.rmg-name__en {alignment-baseline: middle; font-family: Arial, sans-serif;}');
    }
    fillThemeColour() {
        super.fillThemeColour();
        $('#dest_strip_gz, #strip_gz').attr('fill', this._themeColour);
        if (['gz3', 'gz1421'].includes(this._infoPanelType)) {
            $('#big_psd use').attr('fill', this._themeColour);
            if (this._fgColour === '#fff') {
                $('#big_psd text').addClass('rmg-name__gzmtr--white-fg');
            }
            else {
                $('#big_psd text').removeClass('rmg-name__gzmtr--white-fg');
            }
        }
        else {
            $('#big_psd use').attr('fill', 'white');
            $('#big_psd text').removeClass('rmg-name__gzmtr--white-fg');
        }
        $('path#stn_gz').attr('stroke', this._themeColour);
        $('#station_info_gzmtr > #platform > circle').attr('fill', this._themeColour);
        $('#line_name use').attr('fill', this._themeColour);
        if (this._fgColour === '#fff') {
            $('#station_info_gzmtr > #platform text').addClass('rmg-name__gzmtr--white-fg');
            $('#line_name text').addClass('rmg-name__gzmtr--white-fg');
        }
        else {
            $('#station_info_gzmtr > #platform text').removeClass('rmg-name__gzmtr--white-fg');
            $('#line_name text').removeClass('rmg-name__gzmtr--white-fg');
        }
    }
    loadLineNum() {
        const LINE_NUM_MAX_WIDTH = 15.59375;
        $('.rmg-name__gzmtr--line-num').text(this._lineNum).attr('transform', `translate(-9.25,0)`);
        var lineNumDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('.rmg-name__gzmtr--line-num')[1], 'railmap');
        if (this._lineNum.length === 2) {
            var lineNumScale = lineNumDim.width > LINE_NUM_MAX_WIDTH ? LINE_NUM_MAX_WIDTH / lineNumDim.width : 1;
            $('.rmg-name__gzmtr--line-num').attr('transform', `translate(-9.25,0)scale(${lineNumScale})`);
            $('.rmg-name__gzmtr--station-num').attr('transform', `translate(9.25,0)scale(${lineNumScale})`);
        }
        else {
            var lineNumScale = lineNumDim.width > LINE_NUM_MAX_WIDTH ? LINE_NUM_MAX_WIDTH / lineNumDim.width : 1;
            $('.rmg-name__gzmtr--line-num').attr('transform', `translate(-9.25,0)scale(${lineNumScale})`);
            $('.rmg-name__gzmtr--station-num').attr('transform', `translate(9.25,0)`);
        }
    }
    loadLineName() {
        // simulate interchange info
        let info = [this.themeCity, this.themeLine, this._themeColour, this._fgColour, this._lineNames[0], this._lineNames[1]];
        $('#line_name')
            .empty()
            .append(Object(_Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["getIntBoxGZ"])(info, 1));
        $('#line_name').html($('#line_name').html());
        var lineNameX = this._direction == 'r' ? this.lineXs[0] - 65 : this.lineXs[1] + 65;
        $('#line_name')
            .attr({
            transform: `translate(${lineNameX},-18)scale(1.5)`
        });
    }
    loadDirection() {
        let validDest;
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
        // to be fixed: validDest ordering
        if (this._direction == 'l') {
            $('#direction_gz use').attr('transform', `scale(0.35)`);
            $('#direction_gz g').attr({
                'text-anchor': 'start',
                transform: 'translate(65,-5)'
            });
            validDest = this.lValidDests;
        }
        else {
            $('#direction_gz use').attr('transform', `scale(0.35)rotate(180)`);
            $('#direction_gz g').attr({
                'text-anchor': 'end',
                transform: 'translate(-65,-5)'
            });
            validDest = this.rValidDests;
        }
        if (validDest.length !== 2) {
            var [destNameZH, destNameEN] = [0, 1].map(idx => {
                return validDest.map(stnId => this.stations[stnId].name[idx].replace(/\\/g, ' ')).join('/');
            });
            $('#direction_gz g').eq(0).find('text').eq(0).text(destNameZH + '方向');
            $('#direction_gz g').eq(0).find('text').eq(1).text('Towards ' + destNameEN.replace('\\', ' '));
            $('#direction_gz g').eq(0).show();
            $('#direction_gz g').eq(1).hide();
        }
        else {
            // flatMap and flat are not supported by some browsers!
            // however targeting ES5 caused other issues?
            validDest
                .map(stnId => this.stations[stnId].name)
                .reduce((acc, val) => acc.concat(val), [])
                .forEach((txt, i) => {
                if (i % 2) {
                    txt = 'Towards ' + txt.replace('\\', ' ');
                }
                $('#direction_gz g').eq(1).find('text').eq(i).text(txt);
            });
            $('#direction_gz g').eq(1).find('text').css('letter-spacing', 0);
            let charCounts = validDest.map(stnId => this.stations[stnId].name[0].length);
            let minCharCounts = Math.min(...charCounts);
            if (minCharCounts > 1 && charCounts[0] !== charCounts[1]) {
                let charSpacing = Math.abs(charCounts[0] - charCounts[1]) / (minCharCounts - 1);
                $('#direction_gz g').eq(1).find('text')
                    .eq(charCounts[0] > charCounts[1] ? 2 : 0)
                    .css('letter-spacing', `${charSpacing}em`);
            }
            if (this._direction === 'l') {
                let maxCharCount = Math.max(...charCounts);
                $('#direction_gz g').eq(1).find('text').eq(4).attr('x', 25 * (maxCharCount + 1));
                $('#direction_gz g').eq(1).find('text').slice(0, 4).removeAttr('x');
            }
            else {
                $('#direction_gz g').eq(1).find('text').eq(4).removeAttr('x');
                $('#direction_gz g').eq(1).find('text').slice(0, 4).attr('x', '-75');
            }
            $('#direction_gz g').eq(0).hide();
            $('#direction_gz g').eq(1).show();
        }
    }
    updateStnName(stnId, names, stnNum) {
        super.updateStnName(stnId, names, stnNum);
        $(`#stn_icons #${stnId} g#stn_name`).append(this.stations[stnId].expressTagHTML(this._themeColour));
        $('#stn_icons').html($('#stn_icons').html());
        this.loadLineNum();
        if (this.stations[this._currentStnId].parents.includes(stnId) || this.stations[this._currentStnId].children.includes(stnId)) {
            this.drawDestInfo();
        }
        if (this._currentStnId === stnId) {
            this.drawDestInfo();
        }
        if (this.leftDests.includes(stnId) || this.rightDests.includes(stnId)) {
            this.loadDirection();
        }
    }
    updateStnServices(stnId, detail) {
        super.updateStnServices(stnId, detail);
        $(`#stn_icons #${stnId}`).remove();
        $('#stn_icons').append(this.stations[stnId].html);
        $('#stn_icons').html($('#stn_icons').html());
        $(`#stn_icons #${stnId} g#stn_name`).append(this.stations[stnId].expressTagHTML(this._themeColour));
        $('#stn_icons').html($('#stn_icons').html());
        this.loadLineNum();
    }
    drawDestInfo() {
        $('#station_info_gzmtr #big_stn_num text').eq(1).text(this.stations[this._currentStnId].stnNum);
        $('#station_info_gzmtr > #platform > text').eq(0).text(this._platformNum);
        $('#station_info_gzmtr > #big_psd text').eq(0).text(this._psdNum);
        $('#station_info_gzmtr #big_name').empty()
            .attr('transform', `translate(${this._svgDestWidth / 2},${100 - (this.stations[this._currentStnId].name[1].split('\\').length - 1) * 20})`)
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--dest' })
            .text(this.stations[this._currentStnId].name[0]))
            .append($('<text>', { dy: 70, class: 'rmg-name__en rmg-name__gzmtr--dest' })
            .text(this.stations[this._currentStnId].name[1].split('\\')[0])
            .append($('<tspan>', { x: 0, dy: 40, 'alignment-baseline': 'middle' }).text(this.stations[this._currentStnId].name[1].split('\\')[1] || '')));
        $('#terminus_gz').attr('transform', `translate(${this._svgWidth / 2},100)`);
        let nextStnId = this
            .stations[this._currentStnId][this._direction === 'l' ? 'parents' : 'children']
            .filter(stnId => {
            let branchTmp = this.stations[this._currentStnId].branch[this._direction === 'l' ? 'left' : 'right'];
            if (branchTmp.length) {
                return true;
                // return branchTmp[0] === 'through' ? true : stnId !== branchTmp[1];
            }
            else {
                return true;
            }
        });
        if (['linestart', 'lineend'].includes(nextStnId[0])) {
            $('#station_info_gzmtr').find('#big_next, #big_next_2').hide();
            $('#station_info_gzmtr > use').eq(0).hide();
            $('#line_main, #line_pass, #line_name, #stn_icons, #direction_gz').hide();
            $('#terminus_gz').show();
        }
        else {
            if (nextStnId.length === 1) {
                $('#station_info_gzmtr #big_next').show();
                $('#station_info_gzmtr #big_next_2').hide();
            }
            else {
                $('#station_info_gzmtr #big_next').hide();
                $('#station_info_gzmtr #big_next_2').show();
            }
            $('#station_info_gzmtr > use').eq(0).show();
            $('#line_main, #line_pass, #line_name, #stn_icons, #direction_gz').show();
            $('#terminus_gz').hide();
        }
        let [nextNameZH, nextNameEN] = ['', ''];
        let nextNameZHCount = 0;
        if (nextStnId.length === 1) {
            var nextStnInfo = this.stations[nextStnId[0]];
            [nextNameZH, nextNameEN] = nextStnInfo.name;
            nextNameZHCount = nextNameZH.length;
            $('#station_info_gzmtr #big_next g:nth-child(2) text').eq(0).text(nextNameZH);
            $('#station_info_gzmtr #big_next g:nth-child(2) text').eq(1).text(nextNameEN.split('\\')[0])
                .append($('<tspan>', { x: 0, dy: 17, 'alignment-baseline': 'middle' }).text(nextNameEN.split('\\')[1] || ''));
        }
        else {
            nextStnId.forEach((stnId, idx) => {
                let nextStnInfo = this.stations[stnId];
                [nextNameZH, nextNameEN] = nextStnInfo.name;
                if (nextNameZH.length > nextNameZHCount) {
                    nextNameZHCount = nextNameZH.length;
                }
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(2).text(nextNameZH);
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(3).text(nextNameEN.split('\\')[0])
                    .append($('<tspan>', { x: 0, dy: 13, 'alignment-baseline': 'middle' }).text(nextNameEN.split('\\')[1] || ''));
                let validRoutes = this.routes
                    .filter(route => route.indexOf(stnId) !== -1)
                    .map(route => route.filter(s => s !== 'linestart' && s !== 'lineend'));
                let validEnds;
                if (this._direction === 'l') {
                    validEnds = Array.from(new Set(validRoutes.map(route => route[0]))).reverse();
                }
                else {
                    validEnds = Array.from(new Set(validRoutes.map(route => route.reverse()[0])));
                }
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(0)
                    .text(validEnds.map(s => this.stations[s].name[0]).join('/') + '方向');
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(1)
                    .text('Towards ' + validEnds.map(s => this.stations[s].name[1]).join('/'));
            });
        }
        $('#station_info_gzmtr').html($('#station_info_gzmtr').html());
        // Position big name
        var bigNameDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_name text')[0], 'destination');
        $('#station_info_gzmtr #big_stn_num')
            .attr('transform', `translate(${(this._svgDestWidth + bigNameDim.width) / 2 + 55},${120 - (this.stations[this._currentStnId].name[1].split('\\').length - 1) * 20})scale(1.4)`);
        let bigNextDim = { x: 0, y: 0, width: 0, height: 0 };
        if (nextStnId.length === 1) {
            bigNextDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next g:nth-child(2)')[0], 'destination');
        }
        else {
            let bigNextDims = [
                Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next_2 g:nth-child(2)')[0], 'destination'),
                Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next_2 g:nth-child(4)')[0], 'destination')
            ];
            if (bigNextDims[0].width > bigNextDims[1].width) {
                bigNextDim = bigNextDims[0];
            }
            else {
                bigNextDim = bigNextDims[1];
            }
        }
        // var nextNameZHCount = nextNameZH.length;
        if (this._direction == 'l') {
            $('#station_info_gzmtr #platform').attr('transform', `translate(${this._svgDestWidth - 100},120)`);
            if (nextStnId.length === 1) {
                if (nextNameZHCount <= 2) {
                    $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${115 + 35},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(115 + 35 * (1 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
                }
                else {
                    $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${115 + 35 * 0.5},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(115 + 35 * (0.5 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
                }
            }
            else {
                $('#station_info_gzmtr #big_next_2 g:nth-child(2)').attr('transform', `translate(113,80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(4)').attr('transform', `translate(113,190)`);
                $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(99 + 27 * (1 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
            }
            $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(80,110)`);
            $('#station_info_gzmtr #big_next_2 g:first-child').attr('transform', `translate(72,80)`);
            $('#station_info_gzmtr #big_next_2 g:nth-child(3)').attr('transform', `translate(72,190)`);
        }
        else {
            $('#station_info_gzmtr #platform').attr('transform', `translate(100,120)`);
            if (nextStnId.length === 1) {
                $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},110)`);
                if (nextNameZHCount <= 2) {
                    $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 70},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 70 - 35 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
                }
                else {
                    $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 35 * 1.5},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 35 * 2.5 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
                }
            }
            else {
                $('#station_info_gzmtr #big_next_2 g:nth-child(2)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(4)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},190)`);
                $('#station_info_gzmtr #big_next_2 g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 41},80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(3)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 41},190)`);
                $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 41 - 27 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
            }
        }
        $('#station_info_gzmtr #indicator_light').attr({
            x: this._svgDestWidth / 2, y: 270,
            'xlink:href': '#indicator_' + this._infoPanelType
        });
        this.drawPSD();
    }
    drawPSD() {
        $('#station_info_gzmtr #big_psd').attr('transform', `translate(${this._svgDestWidth / 2 + 80},${(type => {
            switch (type) {
                case 'gz3': return 218;
                case 'gz1421': return 238;
                default: return 242;
            }
        })(this._infoPanelType)})`);
    }
    addStn(prep, stnId, loc, end) {
        var res = super.addStn(prep, stnId, loc, end);
        this.loadLineNum();
        this.loadDirection();
        return res;
    }
    removeStn(stnId) {
        if (super.removeStn(stnId)) {
            this.loadLineNum();
            this.loadDirection();
            return true;
        }
        else {
            return false;
        }
    }
    updateStnTransfer(stnId, type, info = null) {
        super.updateStnTransfer(stnId, type, info);
        this.loadLineNum();
    }
    updateBranchType(stnId, direction, type) {
        if (!super.updateBranchType(stnId, direction, type)) {
            return false;
        }
        this.loadLineNum();
        this.loadDirection();
        return true;
    }
    updateBranchFirst(stnId, direction, first) {
        if (!super.updateBranchFirst(stnId, direction, first)) {
            return false;
        }
        this.loadLineNum();
        this.loadDirection();
        return true;
    }
    updateBranchPos(stnId, direction, pos) {
        if (!super.updateBranchPos(stnId, direction, pos)) {
            return false;
        }
        this.loadLineNum();
        this.loadDirection();
        return true;
    }
    static initSVG(line) {
        super.initSVG(line);
        line.loadLineNum();
        line.loadLineName();
        line.loadDirection();
    }
}


/***/ }),

/***/ "./src/Station/StationGZ.ts":
/*!**********************************!*\
  !*** ./src/Station/StationGZ.ts ***!
  \**********************************/
/*! exports provided: getIntBoxGZ, RMGStationGZ, IntStationGZ, BranchStationGZ, OSIStationGZ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getIntBoxGZ", function() { return getIntBoxGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStationGZ", function() { return RMGStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntStationGZ", function() { return IntStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BranchStationGZ", function() { return BranchStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSIStationGZ", function() { return OSIStationGZ; });
/* harmony import */ var _Station__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Station */ "./src/Station/Station.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


function getIntBoxGZ(intInfo, state) {
    let bg = intInfo[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour];
    let fg = intInfo[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].fg];
    let names = [
        intInfo[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH],
        intInfo[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameEN]
    ];
    let nameZHs = names[0].match(/[\d]+|[\D]+/g) || [''];
    let intNameSplitOk = false;
    if (nameZHs.length == 2) {
        if (!isNaN(Number(nameZHs[0])) && isNaN(Number(nameZHs[1]))) {
            intNameSplitOk = true;
        }
    }
    let boxEl = $('<g>')
        .append($('<use>', {
        'xlink:href': '#intbox_gz',
        fill: state === -1 ? '#aaa' : bg
    }))
        .append($('<text>', { y: 8.5, class: 'rmg-name__zh rmg-name__gzmtr--int' })
        .append($('<tspan>', { 'font-size': '16px', 'dominant-baseline': 'central' }).text(intNameSplitOk ? nameZHs[0] : ''))
        .append($('<tspan>', { dy: -1, 'dominant-baseline': 'central' }).text(intNameSplitOk ? nameZHs[1] : nameZHs.join(''))))
        .append($('<text>', {
        y: 19.5,
        class: 'rmg-name__en'
    })
        .addClass(names[1].length > 10 ? 'rmg-name__gzmtr--int-small' : 'rmg-name__gzmtr--int')
        .text(names[1]));
    if (fg === '#fff' || state === -1) {
        $(boxEl).find('text').addClass('rmg-name__gzmtr--white-fg');
    }
    return boxEl;
}
class RMGStationGZ extends _Station__WEBPACK_IMPORTED_MODULE_0__["RMGStation"] {
    constructor(id, data) {
        super(id, data);
        this.stnNum = data.num;
    }
    get nameClass() {
        switch (this.state) {
            case -1:
                return 'Pass';
            case 0:
                return 'CurrentGZ';
            default:
                return 'Future';
        }
    }
    get _nameShift() { return false; }
    get _tickRotation() { return this.y > 0 ? 180 : 0; }
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? ['stn_gz_pass', 'Pass'] : ['stn_gz', 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn' }))
            .append($('<g>', { class: 'Name ' + numClass })
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--line-num' }))
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--station-num', x: 0 }).text(this.stnNum)));
    }
    get nameHTML() {
        var nameENLn = this.name[1].split('\\').length;
        let dx;
        if (this._nameShift) {
            dx = this._tickRotation === 0 ? -9 : 16 + (nameENLn - 1) * 12 * Math.cos(-45);
        }
        else {
            dx = this._tickRotation === 0 ? (24 + (nameENLn - 1) * 12) * Math.cos(-45) : -6;
        }
        // let dx = this._nameShift ? -8 : (24 + (nameENLn-1)*12) * Math.cos(-45);
        let dy = this._tickRotation === 0 ? (-4 - 21.921875 - (nameENLn - 1) * 12 * Math.cos(-45)) : 17.5;
        // var dy = (-4 - 21.921875 - (nameENLn-1)*12*Math.cos(-45)) * (this._tickRotation === 0 ? 1 : -1);
        let nameGEl = $('<g>', { class: 'Name ' + this.nameClass }).append($('<text>').addClass('rmg-name__zh rmg-name__gzmtr--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__gzmtr--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 10, class: 'rmg-name__en rmg-name__gzmtr--station'
        }).text(this.name[1].split('\\')[1])));
        return $('<g>', {
            'id': 'stn_name',
            'transform': `translate(${this.x - dx},${this.y + dy})rotate(-45)`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end'
        }).append(nameGEl);
    }
    expressTagHTML(colour) {
        if (!this.services.has('express')) {
            return $('<g>');
        }
        let stnNameDim = $(`#stn_icons #${this.id} g#stn_name g`)[0].getBBox();
        return $('<g>', {
            transform: `translate(${(stnNameDim.width + 35) * (this._tickRotation === 0 ? 1 : -1)},${2 + 5 * (this.name[1].split('\\').length - 1)})`,
            fill: this.state === -1 ? '#aaa' : colour,
            'text-anchor': 'middle'
        })
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--express' }).text('快车停靠站'))
            .append($('<text>', { y: 10, class: 'rmg-name__en rmg-name__gzmtr--express' }).text('Express Station'));
    }
}
class IntStationGZ extends RMGStationGZ {
    constructor(id, data) {
        super(id, data);
        this._intInfos = data.transfer.info[0];
    }
    // get _tickRotation() {return 0;}
    get intTickHTML() {
        var ticks = this._intInfos
            .map(info => info[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour])
            .map((colour, idx) => {
            let x = this.x - 2 * (this._intInfos.length - 1) + 4 * idx;
            return $('<use>', {
                'xlink:href': '#inttick_gz',
                stroke: this.state == -1 ? '#aaa' : colour,
                transform: `translate(${x},${this.y})rotate(${this._tickRotation})`
            });
        });
        return $('<g>', { class: 'rmg-line rmg-line__gzmtr rmg-line__change' })
            .append(...ticks);
    }
    get intNameHTML() {
        let intBoxEls = this._intInfos.map(info => getIntBoxGZ(info, this.state));
        intBoxEls.forEach((el, i) => {
            $(el).attr('transform', `translate(0,${i * 28 * (this._tickRotation === 0 ? 1 : -1)})`);
        });
        return $('<g>', {
            'text-anchor': 'middle',
            transform: `translate(${this.x},${this.y + (this._tickRotation === 0 ? 23 : -47)})`
        }).append(...intBoxEls);
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML];
    }
}
class BranchStationGZ extends IntStationGZ {
    constructor(id, data, lineInf) {
        data.transfer.info[0].unshift(lineInf);
        if (data.transfer.info[1]) {
            data.transfer.info[0].push(...data.transfer.info[1]);
        }
        super(id, data);
    }
    get _nameShift() { return true; }
    get _tickRotation() {
        return (this.parents.indexOf(this.branch.left[1]) === 0 || this.children.indexOf(this.branch.right[1]) === 0) ? 0 : 180;
    }
}
class OSIStationGZ extends IntStationGZ {
    constructor(id, data) {
        // data.transfer.info[0].push(...data.transfer.info[1]);
        super(id, data);
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9MaW5lR1oudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvbkdaLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXFHO0FBQ1M7QUFDN0U7QUFRMUIsTUFBTSxTQUFVLFNBQVEsNkNBQU87SUFRbEMsWUFBYSxLQUFlO1FBQ3hCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUViLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO1FBQzVDLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQztRQUMxQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7SUFDOUMsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVMsRUFBRSxPQUFvQjtRQUM1QyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0QsT0FBTyxJQUFJLGtFQUFlLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUN2STtRQUNELFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUU7WUFDM0IsS0FBSyxNQUFNLENBQUM7WUFDWixLQUFLLE1BQU07Z0JBQ1AsT0FBTyxJQUFJLCtEQUFZLENBQUMsS0FBSyxFQUFFLE9B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QUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4RDtRQUNELEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVELElBQUksVUFBVSxLQUFJLE9BQU8sSUFBSSxDQUFDLEVBQUM7SUFDL0IsSUFBSSxhQUFhO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQzVILENBQUM7Q0FDSjtBQUVELE1BQU0sWUFBYSxTQUFRLFlBQVk7SUFDbkMsWUFBYSxFQUFNLEVBQUUsSUFBaUI7UUFDbEMsd0RBQXdEO1FBQ3hELEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEIsQ0FBQztDQUNKO0FBRW9FIiwiZmlsZSI6IkxpbmVHWi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUeHRCb3hEaW0sIHNldFBhcmFtcywgZ2V0UGFyYW1zLCBwdXRQYXJhbXMsIGdldFJhbmRvbUlkLCBEaXJlY3Rpb25Mb25nIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgeyBSTUdTdGF0aW9uR1osIEludFN0YXRpb25HWiwgQnJhbmNoU3RhdGlvbkdaLCBPU0lTdGF0aW9uR1osIGdldEludEJveEdaIH0gZnJvbSAnLi4vU3RhdGlvbi9TdGF0aW9uR1onO1xyXG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lJztcclxuXHJcbmltcG9ydCB7IElELCBOYW1lLCBTdGF0aW9uSW5mbywgUk1HUGFyYW0sIEludGVyY2hhbmdlSW5mbyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmludGVyZmFjZSBTdGF0aW9uRGljdEdaIHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogUk1HU3RhdGlvbkdaO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUk1HTGluZUdaIGV4dGVuZHMgUk1HTGluZSB7XHJcbiAgICBwcml2YXRlIF9wc2ROdW06IHN0cmluZztcclxuICAgIHByaXZhdGUgX2xpbmVOdW06IHN0cmluZztcclxuICAgIHByaXZhdGUgX2luZm9QYW5lbFR5cGU6IHN0cmluZztcclxuICAgIHByaXZhdGUgX2RpcmVjdGlvbkdaWDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfZGlyZWN0aW9uR1pZOiBudW1iZXI7XHJcbiAgICBzdGF0aW9uczogU3RhdGlvbkRpY3RHWjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAocGFyYW06IFJNR1BhcmFtKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW0pO1xyXG5cclxuICAgICAgICB0aGlzLl9wc2ROdW0gPSBwYXJhbS5wc2RfbnVtO1xyXG4gICAgICAgIHRoaXMuX2xpbmVOdW0gPSBwYXJhbS5saW5lX251bTtcclxuICAgICAgICB0aGlzLl9pbmZvUGFuZWxUeXBlID0gcGFyYW0uaW5mb19wYW5lbF90eXBlO1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbkdaWCA9IHBhcmFtLmRpcmVjdGlvbl9nel94O1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbkdaWSA9IHBhcmFtLmRpcmVjdGlvbl9nel95O1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0U3RuSW5zdGFuY2Uoc3RuSWQ6IElELCBzdG5JbmZvOiBTdGF0aW9uSW5mbykge1xyXG4gICAgICAgIGlmIChzdG5JbmZvLmNoaWxkcmVuLmxlbmd0aCA9PT0gMiB8fCBzdG5JbmZvLnBhcmVudHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnJhbmNoU3RhdGlvbkdaKHN0bklkLCBzdG5JbmZvLCBbdGhpcy50aGVtZUNpdHksIHRoaXMudGhlbWVMaW5lLCB0aGlzLl90aGVtZUNvbG91ciwgdGhpcy5fZmdDb2xvdXIsIC4uLnRoaXMuX2xpbmVOYW1lc10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHN0bkluZm8udHJhbnNmZXIudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdpbnQyJzpcclxuICAgICAgICAgICAgY2FzZSAnaW50Myc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludFN0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kzMSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSVN0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJNR1N0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBsaW5lWHMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAncicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogdGhpcy5fcGFkZGluZyAvIDEwMCArIDY1LCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogKDEgLSB0aGlzLl9wYWRkaW5nLzEwMClcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9wYWRkaW5nIC8gMTAwLCBcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogKDEgLSB0aGlzLl9wYWRkaW5nLzEwMCkgLSA2NVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgc3ZnV2lkdGgodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5zdmdXaWR0aCA9IHZhbDtcclxuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU5hbWUoKTtcclxuICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGFkZGluZyh2YWw6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLnBhZGRpbmcgPSB2YWw7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJyYW5jaFNwYWNpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5icmFuY2hTcGFjaW5nID0gdmFsO1xyXG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZGlyZWN0aW9uKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHZhbDtcclxuICAgICAgICBzZXRQYXJhbXMoJ2RpcmVjdGlvbicsIHZhbCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdG5JbnN0YW5jZShzdG5JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSTUdMaW5lR1ouY2xlYXJTVkcoKTtcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xyXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkRGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGN1cnJlbnRTdG5JZCh2YWw6IElEKSB7XHJcbiAgICAgICAgc3VwZXIuY3VycmVudFN0bklkID0gdmFsO1xyXG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcclxuICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbGluZU51bSh2YWw6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2xpbmVOdW0gPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdsaW5lX251bScsIHZhbCk7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBsaW5lTmFtZXModmFsOiBOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZU5hbWVzID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnbGluZV9uYW1lJywgdmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU5hbWUoKTtcclxuICAgICAgICAvLyAodG8gYmUgZml4ZWQpIHJlZHJhdyBicmFuY2hpbmcgc3RhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIHNldCBwc2ROdW0odmFsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9wc2ROdW0gPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdwc2RfbnVtJywgdmFsKTtcclxuICAgICAgICAkKCcucm1nLXBzZC1udW0nKS50ZXh0KHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGluZm9QYW5lbFR5cGUodmFsOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLl9pbmZvUGFuZWxUeXBlID0gdmFsO1xyXG4gICAgICAgIHNldFBhcmFtcygnaW5mb19wYW5lbF90eXBlJywgdmFsKTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNpbmRpY2F0b3JfbGlnaHQnKS5hdHRyKCd4bGluazpocmVmJywgJyNpbmRpY2F0b3JfJyt2YWwpO1xyXG4gICAgICAgIC8vICQoJyNkZXN0X3N0cmlwLCAjc3RyaXAnKS5yZW1vdmVBdHRyKCdjbGFzcycpLmFkZENsYXNzKGBybWctc3RyaXBfX2d6bXRyLS0ke3RoaXMuX2luZm9QYW5lbFR5cGV9YCk7XHJcbiAgICAgICAgdGhpcy5kcmF3U3RyaXAoKTtcclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgIHRoaXMuZHJhd1BTRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkaXJlY3Rpb25HWlgodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25HWlggPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdkaXJlY3Rpb25fZ3pfeCcsIHZhbCk7XHJcblxyXG4gICAgICAgIGxldCB4ID0gdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9kaXJlY3Rpb25HWlggLyAxMDA7XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzLl9zdmdIZWlnaHQgKiB0aGlzLl9kaXJlY3Rpb25HWlkgLyAxMDA7XHJcbiAgICAgICAgJCgnI2RpcmVjdGlvbl9neicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4fSwke3l9KWApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkaXJlY3Rpb25HWlkodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25HWlkgPSB2YWw7XHJcbiAgICAgICAgc2V0UGFyYW1zKCdkaXJlY3Rpb25fZ3pfeScsIHZhbCk7XHJcblxyXG4gICAgICAgIGxldCB4ID0gdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9kaXJlY3Rpb25HWlggLyAxMDA7XHJcbiAgICAgICAgbGV0IHkgPSB0aGlzLl9zdmdIZWlnaHQgKiB0aGlzLl9kaXJlY3Rpb25HWlkgLyAxMDA7XHJcbiAgICAgICAgJCgnI2RpcmVjdGlvbl9neicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4fSwke3l9KWApO1xyXG4gICAgfVxyXG5cclxuICAgIF9zdG5YU2hhcmUoc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgbGV0IHsgY3JpdGljYWxQYXRoLCBicmFuY2hlcyB9ID0gdGhpcztcclxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNyaXRpY2FsUGF0aC5ub2Rlcy5pbmNsdWRlcyhzdG5JZCkpIHtyZXR1cm4gc3VwZXIuX3N0blhTaGFyZShzdG5JZCk7fVxyXG4gICAgICAgIGlmICh0aGlzLmNyaXRpY2FsUGF0aC5ub2Rlcy5qb2luKCcsJykgIT09IGJyYW5jaGVzWzBdLmpvaW4oJywnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuX3N0blhTaGFyZShzdG5JZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGJyYW5jaFdpdGhTdG4gPSBicmFuY2hlcy5zbGljZSgxKS5maWx0ZXIoYnJhbmNoID0+IGJyYW5jaC5pbmNsdWRlcyhzdG5JZCkpWzBdO1xyXG4gICAgICAgICAgICBsZXQgbGVuVG9MZWZ0ID0gdGhpcy5fY3AoYnJhbmNoV2l0aFN0blswXSwgc3RuSWQpLmxlbjtcclxuICAgICAgICAgICAgbGV0IGxlblRvUmlnaHQgPSB0aGlzLl9jcChzdG5JZCwgYnJhbmNoV2l0aFN0blticmFuY2hXaXRoU3RuLmxlbmd0aC0xXSkubGVuO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJyYW5jaGVzWzBdLmluY2x1ZGVzKGJyYW5jaFdpdGhTdG5bMF0pICYmIGJyYW5jaGVzWzBdLmluY2x1ZGVzKGJyYW5jaFdpdGhTdG5bYnJhbmNoV2l0aFN0bi5sZW5ndGgtMV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKCBzZWxmLl9zdG5YU2hhcmUoYnJhbmNoV2l0aFN0blswXSkgKiBsZW5Ub1JpZ2h0ICsgc2VsZi5fc3RuWFNoYXJlKGJyYW5jaFdpdGhTdG5bYnJhbmNoV2l0aFN0bi5sZW5ndGgtMV0pICogbGVuVG9MZWZ0ICkgLyAobGVuVG9MZWZ0ICsgbGVuVG9SaWdodCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhbmNoZXNbMF0uaW5jbHVkZXMoYnJhbmNoV2l0aFN0blswXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9zdG5YU2hhcmUoYnJhbmNoV2l0aFN0blswXSkgKyBsZW5Ub0xlZnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fc3RuWFNoYXJlKGJyYW5jaFdpdGhTdG5bYnJhbmNoV2l0aFN0bi5sZW5ndGgtMV0pIC0gbGVuVG9SaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFZlcnRpY2FsIHBvc2l0aW9uIChpbiBzaGFyZXMpIG9mIHN0YXRpb24gaWNvbi4gXHJcbiAgICAgKi9cclxuICAgIF9zdG5ZU2hhcmUoc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBicmFuY2hlcyA9IHRoaXMuYnJhbmNoZXM7XHJcbiAgICAgICAgaWYgKGJyYW5jaGVzWzBdLmluY2x1ZGVzKHN0bklkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDsgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGkgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGJyYW5jaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJyYW5jaGVzW2ldLmluY2x1ZGVzKHN0bklkKSkge2JyZWFrO31cclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYnJhbmNoZXNbMF0uaW5jbHVkZXMoYnJhbmNoZXNbaV1bMF0pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnJhbmNoaW5nU3RuSWQgPSBicmFuY2hlc1tpXVswXTtcclxuICAgICAgICAgICAgICAgIHZhciBuZVRvRmluZCA9ICdjaGlsZHJlbic7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1ticmFuY2hpbmdTdG5JZF1bbmVUb0ZpbmRdLmluZGV4T2YoYnJhbmNoZXNbaV1bMV0pID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJyYW5jaGluZ1N0bklkID0gYnJhbmNoZXNbaV0uc2xpY2UoKS5yZXZlcnNlKClbMF07XHJcbiAgICAgICAgICAgICAgICB2YXIgbmVUb0ZpbmQgPSAncGFyZW50cyc7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1ticmFuY2hpbmdTdG5JZF1bbmVUb0ZpbmRdLmluZGV4T2YoYnJhbmNoZXNbaV0uc2xpY2UoKS5yZXZlcnNlKClbMV0pID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0yO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTdHJpcCgpIHtcclxuICAgICAgICBsZXQgc3RyaXBIZWlnaHQgPSAodHlwZSA9PiB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ3oyOCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdnemdmJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNjA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdnejMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA0MDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d6MTQyMSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkodGhpcy5faW5mb1BhbmVsVHlwZSk7XHJcbiAgICAgICAgJCgnI2Rlc3Rfc3RyaXBfZ3osICNzdHJpcF9neicpLmF0dHIoe1xyXG4gICAgICAgICAgICB5OiB0aGlzLl9zdmdIZWlnaHQgLSBzdHJpcEhlaWdodCwgXHJcbiAgICAgICAgICAgIGhlaWdodDogc3RyaXBIZWlnaHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfcmlnaHRXaWRlRmFjdG9yKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXSBpbnN0YW5jZW9mIEJyYW5jaFN0YXRpb25HWiAmJiB0aGlzLnN0YXRpb25zW3N0bklkXS5fdGlja1JvdGF0aW9uID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwLjI1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfbGVmdFdpZGVGYWN0b3Ioc3RuSWQ6IElEKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdIGluc3RhbmNlb2YgQnJhbmNoU3RhdGlvbkdaICYmIHRoaXMuc3RhdGlvbnNbc3RuSWRdLl90aWNrUm90YXRpb24gIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDAuMjU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9wYXRoV2VpZ2h0KHN0bklkMTogSUQsIHN0bklkMjogSUQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGlvbnNbc3RuSWQxXS5jaGlsZHJlbi5pbmNsdWRlcyhzdG5JZDIpKSB7cmV0dXJuIC1JbmZpbml0eTt9XHJcblxyXG4gICAgICAgIHJldHVybiAxICsgdGhpcy5fcmlnaHRXaWRlRmFjdG9yKHN0bklkMSkgKyB0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZDIpO1xyXG4gICAgICAgIC8vIHJldHVybiAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdpZHRoIGZvciBjb2xvdXIgc3RyaXBzLiAoSGVpZ2h0IG9mIHN0cmlwcyBhcmUgY29udHJvbGxlZCBieSBgUk1HTGluZUdaLmRyYXdTdHJpcGAuIClcclxuICAgICAqL1xyXG4gICAgZHJhd1NWR0ZyYW1lKCkge1xyXG4gICAgICAgIHN1cGVyLmRyYXdTVkdGcmFtZSgpO1xyXG4gICAgICAgICQoJyNkZXN0X3N0cmlwX2d6JykuYXR0cignd2lkdGgnLCB0aGlzLl9zdmdEZXN0V2lkdGgpO1xyXG4gICAgICAgICQoJyNzdHJpcF9neicpLmF0dHIoJ3dpZHRoJywgdGhpcy5fc3ZnV2lkdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdTdG5zKCkge1xyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxyXG4gICAgICAgICAgICAkKCcjc3RuX2ljb25zJykuYXBwZW5kKHN0bkluc3RhbmNlLmh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTsgLy8gUmVmcmVzaCBET01cclxuXHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XHJcbiAgICAgICAgICAgICQoYCNzdG5faWNvbnMgIyR7c3RuSWR9IGcjc3RuX25hbWVgKS5hcHBlbmQoc3RuSW5zdGFuY2UuZXhwcmVzc1RhZ0hUTUwodGhpcy5fdGhlbWVDb2xvdXIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7IC8vIFJlZnJlc2ggRE9NXHJcbiAgICB9XHJcblxyXG4gICAgX2xpbmVQYXRoKHN0bklkczogSURbXSkge1xyXG4gICAgICAgIGxldCBwcmV2WTogbnVtYmVyO1xyXG4gICAgICAgIHZhciBwYXRoID0gW107XHJcblxyXG4gICAgICAgIHN0bklkcy5mb3JFYWNoKHN0bklkID0+IHtcclxuICAgICAgICAgICAgdmFyIFt4LHldID0gWydfc3RuUmVhbFgnLCAnX3N0blJlYWxZJ10ubWFwKGZ1biA9PiB0aGlzW2Z1bl0oc3RuSWQpKTtcclxuICAgICAgICAgICAgaWYgKCFwcmV2WSAmJiBwcmV2WSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcHJldlkgPSB5O1xyXG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGBNICR7eH0sJHt5fWApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHByZXZZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wdXNoKGBIICR7eC0zMH1gLCAnYSAzMCwzMCAwIDAsMCAzMCwtMzAnLCBgViAke3l9YClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5ID4gcHJldlkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2goYEggJHt4LTMwfWAsICdhIDMwLDMwIDAgMCwxIDMwLDMwJywgYFYgJHt5fWApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHByZXZZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wdXNoKGBWICR7eSszMH1gLCAnYSAzMCwzMCAwIDAsMSAzMCwtMzAnLCBgSCAke3h9YClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh5ID4gcHJldlkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2goYFYgJHt5LTMwfWAsICdhIDMwLDMwIDAgMCwwIDMwLDMwJywgYEggJHt4fWApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGF0aC5wdXNoKGBIICR7eH1gKTtcclxuICAgICAgICAgICAgcHJldlkgPSB5O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaW1wbGlmeSBwYXRoXHJcbiAgICAgICAgcmV0dXJuIHBhdGguam9pbignICcpLnJlcGxhY2UoLyggSCAoW1xcZC5dKykpKy9nLCAnIEggJDInKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3TGluZSgpIHtcclxuICAgICAgICAkKCcucm1nLWxpbmUnKS5yZW1vdmVDbGFzcygncm1nLWxpbmVfX210cicpLmFkZENsYXNzKCdybWctbGluZV9fZ3ptdHInKTtcclxuICAgICAgICBzdXBlci5kcmF3TGluZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRGb250cygpIHtcclxuICAgICAgICBsZXQgc3R5bGVTaGVldCA9ICg8SFRNTExpbmtFbGVtZW50PiQoJ2xpbmsjY3NzX3NoYXJlJylbMF0pLnNoZWV0IGFzIENTU1N0eWxlU2hlZXQ7XHJcbiAgICAgICAgbGV0IGlkeDogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBBcnJheS5mcm9tKHN0eWxlU2hlZXQuY3NzUnVsZXMpLmZvckVhY2goKHJ1bGUsIGkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJ1bGUuY3NzVGV4dC5pbmRleE9mKCcucm1nLW5hbWVfX3poJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBpZHgucHVzaChpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChydWxlLmNzc1RleHQuaW5kZXhPZignLnJtZy1uYW1lX19lbicpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWR4LnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZHguZm9yRWFjaChpID0+IHN0eWxlU2hlZXQuZGVsZXRlUnVsZShpKSk7XHJcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKCcucm1nLW5hbWVfX3poIHthbGlnbm1lbnQtYmFzZWxpbmU6IGNlbnRyYWw7IGZvbnQtZmFtaWx5OiBBcmlhbCwgU2ltSGVpLCBTVEhlaXRpLCBQaW5nRmFuZ1NDLVJlZ3VsYXIsIHNhbnMtc2VyaWY7fScpO1xyXG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSgnLnJtZy1uYW1lX19lbiB7YWxpZ25tZW50LWJhc2VsaW5lOiBtaWRkbGU7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjt9Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsbFRoZW1lQ29sb3VyKCkge1xyXG4gICAgICAgIHN1cGVyLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgICQoJyNkZXN0X3N0cmlwX2d6LCAjc3RyaXBfZ3onKS5hdHRyKCdmaWxsJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG4gICAgICAgIGlmIChbJ2d6MycsICdnejE0MjEnXS5pbmNsdWRlcyh0aGlzLl9pbmZvUGFuZWxUeXBlKSkge1xyXG4gICAgICAgICAgICAkKCcjYmlnX3BzZCB1c2UnKS5hdHRyKCdmaWxsJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZmdDb2xvdXIgPT09ICcjZmZmJykge1xyXG4gICAgICAgICAgICAgICAgJCgnI2JpZ19wc2QgdGV4dCcpLmFkZENsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjYmlnX3BzZCB0ZXh0JykucmVtb3ZlQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNiaWdfcHNkIHVzZScpLmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKTtcclxuICAgICAgICAgICAgJCgnI2JpZ19wc2QgdGV4dCcpLnJlbW92ZUNsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCdwYXRoI3N0bl9neicpLmF0dHIoJ3N0cm9rZScsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gI3BsYXRmb3JtID4gY2lyY2xlJykuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgICAgICAkKCcjbGluZV9uYW1lIHVzZScpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZnQ29sb3VyID09PSAnI2ZmZicpIHtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+ICNwbGF0Zm9ybSB0ZXh0JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcclxuICAgICAgICAgICAgJCgnI2xpbmVfbmFtZSB0ZXh0JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gI3BsYXRmb3JtIHRleHQnKS5yZW1vdmVDbGFzcygncm1nLW5hbWVfX2d6bXRyLS13aGl0ZS1mZycpO1xyXG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRleHQnKS5yZW1vdmVDbGFzcygncm1nLW5hbWVfX2d6bXRyLS13aGl0ZS1mZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBsb2FkTGluZU51bSgpIHtcclxuICAgICAgICBjb25zdCBMSU5FX05VTV9NQVhfV0lEVEggPSAxNS41OTM3NTtcclxuICAgICAgICAkKCcucm1nLW5hbWVfX2d6bXRyLS1saW5lLW51bScpLnRleHQodGhpcy5fbGluZU51bSkuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgtOS4yNSwwKWApO1xyXG5cclxuICAgICAgICB2YXIgbGluZU51bURpbSA9IGdldFR4dEJveERpbSgkKCcucm1nLW5hbWVfX2d6bXRyLS1saW5lLW51bScpWzFdIGFzIEVsZW1lbnQgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LCAncmFpbG1hcCcpO1xyXG4gICAgICAgIGlmICh0aGlzLl9saW5lTnVtLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICB2YXIgbGluZU51bVNjYWxlID0gbGluZU51bURpbS53aWR0aD5MSU5FX05VTV9NQVhfV0lEVEggPyBMSU5FX05VTV9NQVhfV0lEVEgvbGluZU51bURpbS53aWR0aCA6IDE7XHJcbiAgICAgICAgICAgICQoJy5ybWctbmFtZV9fZ3ptdHItLWxpbmUtbnVtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgtOS4yNSwwKXNjYWxlKCR7bGluZU51bVNjYWxlfSlgKTtcclxuICAgICAgICAgICAgJCgnLnJtZy1uYW1lX19nem10ci0tc3RhdGlvbi1udW0nKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDkuMjUsMClzY2FsZSgke2xpbmVOdW1TY2FsZX0pYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGxpbmVOdW1TY2FsZSA9IGxpbmVOdW1EaW0ud2lkdGg+TElORV9OVU1fTUFYX1dJRFRIID8gTElORV9OVU1fTUFYX1dJRFRIL2xpbmVOdW1EaW0ud2lkdGggOiAxO1xyXG4gICAgICAgICAgICAkKCcucm1nLW5hbWVfX2d6bXRyLS1saW5lLW51bScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoLTkuMjUsMClzY2FsZSgke2xpbmVOdW1TY2FsZX0pYCk7XHJcbiAgICAgICAgICAgICQoJy5ybWctbmFtZV9fZ3ptdHItLXN0YXRpb24tbnVtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg5LjI1LDApYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRMaW5lTmFtZSgpIHtcclxuICAgICAgICAvLyBzaW11bGF0ZSBpbnRlcmNoYW5nZSBpbmZvXHJcbiAgICAgICAgbGV0IGluZm8gPSBbdGhpcy50aGVtZUNpdHksIHRoaXMudGhlbWVMaW5lLCB0aGlzLl90aGVtZUNvbG91ciwgdGhpcy5fZmdDb2xvdXIsIHRoaXMuX2xpbmVOYW1lc1swXSwgdGhpcy5fbGluZU5hbWVzWzFdXSBhcyBJbnRlcmNoYW5nZUluZm87XHJcblxyXG4gICAgICAgICQoJyNsaW5lX25hbWUnKVxyXG4gICAgICAgICAgICAuZW1wdHkoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKGdldEludEJveEdaKGluZm8sIDEpKTtcclxuICAgICAgICAkKCcjbGluZV9uYW1lJykuaHRtbCgkKCcjbGluZV9uYW1lJykuaHRtbCgpKTtcclxuXHJcbiAgICAgICAgdmFyIGxpbmVOYW1lWCA9IHRoaXMuX2RpcmVjdGlvbj09J3InID8gdGhpcy5saW5lWHNbMF0tNjUgOiB0aGlzLmxpbmVYc1sxXSs2NTtcclxuXHJcbiAgICAgICAgJCgnI2xpbmVfbmFtZScpXHJcbiAgICAgICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2xpbmVOYW1lWH0sLTE4KXNjYWxlKDEuNSlgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWREaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHZhbGlkRGVzdDogSURbXTtcclxuICAgICAgICBsZXQgeCA9IHRoaXMuX3N2Z1dpZHRoICogdGhpcy5fZGlyZWN0aW9uR1pYIC8gMTAwO1xyXG4gICAgICAgIGxldCB5ID0gdGhpcy5fc3ZnSGVpZ2h0ICogdGhpcy5fZGlyZWN0aW9uR1pZIC8gMTAwO1xyXG4gICAgICAgICQoJyNkaXJlY3Rpb25fZ3onKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eH0sJHt5fSlgKTtcclxuICAgICAgICAvLyB0byBiZSBmaXhlZDogdmFsaWREZXN0IG9yZGVyaW5nXHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpIHtcclxuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiB1c2UnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgc2NhbGUoMC4zNSlgKTtcclxuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiAnc3RhcnQnLCBcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSg2NSwtNSknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YWxpZERlc3QgPSB0aGlzLmxWYWxpZERlc3RzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogdXNlJykuYXR0cigndHJhbnNmb3JtJywgYHNjYWxlKDAuMzUpcm90YXRlKDE4MClgKTtcclxuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiAnZW5kJywgXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTY1LC01KSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhbGlkRGVzdCA9IHRoaXMuclZhbGlkRGVzdHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWxpZERlc3QubGVuZ3RoICE9PSAyKSB7XHJcbiAgICAgICAgICAgIHZhciBbZGVzdE5hbWVaSCwgZGVzdE5hbWVFTl0gPSBbMCwxXS5tYXAoaWR4ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZERlc3QubWFwKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWVbaWR4XS5yZXBsYWNlKC9cXFxcL2csICcgJykpLmpvaW4oJy8nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLmZpbmQoJ3RleHQnKS5lcSgwKS50ZXh0KGRlc3ROYW1lWkggKyAn5pa55ZCRJyk7XHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLmZpbmQoJ3RleHQnKS5lcSgxKS50ZXh0KCdUb3dhcmRzICcgKyBkZXN0TmFtZUVOLnJlcGxhY2UoJ1xcXFwnLCAnICcpKTtcclxuXHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLnNob3coKTtcclxuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuaGlkZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGZsYXRNYXAgYW5kIGZsYXQgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgc29tZSBicm93c2VycyFcclxuICAgICAgICAgICAgLy8gaG93ZXZlciB0YXJnZXRpbmcgRVM1IGNhdXNlZCBvdGhlciBpc3N1ZXM/XHJcbiAgICAgICAgICAgIHZhbGlkRGVzdFxyXG4gICAgICAgICAgICAgICAgLm1hcChzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgodHh0LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGklMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eHQgPSAnVG93YXJkcyAnICsgdHh0LnJlcGxhY2UoJ1xcXFwnLCAnICcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoaSkudGV4dCh0eHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmZpbmQoJ3RleHQnKS5jc3MoJ2xldHRlci1zcGFjaW5nJywgMCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2hhckNvdW50cyA9IHZhbGlkRGVzdC5tYXAoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0ubmFtZVswXS5sZW5ndGgpO1xyXG4gICAgICAgICAgICBsZXQgbWluQ2hhckNvdW50cyA9IE1hdGgubWluKC4uLmNoYXJDb3VudHMpO1xyXG4gICAgICAgICAgICBpZiAobWluQ2hhckNvdW50cyA+IDEgJiYgY2hhckNvdW50c1swXSAhPT0gY2hhckNvdW50c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoYXJTcGFjaW5nID0gTWF0aC5hYnMoY2hhckNvdW50c1swXSAtIGNoYXJDb3VudHNbMV0pIC8gKG1pbkNoYXJDb3VudHMgLSAxKTtcclxuICAgICAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmZpbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5lcShjaGFyQ291bnRzWzBdID4gY2hhckNvdW50c1sxXSA/IDIgOiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jc3MoJ2xldHRlci1zcGFjaW5nJywgYCR7Y2hhclNwYWNpbmd9ZW1gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4Q2hhckNvdW50ID0gTWF0aC5tYXgoLi4uY2hhckNvdW50cyk7XHJcbiAgICAgICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoNCkuYXR0cigneCcsIDI1KihtYXhDaGFyQ291bnQrMSkpO1xyXG4gICAgICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuZmluZCgndGV4dCcpLnNsaWNlKDAsNCkucmVtb3ZlQXR0cigneCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuZmluZCgndGV4dCcpLmVxKDQpLnJlbW92ZUF0dHIoJ3gnKTtcclxuICAgICAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmZpbmQoJ3RleHQnKS5zbGljZSgwLDQpLmF0dHIoJ3gnLCAnLTc1Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdG5OYW1lKHN0bklkOiBJRCwgbmFtZXM6IE5hbWUsIHN0bk51bTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlU3RuTmFtZShzdG5JZCwgbmFtZXMsIHN0bk51bSk7XHJcblxyXG4gICAgICAgICQoYCNzdG5faWNvbnMgIyR7c3RuSWR9IGcjc3RuX25hbWVgKS5hcHBlbmQodGhpcy5zdGF0aW9uc1tzdG5JZF0uZXhwcmVzc1RhZ0hUTUwodGhpcy5fdGhlbWVDb2xvdXIpKTtcclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLnBhcmVudHMuaW5jbHVkZXMoc3RuSWQpIHx8IHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5jaGlsZHJlbi5pbmNsdWRlcyhzdG5JZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3RuSWQgPT09IHN0bklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubGVmdERlc3RzLmluY2x1ZGVzKHN0bklkKSB8fCB0aGlzLnJpZ2h0RGVzdHMuaW5jbHVkZXMoc3RuSWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdG5TZXJ2aWNlcyhzdG5JZDogSUQsIGRldGFpbDoge2NoaXBJZDogJ2xvY2FsJ3wnZXhwcmVzcycsIHNlbGVjdGVkOiBib29sZWFufSkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZVN0blNlcnZpY2VzKHN0bklkLCBkZXRhaWwpO1xyXG5cclxuICAgICAgICAkKGAjc3RuX2ljb25zICMke3N0bklkfWApLnJlbW92ZSgpO1xyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQodGhpcy5zdGF0aW9uc1tzdG5JZF0uaHRtbCk7XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7XHJcbiAgICAgICAgJChgI3N0bl9pY29ucyAjJHtzdG5JZH0gZyNzdG5fbmFtZWApLmFwcGVuZCh0aGlzLnN0YXRpb25zW3N0bklkXS5leHByZXNzVGFnSFRNTCh0aGlzLl90aGVtZUNvbG91cikpO1xyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpO1xyXG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZHJhd0Rlc3RJbmZvKCkge1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19zdG5fbnVtIHRleHQnKS5lcSgxKS50ZXh0KHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5zdG5OdW0pO1xyXG5cclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gI3BsYXRmb3JtID4gdGV4dCcpLmVxKDApLnRleHQodGhpcy5fcGxhdGZvcm1OdW0pO1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiAjYmlnX3BzZCB0ZXh0JykuZXEoMCkudGV4dCh0aGlzLl9wc2ROdW0pO1xyXG5cclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmFtZScpLmVtcHR5KClcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgvMn0sJHsxMDAgLSAodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKS5sZW5ndGggLSAxKSoyMH0pYClcclxuICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0ZXh0PicsIHsgY2xhc3M6J3JtZy1uYW1lX196aCBybWctbmFtZV9fZ3ptdHItLWRlc3QnIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLm5hbWVbMF0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0ZXh0PicsIHsgZHk6NzAsIGNsYXNzOidybWctbmFtZV9fZW4gcm1nLW5hbWVfX2d6bXRyLS1kZXN0JyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHRzcGFuPicsIHsgeDowLCBkeTo0MCwgJ2FsaWdubWVudC1iYXNlbGluZSc6J21pZGRsZScgfSkudGV4dCh0aGlzLnN0YXRpb25zW3RoaXMuX2N1cnJlbnRTdG5JZF0ubmFtZVsxXS5zcGxpdCgnXFxcXCcpWzFdIHx8ICcnKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICAkKCcjdGVybWludXNfZ3onKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnV2lkdGgvMn0sMTAwKWApO1xyXG5cclxuICAgICAgICBsZXQgbmV4dFN0bklkID0gdGhpc1xyXG4gICAgICAgICAgICAuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXVt0aGlzLl9kaXJlY3Rpb24gPT09ICdsJyA/ICdwYXJlbnRzJyA6ICdjaGlsZHJlbiddXHJcbiAgICAgICAgICAgIC5maWx0ZXIoc3RuSWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGJyYW5jaFRtcCA9IHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5icmFuY2hbdGhpcy5fZGlyZWN0aW9uID09PSAnbCcgPyAnbGVmdCcgOiAncmlnaHQnXVxyXG4gICAgICAgICAgICAgICAgaWYgKGJyYW5jaFRtcC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gYnJhbmNoVG1wWzBdID09PSAndGhyb3VnaCcgPyB0cnVlIDogc3RuSWQgIT09IGJyYW5jaFRtcFsxXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKG5leHRTdG5JZFswXSkpIHtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10cicpLmZpbmQoJyNiaWdfbmV4dCwgI2JpZ19uZXh0XzInKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNsaW5lX21haW4sICNsaW5lX3Bhc3MsICNsaW5lX25hbWUsICNzdG5faWNvbnMsICNkaXJlY3Rpb25fZ3onKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyN0ZXJtaW51c19neicpLnNob3coKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAobmV4dFN0bklkLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yJykuaGlkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yJykuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyNsaW5lX21haW4sICNsaW5lX3Bhc3MsICNsaW5lX25hbWUsICNzdG5faWNvbnMsICNkaXJlY3Rpb25fZ3onKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJyN0ZXJtaW51c19neicpLmhpZGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBbbmV4dE5hbWVaSCwgbmV4dE5hbWVFTl0gPSBbJycsICcnXTtcclxuICAgICAgICBsZXQgbmV4dE5hbWVaSENvdW50ID0gMDtcclxuICAgICAgICBpZiAobmV4dFN0bklkLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB2YXIgbmV4dFN0bkluZm8gPSB0aGlzLnN0YXRpb25zW25leHRTdG5JZFswXV07XHJcbiAgICAgICAgICAgIFtuZXh0TmFtZVpILCBuZXh0TmFtZUVOXSA9IG5leHRTdG5JbmZvLm5hbWU7XHJcbiAgICAgICAgICAgIG5leHROYW1lWkhDb3VudCA9IG5leHROYW1lWkgubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpudGgtY2hpbGQoMikgdGV4dCcpLmVxKDApLnRleHQobmV4dE5hbWVaSCk7XHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpIHRleHQnKS5lcSgxKS50ZXh0KG5leHROYW1lRU4uc3BsaXQoJ1xcXFwnKVswXSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRzcGFuPicsIHsgeDowLCBkeToxNywgJ2FsaWdubWVudC1iYXNlbGluZSc6J21pZGRsZScgfSkudGV4dChuZXh0TmFtZUVOLnNwbGl0KCdcXFxcJylbMV0gfHwgJycpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXh0U3RuSWQuZm9yRWFjaCgoc3RuSWQsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5leHRTdG5JbmZvID0gdGhpcy5zdGF0aW9uc1tzdG5JZF07XHJcbiAgICAgICAgICAgICAgICBbbmV4dE5hbWVaSCwgbmV4dE5hbWVFTl0gPSBuZXh0U3RuSW5mby5uYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROYW1lWkgubGVuZ3RoID4gbmV4dE5hbWVaSENvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dE5hbWVaSENvdW50ID0gbmV4dE5hbWVaSC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJChgI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgkezIqKGlkeCsxKX0pIHRleHRgKS5lcSgyKS50ZXh0KG5leHROYW1lWkgpO1xyXG4gICAgICAgICAgICAgICAgJChgI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgkezIqKGlkeCsxKX0pIHRleHRgKS5lcSgzKS50ZXh0KG5leHROYW1lRU4uc3BsaXQoJ1xcXFwnKVswXSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0c3Bhbj4nLCB7IHg6MCwgZHk6MTMsICdhbGlnbm1lbnQtYmFzZWxpbmUnOidtaWRkbGUnIH0pLnRleHQobmV4dE5hbWVFTi5zcGxpdCgnXFxcXCcpWzFdIHx8ICcnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkUm91dGVzID0gdGhpcy5yb3V0ZXNcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2Yoc3RuSWQpICE9PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICAubWFwKHJvdXRlID0+IHJvdXRlLmZpbHRlcihzID0+IHMgIT09ICdsaW5lc3RhcnQnICYmIHMgIT09ICdsaW5lZW5kJykpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkRW5kczogSURbXTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkRW5kcyA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXQodmFsaWRSb3V0ZXMubWFwKHJvdXRlID0+IHJvdXRlWzBdKSlcclxuICAgICAgICAgICAgICAgICAgICApLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRFbmRzID0gQXJyYXkuZnJvbShcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldCh2YWxpZFJvdXRlcy5tYXAocm91dGUgPT4gcm91dGUucmV2ZXJzZSgpWzBdKSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJChgI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgkezIqKGlkeCsxKX0pIHRleHRgKS5lcSgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KHZhbGlkRW5kcy5tYXAocyA9PiB0aGlzLnN0YXRpb25zW3NdLm5hbWVbMF0pLmpvaW4oJy8nKSArICfmlrnlkJEnKTtcclxuICAgICAgICAgICAgICAgICQoYCNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoJHsyKihpZHgrMSl9KSB0ZXh0YCkuZXEoMSlcclxuICAgICAgICAgICAgICAgICAgICAudGV4dCgnVG93YXJkcyAnICsgdmFsaWRFbmRzLm1hcChzID0+IHRoaXMuc3RhdGlvbnNbc10ubmFtZVsxXSkuam9pbignLycpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHInKS5odG1sKCQoJyNzdGF0aW9uX2luZm9fZ3ptdHInKS5odG1sKCkpO1xyXG5cclxuICAgICAgICAvLyBQb3NpdGlvbiBiaWcgbmFtZVxyXG4gICAgICAgIHZhciBiaWdOYW1lRGltID0gZ2V0VHh0Qm94RGltKFxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmFtZSB0ZXh0JylbMF0gYXMgRWxlbWVudCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsIFxyXG4gICAgICAgICAgICAnZGVzdGluYXRpb24nXHJcbiAgICAgICAgKTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfc3RuX251bScpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aCtiaWdOYW1lRGltLndpZHRoKS8yKzU1fSwkezEyMCAtICh0aGlzLnN0YXRpb25zW3RoaXMuX2N1cnJlbnRTdG5JZF0ubmFtZVsxXS5zcGxpdCgnXFxcXCcpLmxlbmd0aCAtIDEpKjIwfSlzY2FsZSgxLjQpYCk7XHJcblxyXG4gICAgICAgIGxldCBiaWdOZXh0RGltID0ge3g6MCwgeTowLCB3aWR0aDowLCBoZWlnaHQ6MH07XHJcbiAgICAgICAgaWYgKG5leHRTdG5JZC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgYmlnTmV4dERpbSA9IGdldFR4dEJveERpbShcclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpJylbMF0gYXMgRWxlbWVudCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24nXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGJpZ05leHREaW1zID0gW1xyXG4gICAgICAgICAgICAgICAgZ2V0VHh0Qm94RGltKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoMiknKVswXSBhcyBFbGVtZW50IGFzIFNWR0dyYXBoaWNzRWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24nXHJcbiAgICAgICAgICAgICAgICApLCBcclxuICAgICAgICAgICAgICAgIGdldFR4dEJveERpbShcclxuICAgICAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yIGc6bnRoLWNoaWxkKDQpJylbMF0gYXMgRWxlbWVudCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rlc3RpbmF0aW9uJ1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBpZiAoYmlnTmV4dERpbXNbMF0ud2lkdGggPiBiaWdOZXh0RGltc1sxXS53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgYmlnTmV4dERpbSA9IGJpZ05leHREaW1zWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmlnTmV4dERpbSA9IGJpZ05leHREaW1zWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHZhciBuZXh0TmFtZVpIQ291bnQgPSBuZXh0TmFtZVpILmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpIHtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjcGxhdGZvcm0nKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTEwMH0sMTIwKWApO1xyXG4gICAgICAgICAgICBpZiAobmV4dFN0bklkLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROYW1lWkhDb3VudCA8PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7MTE1KzM1fSwxMTApYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsoMTE1KzM1KigxK25leHROYW1lWkhDb3VudCkrYmlnTmFtZURpbS54KS8yLTIwfSwxMjApc2NhbGUoMC4yNSlgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7MTE1KzM1KjAuNX0sMTEwKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KDExNSszNSooMC41K25leHROYW1lWkhDb3VudCkrYmlnTmFtZURpbS54KS8yLTIwfSwxMjApc2NhbGUoMC4yNSlgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDExMyw4MClgKTtcclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoNCknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDExMywxOTApYCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gdXNlJykuZXEoMCkuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeyg5OSsyNyooMStuZXh0TmFtZVpIQ291bnQpK2JpZ05hbWVEaW0ueCkvMi0yMH0sMTIwKXNjYWxlKDAuMjUpYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6Zmlyc3QtY2hpbGQnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDgwLDExMClgKTtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOmZpcnN0LWNoaWxkJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg3Miw4MClgKTtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgzKScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoNzIsMTkwKWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI3BsYXRmb3JtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgxMDAsMTIwKWApO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5leHRTdG5JZC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRofSwxMTApYCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHROYW1lWkhDb3VudCA8PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpmaXJzdC1jaGlsZCcpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgtNDUtYmlnTmV4dERpbS53aWR0aC03MH0sMTEwKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTcwLTM1K2JpZ05hbWVEaW0ueCtiaWdOYW1lRGltLndpZHRoKzU1KzE4LjUqMS40KS8yKzIwfSwxMjApc2NhbGUoMC4yNSlyb3RhdGUoMTgwKWApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCBnOmZpcnN0LWNoaWxkJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTM1KjEuNX0sMTEwKWApO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTM1KjIuNStiaWdOYW1lRGltLngrYmlnTmFtZURpbS53aWR0aCs1NSsxOC41KjEuNCkvMisyMH0sMTIwKXNjYWxlKDAuMjUpcm90YXRlKDE4MClgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGh9LDgwKWApO1xyXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCg0KScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgtNDUtYmlnTmV4dERpbS53aWR0aH0sMTkwKWApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpmaXJzdC1jaGlsZCcpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgtNDUtYmlnTmV4dERpbS53aWR0aC00MX0sODApYCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yIGc6bnRoLWNoaWxkKDMpJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTQxfSwxOTApYCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsodGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGgtNDEtMjcrYmlnTmFtZURpbS54K2JpZ05hbWVEaW0ud2lkdGgrNTUrMTguNSoxLjQpLzIrMjB9LDEyMClzY2FsZSgwLjI1KXJvdGF0ZSgxODApYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2luZGljYXRvcl9saWdodCcpLmF0dHIoe1xyXG4gICAgICAgICAgICB4OnRoaXMuX3N2Z0Rlc3RXaWR0aC8yLCB5OjI3MCwgXHJcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbmRpY2F0b3JfJyArIHRoaXMuX2luZm9QYW5lbFR5cGVcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRyYXdQU0QoKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UFNEKCkge1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19wc2QnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLzIrODB9LCR7XHJcbiAgICAgICAgICAgICh0eXBlID0+IHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2d6Myc6IHJldHVybiAyMTg7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ3oxNDIxJzogcmV0dXJuIDIzODtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMjQyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSh0aGlzLl9pbmZvUGFuZWxUeXBlKVxyXG4gICAgICAgIH0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU3RuKHByZXAsIHN0bklkOiBJRCwgbG9jLCBlbmQpIHtcclxuICAgICAgICB2YXIgcmVzID0gc3VwZXIuYWRkU3RuKHByZXAsIHN0bklkLCBsb2MsIGVuZCk7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU3RuKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmIChzdXBlci5yZW1vdmVTdG4oc3RuSWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQ6IElELCB0eXBlLCBpbmZvPW51bGwpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgdHlwZSwgaW5mbyk7XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaFR5cGUoc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIHR5cGU6ICd0aHJvdWdoJyB8ICdub250aHJvdWdoJykge1xyXG4gICAgICAgIGlmICghc3VwZXIudXBkYXRlQnJhbmNoVHlwZShzdG5JZCwgZGlyZWN0aW9uLCB0eXBlKSkge3JldHVybiBmYWxzZTt9XHJcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xyXG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCBmaXJzdDogSUQpIHtcclxuICAgICAgICBpZiAoIXN1cGVyLnVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkLCBkaXJlY3Rpb24sIGZpcnN0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcclxuICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hQb3Moc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIHBvczogMCB8IDEpIHtcclxuICAgICAgICBpZiAoIXN1cGVyLnVwZGF0ZUJyYW5jaFBvcyhzdG5JZCwgZGlyZWN0aW9uLCBwb3MpKSB7cmV0dXJuIGZhbHNlO31cclxuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XHJcbiAgICAgICAgdGhpcy5sb2FkRGlyZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuICB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbml0U1ZHKGxpbmUpIHtcclxuICAgICAgICBzdXBlci5pbml0U1ZHKGxpbmUpO1xyXG4gICAgICAgIGxpbmUubG9hZExpbmVOdW0oKTtcclxuICAgICAgICBsaW5lLmxvYWRMaW5lTmFtZSgpO1xyXG4gICAgICAgIGxpbmUubG9hZERpcmVjdGlvbigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJNR1N0YXRpb24gfSBmcm9tICcuL1N0YXRpb24nO1xyXG5pbXBvcnQgeyBJRCwgTmFtZSwgSW50SW5mb1RhZywgSW50ZXJjaGFuZ2VJbmZvLCBCcmFuY2hJbmZvLCBTdGF0aW9uSW5mbyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRCb3hHWihpbnRJbmZvOiBJbnRlcmNoYW5nZUluZm8sIHN0YXRlOiAwIHwgMSB8IC0xKSB7XHJcbiAgICBsZXQgYmcgPSBpbnRJbmZvW0ludEluZm9UYWcuY29sb3VyXTtcclxuICAgIGxldCBmZyA9IGludEluZm9bSW50SW5mb1RhZy5mZ107XHJcbiAgICBsZXQgbmFtZXMgPSBbXHJcbiAgICAgICAgaW50SW5mb1tJbnRJbmZvVGFnLm5hbWVaSF0sIFxyXG4gICAgICAgIGludEluZm9bSW50SW5mb1RhZy5uYW1lRU5dXHJcbiAgICBdO1xyXG4gICAgbGV0IG5hbWVaSHMgPSBuYW1lc1swXS5tYXRjaCgvW1xcZF0rfFtcXERdKy9nKSB8fCBbJyddO1xyXG4gICAgbGV0IGludE5hbWVTcGxpdE9rID0gZmFsc2U7XHJcbiAgICBpZiAobmFtZVpIcy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgIGlmICghaXNOYU4oTnVtYmVyKG5hbWVaSHNbMF0pKSAmJiBpc05hTihOdW1iZXIobmFtZVpIc1sxXSkpKSB7XHJcbiAgICAgICAgICAgIGludE5hbWVTcGxpdE9rID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgYm94RWwgPSAkKCc8Zz4nKVxyXG4gICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx1c2U+JywgeyBcclxuICAgICAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnRib3hfZ3onLCBcclxuICAgICAgICAgICAgICAgIGZpbGw6IHN0YXRlPT09LTEgPyAnI2FhYScgOiBiZ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nLCB7IHk6IDguNSwgY2xhc3M6ICdybWctbmFtZV9femggcm1nLW5hbWVfX2d6bXRyLS1pbnQnIH0pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0c3Bhbj4nLCB7ICdmb250LXNpemUnOicxNnB4JywgJ2RvbWluYW50LWJhc2VsaW5lJzogJ2NlbnRyYWwnIH0pLnRleHQoaW50TmFtZVNwbGl0T2sgPyBuYW1lWkhzWzBdIDogJycpKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHNwYW4+JywgeyBkeTotMSwgJ2RvbWluYW50LWJhc2VsaW5lJzogJ2NlbnRyYWwnIH0pLnRleHQoaW50TmFtZVNwbGl0T2sgPyBuYW1lWkhzWzFdIDogbmFtZVpIcy5qb2luKCcnKSkpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHsgXHJcbiAgICAgICAgICAgICAgICB5OiAxOS41LCBcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncm1nLW5hbWVfX2VuJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKG5hbWVzWzFdLmxlbmd0aCA+IDEwID8gJ3JtZy1uYW1lX19nem10ci0taW50LXNtYWxsJyA6ICdybWctbmFtZV9fZ3ptdHItLWludCcpXHJcbiAgICAgICAgICAgICAgICAudGV4dChuYW1lc1sxXSlcclxuICAgICAgICApO1xyXG4gICAgaWYgKGZnID09PSAnI2ZmZicgfHwgc3RhdGUgPT09IC0xKSB7XHJcbiAgICAgICAgJChib3hFbCkuZmluZCgndGV4dCcpLmFkZENsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJveEVsO1xyXG59XHJcblxyXG5jbGFzcyBSTUdTdGF0aW9uR1ogZXh0ZW5kcyBSTUdTdGF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5zdG5OdW0gPSBkYXRhLm51bTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZUNsYXNzKCkge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdQYXNzJztcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdDdXJyZW50R1onO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdGdXR1cmUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgX25hbWVTaGlmdCgpIHtyZXR1cm4gZmFsc2U7fVxyXG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7cmV0dXJuIHRoaXMueSA+IDAgPyAxODAgOiAwO31cclxuXHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtpY29uVHlwZSwgbnVtQ2xhc3NdID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gWydzdG5fZ3pfcGFzcycsJ1Bhc3MnXSA6IFsnc3RuX2d6JywnRnV0dXJlJ107XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHsgdHJhbnNmb3JtOmB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJCgnPHVzZT4nLCB7ICd4bGluazpocmVmJzogJyMnICsgaWNvblR5cGUsIGNsYXNzOiAncm1nLXN0bicgfSkpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8Zz4nLCB7IGNsYXNzOiAnTmFtZSAnICsgbnVtQ2xhc3MgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZXh0PicsIHsgY2xhc3M6J3JtZy1uYW1lX196aCBybWctbmFtZV9fZ3ptdHItLWxpbmUtbnVtJyB9KSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0ZXh0PicsIHsgY2xhc3M6J3JtZy1uYW1lX196aCBybWctbmFtZV9fZ3ptdHItLXN0YXRpb24tbnVtJywgeDowIH0pLnRleHQodGhpcy5zdG5OdW0pKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICB2YXIgbmFtZUVOTG4gPSB0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKS5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGR4OiBudW1iZXI7XHJcbiAgICAgICAgaWYgKHRoaXMuX25hbWVTaGlmdCkge1xyXG4gICAgICAgICAgICBkeCA9IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/IC05IDogMTYgKyAobmFtZUVOTG4tMSkqMTIgKiBNYXRoLmNvcygtNDUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKDI0ICsgKG5hbWVFTkxuLTEpKjEyKSAqIE1hdGguY29zKC00NSkgOiAtNjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbGV0IGR4ID0gdGhpcy5fbmFtZVNoaWZ0ID8gLTggOiAoMjQgKyAobmFtZUVOTG4tMSkqMTIpICogTWF0aC5jb3MoLTQ1KTtcclxuICAgICAgICBsZXQgZHkgPSB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAoLTQgLSAyMS45MjE4NzUgLSAobmFtZUVOTG4tMSkqMTIqTWF0aC5jb3MoLTQ1KSkgOiAxNy41O1xyXG4gICAgICAgIC8vIHZhciBkeSA9ICgtNCAtIDIxLjkyMTg3NSAtIChuYW1lRU5Mbi0xKSoxMipNYXRoLmNvcygtNDUpKSAqICh0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAxIDogLTEpO1xyXG4gICAgICAgIGxldCBuYW1lR0VsID0gJCgnPGc+JywgeyBjbGFzczogJ05hbWUgJyArIHRoaXMubmFtZUNsYXNzIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fZ3ptdHItLXN0YXRpb24nKS50ZXh0KHRoaXMubmFtZVswXSlcclxuICAgICAgICApLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+Jywge1xyXG4gICAgICAgICAgICAgICAgZHk6IDE1LCBjbGFzczogJ3JtZy1uYW1lX19lbiBybWctbmFtZV9fZ3ptdHItLXN0YXRpb24nXHJcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3gnOiAwLCAnZHknOiAxMCwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX2d6bXRyLS1zdGF0aW9uJ1xyXG4gICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcclxuICAgICAgICAgICAgJ2lkJzogJ3N0bl9uYW1lJywgXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54IC0gZHh9LCR7dGhpcy55ICsgZHl9KXJvdGF0ZSgtNDUpYCwgXHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/ICdzdGFydCcgOiAnZW5kJ1xyXG4gICAgICAgIH0pLmFwcGVuZChuYW1lR0VsKTtcclxuICAgIH1cclxuXHJcbiAgICBleHByZXNzVGFnSFRNTChjb2xvdXI6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXJ2aWNlcy5oYXMoJ2V4cHJlc3MnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJCgnPGc+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdG5OYW1lRGltID0gKCQoYCNzdG5faWNvbnMgIyR7dGhpcy5pZH0gZyNzdG5fbmFtZSBnYClbMF0gYXMgRWxlbWVudCBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7IFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHsoc3RuTmFtZURpbS53aWR0aCszNSkqKHRoaXMuX3RpY2tSb3RhdGlvbj09PTA/MTotMSl9LCR7Mis1Kih0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKS5sZW5ndGgtMSl9KWAsIFxyXG4gICAgICAgICAgICBmaWxsOiB0aGlzLnN0YXRlPT09LTEgPyAnI2FhYScgOiBjb2xvdXIsIFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8dGV4dD4nLCB7IGNsYXNzOiAncm1nLW5hbWVfX3poIHJtZy1uYW1lX19nem10ci0tZXhwcmVzcycgfSkudGV4dCgn5b+r6L2m5YGc6Z2g56uZJylcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHRleHQ+Jywge3k6MTAsIGNsYXNzOiAncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19nem10ci0tZXhwcmVzcycgfSkudGV4dCgnRXhwcmVzcyBTdGF0aW9uJylcclxuICAgICAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgSW50U3RhdGlvbkdaIGV4dGVuZHMgUk1HU3RhdGlvbkdaIHtcclxuICAgIHByaXZhdGUgX2ludEluZm9zOiBJbnRlcmNoYW5nZUluZm9bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS50cmFuc2Zlci5pbmZvWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiAwO31cclxuXHJcbiAgICBnZXQgaW50VGlja0hUTUwoKSB7XHJcbiAgICAgICAgdmFyIHRpY2tzID0gdGhpcy5faW50SW5mb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChpbmZvID0+IGluZm9bSW50SW5mb1RhZy5jb2xvdXJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChjb2xvdXIsaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeCA9IHRoaXMueCAtIDIqKHRoaXMuX2ludEluZm9zLmxlbmd0aC0xKSArIDQqaWR4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnR0aWNrX2d6JywgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLnN0YXRlPT0tMSA/ICcjYWFhJyA6IGNvbG91ciwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7eH0sJHt0aGlzLnl9KXJvdGF0ZSgke3RoaXMuX3RpY2tSb3RhdGlvbn0pYFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7Y2xhc3M6J3JtZy1saW5lIHJtZy1saW5lX19nem10ciBybWctbGluZV9fY2hhbmdlJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCguLi50aWNrcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGludE5hbWVIVE1MKCkge1xyXG4gICAgICAgIGxldCBpbnRCb3hFbHMgPSB0aGlzLl9pbnRJbmZvcy5tYXAoaW5mbyA9PiBnZXRJbnRCb3hHWihpbmZvLCB0aGlzLnN0YXRlKSk7XHJcbiAgICAgICAgaW50Qm94RWxzLmZvckVhY2goKGVsLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICQoZWwpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2kqMjggKiAodGhpcy5fdGlja1JvdGF0aW9uPT09MCA/IDEgOiAtMSl9KWApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJywgXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnkgKyAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMjMgOiAtNDcpfSlgXHJcbiAgICAgICAgfSkuYXBwZW5kKC4uLmludEJveEVscyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIHRoaXMuaW50TmFtZUhUTUxdO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBCcmFuY2hTdGF0aW9uR1ogZXh0ZW5kcyBJbnRTdGF0aW9uR1oge1xyXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8sIGxpbmVJbmYpIHtcclxuICAgICAgICBkYXRhLnRyYW5zZmVyLmluZm9bMF0udW5zaGlmdChsaW5lSW5mKTtcclxuICAgICAgICBpZiAoZGF0YS50cmFuc2Zlci5pbmZvWzFdKSB7XHJcbiAgICAgICAgICAgIGRhdGEudHJhbnNmZXIuaW5mb1swXS5wdXNoKC4uLmRhdGEudHJhbnNmZXIuaW5mb1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX25hbWVTaGlmdCgpIHtyZXR1cm4gdHJ1ZTt9XHJcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucGFyZW50cy5pbmRleE9mKHRoaXMuYnJhbmNoLmxlZnRbMV0pID09PSAwIHx8IHRoaXMuY2hpbGRyZW4uaW5kZXhPZih0aGlzLmJyYW5jaC5yaWdodFsxXSkgPT09IDApID8gMCA6IDE4MDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgT1NJU3RhdGlvbkdaIGV4dGVuZHMgSW50U3RhdGlvbkdaIHtcclxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgLy8gZGF0YS50cmFuc2Zlci5pbmZvWzBdLnB1c2goLi4uZGF0YS50cmFuc2Zlci5pbmZvWzFdKTtcclxuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFJNR1N0YXRpb25HWiwgSW50U3RhdGlvbkdaLCBCcmFuY2hTdGF0aW9uR1osIE9TSVN0YXRpb25HWiB9OyJdLCJzb3VyY2VSb290IjoiIn0=