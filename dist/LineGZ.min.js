(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["LineGZ"],{

/***/ "./src/Line/LineGZ.ts":
/*!****************************!*\
  !*** ./src/Line/LineGZ.ts ***!
  \****************************/
/*! exports provided: RMGLineGZ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLineGZ", function() { return RMGLineGZ; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/StationGZ */ "./src/Station/StationGZ.ts");
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");



class RMGLineGZ extends _Line__WEBPACK_IMPORTED_MODULE_2__["RMGLine"] {
    constructor(param) {
        super(param);
        this._psdNum = param.psd_num;
        this._lineNum = param.line_num;
        this._infoPanelType = param.info_panel_type;
        this._directionGZX = param.direction_gz_x;
        this._directionGZY = param.direction_gz_y;
    }
    _initStnInstance(stnId, stnInfo) {
        if (stnInfo.children.length === 2 || stnInfo.parents.length === 2) {
            return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["BranchStationGZ"](stnId, stnInfo, [this.themeCity, this.themeLine, this._themeColour, this._fgColour, ...this._lineNames]);
        }
        switch (stnInfo.change_type) {
            case 'int2':
            // return new Int2StationGZ(stnId, stnInfo);
            case 'int3_l':
            case 'int3_r':
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["IntStationGZ"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
            case 'osi11_ur':
            case 'osi11_pr':
            // return new OSI11StationGZ(stnId, stnInfo);
            case 'osi12_ul':
            case 'osi12_pl':
            case 'osi12_ur':
            case 'osi12_pr':
            case 'osi22_ul':
            case 'osi22_pl':
            case 'osi22_ur':
            case 'osi22_pr':
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["OSIStationGZ"](stnId, stnInfo);
            case 'osi22_end_p':
            case 'osi22_end_u':
                if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                    return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["OSIStationGZ"](stnId, stnInfo);
                }
            default:
                return new _Station_StationGZ__WEBPACK_IMPORTED_MODULE_1__["RMGStationGZ"](stnId, stnInfo);
        }
    }
    get lineXs() {
        if (this._direction == 'r') {
            return [
                this._svgWidth * this._padding / 100 + 65,
                this._svgWidth * (1 - this._padding / 100)
            ];
        }
        else {
            return [
                this._svgWidth * this._padding / 100,
                this._svgWidth * (1 - this._padding / 100) - 65
            ];
        }
    }
    set svgWidth(val) {
        super.svgWidth = val;
        this.loadLineNum();
        this.loadLineName();
        this.loadDirection();
    }
    set padding(val) {
        super.padding = val;
        this.loadLineNum();
        this.loadLineName();
    }
    set branchSpacing(val) {
        super.branchSpacing = val;
        this.loadLineNum();
    }
    set direction(val) {
        this._direction = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLineGZ.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadLineNum();
        this.loadLineName();
        this.loadDirection();
        this.loadFonts();
    }
    set txtFlip(val) {
        super.txtFlip = val;
        this.loadLineNum();
    }
    set currentStnId(val) {
        super.currentStnId = val;
        this.loadLineNum();
        this.loadDirection();
    }
    set lineNum(val) {
        this._lineNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_num', val);
        this.loadLineNum();
        this.loadFonts();
    }
    set lineNames(val) {
        this._lineNames = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_name', val);
        this.loadLineName();
        // (to be fixed) redraw branching station
        this.loadFonts();
    }
    set psdNum(val) {
        this._psdNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('psd_num', val);
        $('.rmg-psd-num').text(val);
    }
    set infoPanelType(val) {
        this._infoPanelType = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('info_panel_type', val);
        $('#station_info_gzmtr #indicator_light').attr('xlink:href', '#indicator_' + val);
        // $('#dest_strip, #strip').removeAttr('class').addClass(`rmg-strip__gzmtr--${this._infoPanelType}`);
        this.drawStrip();
        this.fillThemeColour();
        this.drawPSD();
    }
    set directionGZX(val) {
        this._directionGZX = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction_gz_x', val);
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
    }
    set directionGZY(val) {
        this._directionGZY = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction_gz_y', val);
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
    }
    _stnXShare(stnId) {
        let { criticalPath, branches } = this;
        let self = this;
        if (criticalPath.nodes.includes(stnId)) {
            return super._stnXShare(stnId);
        }
        if (this.criticalPath.nodes.join(',') !== branches[0].join(',')) {
            return super._stnXShare(stnId);
        }
        else {
            let branchWithStn = branches.slice(1).filter(branch => branch.includes(stnId))[0];
            let lenToLeft = this._cp(branchWithStn[0], stnId).len;
            let lenToRight = this._cp(stnId, branchWithStn[branchWithStn.length - 1]).len;
            if (branches[0].includes(branchWithStn[0]) && branches[0].includes(branchWithStn[branchWithStn.length - 1])) {
                return (self._stnXShare(branchWithStn[0]) * lenToRight + self._stnXShare(branchWithStn[branchWithStn.length - 1]) * lenToLeft) / (lenToLeft + lenToRight);
            }
            else if (branches[0].includes(branchWithStn[0])) {
                return self._stnXShare(branchWithStn[0]) + lenToLeft;
            }
            else {
                return self._stnXShare(branchWithStn[branchWithStn.length - 1]) - lenToRight;
            }
        }
    }
    _stnYShare(stnId) {
        if (['linestart', 'lineend'].includes(stnId)) {
            return 0;
        }
        var branches = this.branches;
        if (branches[0].includes(stnId)) {
            return 0;
        }
        else {
            let i = 1;
            while (!branches[i].includes(stnId)) {
                i++;
            }
            if (branches[0].includes(branches[i][0])) {
                var branchingStnId = branches[i][0];
                var neToFind = 'children';
                if (this.stations[branchingStnId][neToFind].indexOf(branches[i][1]) == 0) {
                    return 2;
                }
                else {
                    return -2;
                }
            }
            else {
                var branchingStnId = branches[i].slice().reverse()[0];
                var neToFind = 'parents';
                if (this.stations[branchingStnId][neToFind].indexOf(branches[i].slice().reverse()[1]) == 0) {
                    return 2;
                }
                else {
                    return -2;
                }
            }
        }
    }
    drawStrip() {
        let stripHeight = (type => {
            switch (type) {
                case 'gz28':
                case 'gzgf':
                    return 60;
                case 'gz3':
                    return 40;
                case 'gz1421':
                    return 20;
            }
        })(this._infoPanelType);
        $('#dest_strip_gz, #strip_gz').attr({
            y: this._svgHeight - stripHeight,
            height: stripHeight
        });
    }
    _rightWideFactor(stnId) {
        if (this.stations[stnId].constructor.name === 'BranchStationGZ' && this.stations[stnId]._tickRotation === 0) {
            return 0.25;
        }
        else {
            return 0;
        }
    }
    _leftWideFactor(stnId) {
        if (this.stations[stnId].constructor.name === 'BranchStationGZ' && this.stations[stnId]._tickRotation !== 0) {
            return 0.5;
        }
        else {
            return 0;
        }
    }
    _pathWeight(stnId1, stnId2) {
        if (!this.stations[stnId1].children.includes(stnId2)) {
            return -Infinity;
        }
        return 1 + this._rightWideFactor(stnId1) + this._leftWideFactor(stnId2);
        // return 1;
    }
    _linePath(stnIds) {
        var [prevId, prevY, prevX] = [];
        var path = [];
        var { stnExtraH, stnSpareH, pathTurnESE, pathTurnSEE, pathTurnENE, pathTurnNEE, stnDX } = this;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path.push(`M ${x},${y}`);
                return;
            }
            if (y === this.y) {
                if (y < prevY) {
                    path.push(`H ${x - 30}`, 'a 30,30 0 0,0 30,-30', `V ${y}`);
                }
                if (y > prevY) {
                    path.push(`H ${x - 30}`, 'a 30,30 0 0,1 30,30', `V ${y}`);
                }
            }
            else {
                if (y < prevY) {
                    path.push(`V ${y + 30}`, 'a 30,30 0 0,1 30,-30', `H ${x}`);
                }
                if (y > prevY) {
                    path.push(`V ${y - 30}`, 'a 30,30 0 0,0 30,30', `H ${x}`);
                }
            }
            // if (y != prevY && y == this.y) {
            //     path.push(
            //         `H ${x}`, `V ${y}`
            //     )
            // } else if (y != prevY && y != this.y) {
            //     path.push(
            //         `V ${y}`, `H ${x}`
            //     )
            // }
            path.push(`H ${x}`);
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // simplify path
        return path.join(' ').replace(/( H ([\d.]+))+/g, ' H $2');
    }
    drawLine() {
        $('.rmg-line').removeClass('rmg-line__mtr').addClass('rmg-line__gzmtr');
        super.drawLine();
    }
    loadFonts() {
        $('.rmg-name__zh, .rmg-name__en').addClass('rmg-name__gzmtr');
    }
    fillThemeColour() {
        super.fillThemeColour();
        $('#dest_strip_gz, #strip_gz').attr('fill', this._themeColour);
        if (['gz3', 'gz1421'].includes(this._infoPanelType)) {
            $('#big_psd use').attr('fill', this._themeColour);
            if (this._fgColour === '#fff') {
                $('#big_psd text').addClass('rmg-name__gzmtr--white-fg');
            }
            else {
                $('#big_psd text').removeClass('rmg-name__gzmtr--white-fg');
            }
        }
        else {
            $('#big_psd use').attr('fill', 'white');
            $('#big_psd text').removeClass('rmg-name__gzmtr--white-fg');
        }
        $('path#stn_gz').attr('stroke', this._themeColour);
        $('#station_info_gzmtr > #platform > circle').attr('fill', this._themeColour);
        $('#line_name use').attr('fill', this._themeColour);
        if (this._fgColour === '#fff') {
            $('#station_info_gzmtr > #platform text').addClass('rmg-name__gzmtr--white-fg');
            $('#line_name text').addClass('rmg-name__gzmtr--white-fg');
        }
        else {
            $('#station_info_gzmtr > #platform text').removeClass('rmg-name__gzmtr--white-fg');
            $('#line_name text').removeClass('rmg-name__gzmtr--white-fg');
        }
    }
    // updateStnNameBg() {
    //     $('#current_bg').hide();
    // }
    loadLineNum() {
        const LINE_NUM_MAX_WIDTH = 15.59375;
        $('.rmg-name__gzmtr--line-num').text(this._lineNum).attr('transform', `translate(-9.25,0)`);
        var lineNumDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('.rmg-name__gzmtr--line-num')[1], 'railmap');
        if (this._lineNum.length === 2) {
            var lineNumScale = lineNumDim.width > LINE_NUM_MAX_WIDTH ? LINE_NUM_MAX_WIDTH / lineNumDim.width : 1;
            $('.rmg-name__gzmtr--line-num').attr('transform', `translate(-9.25,0)scale(${lineNumScale})`);
            $('.rmg-name__gzmtr--station-num').attr('transform', `translate(9.25,0)scale(${lineNumScale})`);
        }
        else {
            var lineNumScale = lineNumDim.width > LINE_NUM_MAX_WIDTH ? LINE_NUM_MAX_WIDTH / lineNumDim.width : 1;
            $('.rmg-name__gzmtr--line-num').attr('transform', `translate(-9.25,0)scale(${lineNumScale})`);
            $('.rmg-name__gzmtr--station-num').attr('transform', `translate(9.25,0)`);
        }
    }
    loadLineName() {
        var lineNameZHs = this._lineNames[0].match(/[\d]+|[\D]+/g) || '';
        var lineNameSplitOk = false;
        if (lineNameZHs.length == 2) {
            if (!isNaN(Number(lineNameZHs[0])) && isNaN(Number(lineNameZHs[1]))) {
                lineNameSplitOk = true;
            }
        }
        if (lineNameSplitOk) {
            $('#line_name tspan').eq(0).text(lineNameZHs[0]);
            $('#line_name tspan').eq(1).text(lineNameZHs[1]);
            $('#line_name tspan').eq(1).attr('dy', '-0.5');
        }
        else {
            $('#line_name tspan').eq(0).text('');
            $('#line_name tspan').eq(1).text(this._lineNames[0]);
            $('#line_name tspan').eq(1).attr('dy', '-0.5');
        }
        // $('#line_name tspan').eq(1).text(lineNameZHs[lineNameZHs.length-1])
        $('#line_name text:last-child').text(this._lineNames[1]);
        if (this._lineNames[1].length > 10) {
            $('#line_name text:last-child')
                .text(this._lineNames[1])
                .addClass('rmg-name__gzmtr--int-small')
                .removeClass('rmg-name__gzmtr--int');
        }
        else {
            $('#line_name text:last-child')
                .text(this._lineNames[1])
                .removeClass('rmg-name__gzmtr--int-small')
                .addClass('rmg-name__gzmtr--int');
        }
        if (this._fgColour == '#fff') {
            $('#line_name text').addClass('rmg-name__gzmtr--white-fg');
        }
        var lineNameX = this._direction == 'r' ? this.lineXs[0] - 65 : this.lineXs[1] + 65;
        $('#line_name')
            .attr({
            transform: `translate(${lineNameX},${this.y - 18})scale(1.5)`
        });
    }
    loadDirection() {
        let validDest;
        let x = this._svgWidth * this._directionGZX / 100;
        let y = this._svgHeight * this._directionGZY / 100;
        $('#direction_gz').attr('transform', `translate(${x},${y})`);
        // to be fixed: validDest ordering
        if (this._direction == 'l') {
            $('#direction_gz use').attr('transform', `scale(0.35)`);
            $('#direction_gz g').attr({
                'text-anchor': 'start',
                transform: 'translate(65,-5)'
            });
            validDest = this.lValidDests;
        }
        else {
            $('#direction_gz use').attr('transform', `scale(0.35)rotate(180)`);
            $('#direction_gz g').attr({
                'text-anchor': 'end',
                transform: 'translate(-65,-5)'
            });
            validDest = this.rValidDests;
        }
        if (validDest.length !== 2) {
            var [destNameZH, destNameEN] = [0, 1].map(idx => {
                return validDest.map(stnId => this.stations[stnId].name[idx].replace(/\\/g, ' ')).join('/');
            });
            $('#direction_gz g').eq(0).find('text').eq(0).text(destNameZH + '方向');
            $('#direction_gz g').eq(0).find('text').eq(1).text('Towards ' + destNameEN);
            $('#direction_gz g').eq(0).show();
            $('#direction_gz g').eq(1).hide();
        }
        else {
            $('#direction_gz g').eq(1).find('text').css('letter-spacing', 0);
            $('#direction_gz g').eq(1).find('text').eq(0).text(this.stations[validDest[0]].name[0]);
            $('#direction_gz g').eq(1).find('text').eq(1).text('Towards ' + this.stations[validDest[0]].name[1]);
            $('#direction_gz g').eq(1).find('text').eq(2).text(this.stations[validDest[1]].name[0]);
            $('#direction_gz g').eq(1).find('text').eq(3).text('Towards ' + this.stations[validDest[1]].name[1]);
            let charCounts = validDest.map(stnId => this.stations[stnId].name[0].length);
            let minCharCounts = Math.min(...charCounts);
            if (minCharCounts > 1 && charCounts[0] !== charCounts[1]) {
                let charSpacing = Math.abs(charCounts[0] - charCounts[1]) / (minCharCounts - 1);
                if (charCounts[0] > charCounts[1]) {
                    $('#direction_gz g').eq(1).find('text').eq(2).css('letter-spacing', `${charSpacing}em`);
                }
                else {
                    $('#direction_gz g').eq(1).find('text').eq(0).css('letter-spacing', `${charSpacing}em`);
                }
            }
            let maxCharCount = Math.max(...charCounts);
            $('#direction_gz g').eq(1).find('text').eq(4).attr('x', 25 * (maxCharCount + 1));
            $('#direction_gz g').eq(0).hide();
            $('#direction_gz g').eq(1).show();
        }
    }
    updateStnName(stnId, names, stnNum) {
        super.updateStnName(stnId, names, stnNum);
        this.loadLineNum();
        if (this.stations[this._currentStnId].parents.includes(stnId) || this.stations[this._currentStnId].children.includes(stnId)) {
            this.drawDestInfo();
            this.loadFonts();
        }
        if (this._currentStnId === stnId) {
            this.drawDestInfo();
            this.loadFonts();
        }
        if (this.leftDests.includes(stnId) || this.rightDests.includes(stnId)) {
            this.loadDirection();
        }
    }
    drawDestInfo() {
        $('#station_info_gzmtr #big_stn_num text').eq(1).text(this.stations[this._currentStnId].stnNum);
        $('#station_info_gzmtr > #platform > text').eq(0).text(this._platformNum);
        $('#station_info_gzmtr > #big_psd text').eq(0).text(this._psdNum);
        $('#station_info_gzmtr #big_name').empty()
            .attr('transform', `translate(${this._svgDestWidth / 2},${100 - (this.stations[this._currentStnId].name[1].split('\\').length - 1) * 20})`)
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--dest' })
            .text(this.stations[this._currentStnId].name[0]))
            .append($('<text>', { dy: 70, class: 'rmg-name__en rmg-name__gzmtr--dest' })
            .text(this.stations[this._currentStnId].name[1].split('\\')[0])
            .append($('<tspan>', { x: 0, dy: 40, 'alignment-baseline': 'middle' }).text(this.stations[this._currentStnId].name[1].split('\\')[1] || '')));
        $('#terminus_gz').attr('transform', `translate(${this._svgWidth / 2},100)`);
        let nextStnId = this
            .stations[this._currentStnId][this._direction === 'l' ? 'parents' : 'children']
            .filter(stnId => {
            let branchTmp = this.stations[this._currentStnId].branch[this._direction === 'l' ? 'left' : 'right'];
            if (branchTmp.length) {
                return true;
                // return branchTmp[0] === 'through' ? true : stnId !== branchTmp[1];
            }
            else {
                return true;
            }
        });
        if (['linestart', 'lineend'].includes(nextStnId[0])) {
            $('#station_info_gzmtr').find('#big_next, #big_next_2').hide();
            $('#station_info_gzmtr > use').eq(0).hide();
            $('#line_main, #line_pass, #line_name, #stn_icons, #direction_gz').hide();
            $('#terminus_gz').show();
        }
        else {
            if (nextStnId.length === 1) {
                $('#station_info_gzmtr #big_next').show();
                $('#station_info_gzmtr #big_next_2').hide();
            }
            else {
                $('#station_info_gzmtr #big_next').hide();
                $('#station_info_gzmtr #big_next_2').show();
            }
            $('#station_info_gzmtr > use').eq(0).show();
            $('#line_main, #line_pass, #line_name, #stn_icons, #direction_gz').show();
            $('#terminus_gz').hide();
        }
        let [nextNameZH, nextNameEN] = ['', ''];
        let nextNameZHCount = 0;
        if (nextStnId.length === 1) {
            var nextStnInfo = this.stations[nextStnId[0]];
            [nextNameZH, nextNameEN] = nextStnInfo.name;
            nextNameZHCount = nextNameZH.length;
            $('#station_info_gzmtr #big_next g:nth-child(2) text').eq(0).text(nextNameZH);
            $('#station_info_gzmtr #big_next g:nth-child(2) text').eq(1).text(nextNameEN.split('\\')[0])
                .append($('<tspan>', { x: 0, dy: 17, 'alignment-baseline': 'middle' }).text(nextNameEN.split('\\')[1] || ''));
        }
        else {
            nextStnId.forEach((stnId, idx) => {
                let nextStnInfo = this.stations[stnId];
                [nextNameZH, nextNameEN] = nextStnInfo.name;
                if (nextNameZH.length > nextNameZHCount) {
                    nextNameZHCount = nextNameZH.length;
                }
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(2).text(nextNameZH);
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(3).text(nextNameEN.split('\\')[0])
                    .append($('<tspan>', { x: 0, dy: 13, 'alignment-baseline': 'middle' }).text(nextNameEN.split('\\')[1] || ''));
                let validRoutes = this.routes
                    .filter(route => route.indexOf(stnId) !== -1)
                    .map(route => route.filter(s => s !== 'linestart' && s !== 'lineend'));
                let validEnds;
                if (this._direction === 'l') {
                    validEnds = Array.from(new Set(validRoutes.map(route => route[0]))).reverse();
                }
                else {
                    validEnds = Array.from(new Set(validRoutes.map(route => route.reverse()[0])));
                }
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(0)
                    .text(validEnds.map(s => this.stations[s].name[0]).join('/') + '方向');
                $(`#station_info_gzmtr #big_next_2 g:nth-child(${2 * (idx + 1)}) text`).eq(1)
                    .text('Towards ' + validEnds.map(s => this.stations[s].name[1]).join('/'));
            });
        }
        $('#station_info_gzmtr').html($('#station_info_gzmtr').html());
        // Position big name
        var bigNameDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_name text')[0], 'destination');
        $('#station_info_gzmtr #big_stn_num')
            .attr('transform', `translate(${(this._svgDestWidth + bigNameDim.width) / 2 + 55},${120 - (this.stations[this._currentStnId].name[1].split('\\').length - 1) * 20})scale(1.4)`);
        let bigNextDim = { x: 0, y: 0, width: 0, height: 0 };
        if (nextStnId.length === 1) {
            bigNextDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next g:nth-child(2)')[0], 'destination');
        }
        else {
            let bigNextDims = [
                Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next_2 g:nth-child(2)')[0], 'destination'),
                Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($('#station_info_gzmtr #big_next_2 g:nth-child(4)')[0], 'destination')
            ];
            if (bigNextDims[0].width > bigNextDims[1].width) {
                bigNextDim = bigNextDims[0];
            }
            else {
                bigNextDim = bigNextDims[1];
            }
        }
        // var nextNameZHCount = nextNameZH.length;
        if (this._direction == 'l') {
            $('#station_info_gzmtr #platform').attr('transform', `translate(${this._svgDestWidth - 100},120)`);
            if (nextStnId.length === 1) {
                if (nextNameZHCount <= 2) {
                    $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${115 + 35},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(115 + 35 * (1 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
                }
                else {
                    $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${115 + 35 * 0.5},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(115 + 35 * (0.5 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
                }
            }
            else {
                $('#station_info_gzmtr #big_next_2 g:nth-child(2)').attr('transform', `translate(113,80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(4)').attr('transform', `translate(113,190)`);
                $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(99 + 27 * (1 + nextNameZHCount) + bigNameDim.x) / 2 - 20},120)scale(0.25)`);
            }
            $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(80,110)`);
            $('#station_info_gzmtr #big_next_2 g:first-child').attr('transform', `translate(72,80)`);
            $('#station_info_gzmtr #big_next_2 g:nth-child(3)').attr('transform', `translate(72,190)`);
        }
        else {
            $('#station_info_gzmtr #platform').attr('transform', `translate(100,120)`);
            if (nextStnId.length === 1) {
                $('#station_info_gzmtr #big_next g:nth-child(2)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},110)`);
                if (nextNameZHCount <= 2) {
                    $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 70},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 70 - 35 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
                }
                else {
                    $('#station_info_gzmtr #big_next g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 35 * 1.5},110)`);
                    $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 35 * 2.5 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
                }
            }
            else {
                $('#station_info_gzmtr #big_next_2 g:nth-child(2)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(4)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width},190)`);
                $('#station_info_gzmtr #big_next_2 g:first-child').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 41},80)`);
                $('#station_info_gzmtr #big_next_2 g:nth-child(3)').attr('transform', `translate(${this._svgDestWidth - 45 - bigNextDim.width - 41},190)`);
                $('#station_info_gzmtr > use').eq(0).attr('transform', `translate(${(this._svgDestWidth - 45 - bigNextDim.width - 41 - 27 + bigNameDim.x + bigNameDim.width + 55 + 18.5 * 1.4) / 2 + 20},120)scale(0.25)rotate(180)`);
            }
        }
        $('#station_info_gzmtr #indicator_light').attr({
            x: this._svgDestWidth / 2, y: 270,
            'xlink:href': '#indicator_' + this._infoPanelType
        });
        this.drawPSD();
    }
    drawPSD() {
        $('#station_info_gzmtr #big_psd').attr('transform', `translate(${this._svgDestWidth / 2 + 80},${(type => {
            switch (type) {
                case 'gz3': return 218;
                case 'gz1421': return 238;
                default: return 242;
            }
        })(this._infoPanelType)})`);
    }
    addStn(prep, stnId, loc, end) {
        var res = super.addStn(prep, stnId, loc, end);
        this.loadLineNum();
        this.loadDirection();
        return res;
    }
    removeStn(stnId) {
        if (super.removeStn(stnId)) {
            this.loadLineNum();
            this.loadDirection();
            return true;
        }
        else {
            return false;
        }
    }
    updateStnTransfer(stnId, type, info = null) {
        super.updateStnTransfer(stnId, type, info);
        this.loadLineNum();
    }
    updateBranchType(stnId, direction, type) {
        super.updateBranchType(stnId, direction, type);
        this.loadLineNum();
        this.loadDirection();
    }
    updateBranchFirst(stnId, direction, first) {
        if (!super.updateBranchFirst(stnId, direction, first)) {
            return false;
        }
        this.loadLineNum();
        this.loadDirection();
        return true;
    }
    updateBranchPos(stnId, direction, pos) {
        super.updateBranchPos(stnId, direction, pos);
        this.loadLineNum();
        this.loadDirection();
    }
    static initSVG(line) {
        super.initSVG(line);
        line.loadLineNum();
        line.loadLineName();
        line.loadDirection();
    }
}



/***/ }),

/***/ "./src/Station/StationGZ.ts":
/*!**********************************!*\
  !*** ./src/Station/StationGZ.ts ***!
  \**********************************/
/*! exports provided: RMGStationGZ, IntStationGZ, BranchStationGZ, OSIStationGZ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStationGZ", function() { return RMGStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntStationGZ", function() { return IntStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BranchStationGZ", function() { return BranchStationGZ; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSIStationGZ", function() { return OSIStationGZ; });
/* harmony import */ var _Station__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Station */ "./src/Station/Station.ts");

class RMGStationGZ extends _Station__WEBPACK_IMPORTED_MODULE_0__["RMGStation"] {
    constructor(id, data) {
        super(id, data);
        this.stnNum = data.num;
    }
    get nameClass() {
        switch (this.state) {
            case -1:
                return 'Pass';
            case 0:
                return 'CurrentGZ';
            default:
                return 'Future';
        }
    }
    get _nameShift() { return false; }
    get _tickRotation() { return this.y > 0 ? 180 : 0; }
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? ['stn_gz_pass', 'Pass'] : ['stn_gz', 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn' }))
            .append($('<g>', { class: 'Name ' + numClass })
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--line-num' }))
            .append($('<text>', { class: 'rmg-name__zh rmg-name__gzmtr--station-num', x: 0 }).text(this.stnNum)));
    }
    get nameHTML() {
        var nameENLn = this.name[1].split('\\').length;
        let dx;
        if (this._nameShift) {
            dx = this._tickRotation === 0 ? -9 : 16 + (nameENLn - 1) * 12 * Math.cos(-45);
        }
        else {
            dx = this._tickRotation === 0 ? (24 + (nameENLn - 1) * 12) * Math.cos(-45) : -6;
        }
        // let dx = this._nameShift ? -8 : (24 + (nameENLn-1)*12) * Math.cos(-45);
        let dy = this._tickRotation === 0 ? (-4 - 21.921875 - (nameENLn - 1) * 12 * Math.cos(-45)) : 17.5;
        // var dy = (-4 - 21.921875 - (nameENLn-1)*12*Math.cos(-45)) * (this._tickRotation === 0 ? 1 : -1);
        return $('<g>', {
            'transform': `translate(${this.x - dx},${this.y + dy})rotate(-45)`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            class: `Name ${this.nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__gzmtr--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__gzmtr--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 10, class: 'rmg-name__en rmg-name__gzmtr--station'
        }).text(this.name[1].split('\\')[1])));
    }
}
class IntStationGZ extends RMGStationGZ {
    constructor(id, data) {
        super(id, data);
        this._intInfos = data.interchange[0];
    }
    // get _tickRotation() {return 0;}
    get intTickHTML() {
        var ticks = this._intInfos
            .map(info => info[_Station__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour])
            .map((colour, idx) => {
            let x = this.x - 2 * (this._intInfos.length - 1) + 4 * idx;
            return $('<use>', {
                'xlink:href': '#inttick_gz',
                stroke: this.state == -1 ? '#aaa' : colour,
                transform: `translate(${x},${this.y})rotate(${this._tickRotation})`
            });
        });
        return $('<g>', { class: 'rmg-line rmg-line__gzmtr rmg-line__change' })
            .append(...ticks);
    }
    get intNameHTML() {
        var intNameZHss = this._intInfos
            .map(info => info[_Station__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameZH])
            .map(name => name.match(/[\d]+|[\D]+/g) || ['']);
        var intTextZHEls = intNameZHss.map((names, idx) => {
            var intNameSplitOk = false;
            if (names.length == 2) {
                if (!isNaN(Number(names[0])) && isNaN(Number(names[1]))) {
                    intNameSplitOk = true;
                }
            }
            return $('<text>', {
                y: 8.5 + idx * 28 * (this._tickRotation === 0 ? 1 : -1),
                class: 'rmg-name__zh rmg-name__gzmtr--int'
            })
                .append($('<tspan>', {
                'font-size': '16px',
                'alignment-baseline': 'central'
            })
                .text(intNameSplitOk ? names[0] : ''))
                .append($('<tspan>', { dy: -0.5, 'alignment-baseline': 'central' })
                .text(intNameSplitOk ? names[1] : names.join('')));
        });
        var intTextENEls = this._intInfos
            .map(info => info[_Station__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].nameEN])
            .map((name, idx) => {
            let el = $('<text>', {
                y: 19.5 + idx * 28 * (this._tickRotation === 0 ? 1 : -1),
                class: 'rmg-name__en'
            }).text(name);
            el.addClass(name.length > 10 ? 'rmg-name__gzmtr--int-small' : 'rmg-name__gzmtr--int');
            return el;
        });
        this._intInfos
            .map(info => info[_Station__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].fg])
            .map((fg, idx) => {
            if (fg == '#fff' || this.state == -1) {
                [intTextZHEls[idx], intTextENEls[idx]] = [intTextZHEls[idx], intTextENEls[idx]].map(el => {
                    return el.addClass('rmg-name__gzmtr--white-fg');
                });
            }
        });
        var intBoxEls = this._intInfos.map(info => info[_Station__WEBPACK_IMPORTED_MODULE_0__["IntInfoTag"].colour]).map((colour, idx) => {
            return $('<use>', {
                'xlink:href': '#intbox_gz',
                fill: this.state == -1 ? '#aaa' : colour,
                y: idx * 28 * (this._tickRotation === 0 ? 1 : -1)
            });
        });
        return $('<g>', {
            'text-anchor': 'middle',
            transform: `translate(${this.x},${this.y + (this._tickRotation === 0 ? 23 : -47)})`
        }).append(...intBoxEls, ...intTextZHEls, ...intTextENEls);
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML];
    }
}
class BranchStationGZ extends IntStationGZ {
    constructor(id, data, lineInf) {
        data.interchange[0].unshift(lineInf);
        if (data.interchange[1]) {
            data.interchange[0].push(...data.interchange[1].slice(1));
        }
        super(id, data);
    }
    get _nameShift() { return true; }
    get _tickRotation() {
        return (this.parents.indexOf(this.branch.left[1]) === 0 || this.children.indexOf(this.branch.right[1]) === 0) ? 0 : 180;
    }
}
class OSIStationGZ extends IntStationGZ {
    constructor(id, data) {
        data.interchange[0].push(...data.interchange[1].slice(1));
        super(id, data);
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9MaW5lR1oudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvbkdaLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXFHO0FBQ0o7QUFDaEU7QUFRakMsTUFBTSxTQUFVLFNBQVEsNkNBQU87SUFRM0IsWUFBYSxLQUFlO1FBQ3hCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUViLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsZUFBZSxDQUFDO1FBQzVDLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQztRQUMxQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7SUFDOUMsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVMsRUFBRSxPQUFvQjtRQUM1QyxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDL0QsT0FBTyxJQUFJLGtFQUFlLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztTQUN2STtRQUNELFFBQVEsT0FBTyxDQUFDLFdBQVcsRUFBRTtZQUN6QixLQUFLLE1BQU0sQ0FBQztZQUNSLDRDQUE0QztZQUNoRCxLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssUUFBUTtnQkFDVCxPQUFPLElBQUks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Q0FBQztJQUNwQixDQUFDO0NBQ0o7QUFFb0UiLCJmaWxlIjoiTGluZUdaLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFR4dEJveERpbSwgc2V0UGFyYW1zLCBnZXRQYXJhbXMsIHB1dFBhcmFtcywgZ2V0UmFuZG9tSWQsIERpcmVjdGlvbkxvbmcgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSTUdTdGF0aW9uR1osIEludFN0YXRpb25HWiwgQnJhbmNoU3RhdGlvbkdaLCBPU0lTdGF0aW9uR1ogfSBmcm9tICcuLi9TdGF0aW9uL1N0YXRpb25HWic7XG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lJztcblxuaW1wb3J0IHsgSUQsIE5hbWUsIFN0YXRpb25JbmZvLCBSTUdQYXJhbSB9IGZyb20gJy4uL3V0aWxzJztcblxuaW50ZXJmYWNlIFN0YXRpb25EaWN0R1oge1xuICAgIFtpbmRleDogc3RyaW5nXTogUk1HU3RhdGlvbkdaO1xufVxuXG5jbGFzcyBSTUdMaW5lR1ogZXh0ZW5kcyBSTUdMaW5lIHtcbiAgICBwcml2YXRlIF9wc2ROdW06IHN0cmluZztcbiAgICBwcml2YXRlIF9saW5lTnVtOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfaW5mb1BhbmVsVHlwZTogc3RyaW5nO1xuICAgIHByaXZhdGUgX2RpcmVjdGlvbkdaWDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2RpcmVjdGlvbkdaWTogbnVtYmVyO1xuICAgIHN0YXRpb25zOiBTdGF0aW9uRGljdEdaO1xuXG4gICAgY29uc3RydWN0b3IgKHBhcmFtOiBSTUdQYXJhbSkge1xuICAgICAgICBzdXBlcihwYXJhbSk7XG5cbiAgICAgICAgdGhpcy5fcHNkTnVtID0gcGFyYW0ucHNkX251bTtcbiAgICAgICAgdGhpcy5fbGluZU51bSA9IHBhcmFtLmxpbmVfbnVtO1xuICAgICAgICB0aGlzLl9pbmZvUGFuZWxUeXBlID0gcGFyYW0uaW5mb19wYW5lbF90eXBlO1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25HWlggPSBwYXJhbS5kaXJlY3Rpb25fZ3pfeDtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uR1pZID0gcGFyYW0uZGlyZWN0aW9uX2d6X3k7XG4gICAgfVxuXG4gICAgX2luaXRTdG5JbnN0YW5jZShzdG5JZDogSUQsIHN0bkluZm86IFN0YXRpb25JbmZvKSB7XG4gICAgICAgIGlmIChzdG5JbmZvLmNoaWxkcmVuLmxlbmd0aCA9PT0gMiB8fCBzdG5JbmZvLnBhcmVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJyYW5jaFN0YXRpb25HWihzdG5JZCwgc3RuSW5mbywgW3RoaXMudGhlbWVDaXR5LCB0aGlzLnRoZW1lTGluZSwgdGhpcy5fdGhlbWVDb2xvdXIsIHRoaXMuX2ZnQ29sb3VyLCAuLi50aGlzLl9saW5lTmFtZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHN0bkluZm8uY2hhbmdlX3R5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludDInOlxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBuZXcgSW50MlN0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XG4gICAgICAgICAgICBjYXNlICdpbnQzX2wnOlxuICAgICAgICAgICAgY2FzZSAnaW50M19yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludFN0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XG4gICAgICAgICAgICBjYXNlICdvc2kxMV91bCc6XG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wbCc6XG4gICAgICAgICAgICBjYXNlICdvc2kxMV91cic6XG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wcic6XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIG5ldyBPU0kxMVN0YXRpb25HWihzdG5JZCwgc3RuSW5mbyk7XG4gICAgICAgICAgICBjYXNlICdvc2kxMl91bCc6XG4gICAgICAgICAgICBjYXNlICdvc2kxMl9wbCc6XG4gICAgICAgICAgICBjYXNlICdvc2kxMl91cic6XG4gICAgICAgICAgICBjYXNlICdvc2kxMl9wcic6XG4gICAgICAgICAgICBjYXNlICdvc2kyMl91bCc6XG4gICAgICAgICAgICBjYXNlICdvc2kyMl9wbCc6XG4gICAgICAgICAgICBjYXNlICdvc2kyMl91cic6XG4gICAgICAgICAgICBjYXNlICdvc2kyMl9wcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0lTdGF0aW9uR1ooc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgY2FzZSAnb3NpMjJfZW5kX3AnOlxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfZW5kX3UnOlxuICAgICAgICAgICAgICAgIGlmIChzdG5JbmZvLnBhcmVudHNbMF0gPT0gJ2xpbmVzdGFydCcgfHwgc3RuSW5mby5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0lTdGF0aW9uR1ooc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSTUdTdGF0aW9uR1ooc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGxpbmVYcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAncicpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9wYWRkaW5nIC8gMTAwICsgNjUsIFxuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogKDEgLSB0aGlzLl9wYWRkaW5nLzEwMClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogdGhpcy5fcGFkZGluZyAvIDEwMCwgXG4gICAgICAgICAgICAgICAgdGhpcy5fc3ZnV2lkdGggKiAoMSAtIHRoaXMuX3BhZGRpbmcvMTAwKSAtIDY1XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0IHN2Z1dpZHRoKHZhbDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyLnN2Z1dpZHRoID0gdmFsO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIHNldCBwYWRkaW5nKHZhbCkge1xuICAgICAgICBzdXBlci5wYWRkaW5nID0gdmFsO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XG4gICAgfVxuXG4gICAgc2V0IGJyYW5jaFNwYWNpbmcodmFsKSB7XG4gICAgICAgIHN1cGVyLmJyYW5jaFNwYWNpbmcgPSB2YWw7XG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcbiAgICB9XG5cbiAgICBzZXQgZGlyZWN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnZGlyZWN0aW9uJywgdmFsKTtcblxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgUk1HTGluZUdaLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHNldCB0eHRGbGlwKHZhbCkge1xuICAgICAgICBzdXBlci50eHRGbGlwID0gdmFsO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgfVxuXG4gICAgc2V0IGN1cnJlbnRTdG5JZCh2YWwpIHtcbiAgICAgICAgc3VwZXIuY3VycmVudFN0bklkID0gdmFsO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIHNldCBsaW5lTnVtKHZhbCkge1xuICAgICAgICB0aGlzLl9saW5lTnVtID0gdmFsO1xuICAgICAgICBzZXRQYXJhbXMoJ2xpbmVfbnVtJywgdmFsKTtcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHNldCBsaW5lTmFtZXModmFsKSB7XG4gICAgICAgIHRoaXMuX2xpbmVOYW1lcyA9IHZhbDtcbiAgICAgICAgc2V0UGFyYW1zKCdsaW5lX25hbWUnLCB2YWwpO1xuXG4gICAgICAgIHRoaXMubG9hZExpbmVOYW1lKCk7XG4gICAgICAgIC8vICh0byBiZSBmaXhlZCkgcmVkcmF3IGJyYW5jaGluZyBzdGF0aW9uXG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XG4gICAgfVxuXG4gICAgc2V0IHBzZE51bSh2YWwpIHtcbiAgICAgICAgdGhpcy5fcHNkTnVtID0gdmFsO1xuICAgICAgICBzZXRQYXJhbXMoJ3BzZF9udW0nLCB2YWwpO1xuICAgICAgICAkKCcucm1nLXBzZC1udW0nKS50ZXh0KHZhbCk7XG4gICAgfVxuXG4gICAgc2V0IGluZm9QYW5lbFR5cGUodmFsKSB7XG4gICAgICAgIHRoaXMuX2luZm9QYW5lbFR5cGUgPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnaW5mb19wYW5lbF90eXBlJywgdmFsKTtcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjaW5kaWNhdG9yX2xpZ2h0JykuYXR0cigneGxpbms6aHJlZicsICcjaW5kaWNhdG9yXycrdmFsKTtcbiAgICAgICAgLy8gJCgnI2Rlc3Rfc3RyaXAsICNzdHJpcCcpLnJlbW92ZUF0dHIoJ2NsYXNzJykuYWRkQ2xhc3MoYHJtZy1zdHJpcF9fZ3ptdHItLSR7dGhpcy5faW5mb1BhbmVsVHlwZX1gKTtcbiAgICAgICAgdGhpcy5kcmF3U3RyaXAoKTtcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKTtcbiAgICAgICAgdGhpcy5kcmF3UFNEKCk7XG4gICAgfVxuXG4gICAgc2V0IGRpcmVjdGlvbkdaWCh2YWw6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25HWlggPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnZGlyZWN0aW9uX2d6X3gnLCB2YWwpO1xuXG4gICAgICAgIGxldCB4ID0gdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9kaXJlY3Rpb25HWlggLyAxMDA7XG4gICAgICAgIGxldCB5ID0gdGhpcy5fc3ZnSGVpZ2h0ICogdGhpcy5fZGlyZWN0aW9uR1pZIC8gMTAwO1xuICAgICAgICAkKCcjZGlyZWN0aW9uX2d6JykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3h9LCR7eX0pYCk7XG4gICAgfVxuXG4gICAgc2V0IGRpcmVjdGlvbkdaWSh2YWw6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kaXJlY3Rpb25HWlkgPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnZGlyZWN0aW9uX2d6X3knLCB2YWwpO1xuXG4gICAgICAgIGxldCB4ID0gdGhpcy5fc3ZnV2lkdGggKiB0aGlzLl9kaXJlY3Rpb25HWlggLyAxMDA7XG4gICAgICAgIGxldCB5ID0gdGhpcy5fc3ZnSGVpZ2h0ICogdGhpcy5fZGlyZWN0aW9uR1pZIC8gMTAwO1xuICAgICAgICAkKCcjZGlyZWN0aW9uX2d6JykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3h9LCR7eX0pYCk7XG4gICAgfVxuXG4gICAgX3N0blhTaGFyZShzdG5JZDogSUQpIHtcbiAgICAgICAgbGV0IHsgY3JpdGljYWxQYXRoLCBicmFuY2hlcyB9ID0gdGhpcztcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoY3JpdGljYWxQYXRoLm5vZGVzLmluY2x1ZGVzKHN0bklkKSkge3JldHVybiBzdXBlci5fc3RuWFNoYXJlKHN0bklkKTt9XG4gICAgICAgIGlmICh0aGlzLmNyaXRpY2FsUGF0aC5ub2Rlcy5qb2luKCcsJykgIT09IGJyYW5jaGVzWzBdLmpvaW4oJywnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLl9zdG5YU2hhcmUoc3RuSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJyYW5jaFdpdGhTdG4gPSBicmFuY2hlcy5zbGljZSgxKS5maWx0ZXIoYnJhbmNoID0+IGJyYW5jaC5pbmNsdWRlcyhzdG5JZCkpWzBdO1xuICAgICAgICAgICAgbGV0IGxlblRvTGVmdCA9IHRoaXMuX2NwKGJyYW5jaFdpdGhTdG5bMF0sIHN0bklkKS5sZW47XG4gICAgICAgICAgICBsZXQgbGVuVG9SaWdodCA9IHRoaXMuX2NwKHN0bklkLCBicmFuY2hXaXRoU3RuW2JyYW5jaFdpdGhTdG4ubGVuZ3RoLTFdKS5sZW47XG5cbiAgICAgICAgICAgIGlmIChicmFuY2hlc1swXS5pbmNsdWRlcyhicmFuY2hXaXRoU3RuWzBdKSAmJiBicmFuY2hlc1swXS5pbmNsdWRlcyhicmFuY2hXaXRoU3RuW2JyYW5jaFdpdGhTdG4ubGVuZ3RoLTFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIHNlbGYuX3N0blhTaGFyZShicmFuY2hXaXRoU3RuWzBdKSAqIGxlblRvUmlnaHQgKyBzZWxmLl9zdG5YU2hhcmUoYnJhbmNoV2l0aFN0blticmFuY2hXaXRoU3RuLmxlbmd0aC0xXSkgKiBsZW5Ub0xlZnQgKSAvIChsZW5Ub0xlZnQgKyBsZW5Ub1JpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhbmNoZXNbMF0uaW5jbHVkZXMoYnJhbmNoV2l0aFN0blswXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fc3RuWFNoYXJlKGJyYW5jaFdpdGhTdG5bMF0pICsgbGVuVG9MZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fc3RuWFNoYXJlKGJyYW5jaFdpdGhTdG5bYnJhbmNoV2l0aFN0bi5sZW5ndGgtMV0pIC0gbGVuVG9SaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdG5ZU2hhcmUoc3RuSWQpIHtcbiAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBicmFuY2hlcyA9IHRoaXMuYnJhbmNoZXM7XG4gICAgICAgIGlmIChicmFuY2hlc1swXS5pbmNsdWRlcyhzdG5JZCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgICAgIHdoaWxlICghYnJhbmNoZXNbaV0uaW5jbHVkZXMoc3RuSWQpKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJyYW5jaGVzWzBdLmluY2x1ZGVzKGJyYW5jaGVzW2ldWzBdKSkge1xuICAgICAgICAgICAgICAgIHZhciBicmFuY2hpbmdTdG5JZCA9IGJyYW5jaGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgIHZhciBuZVRvRmluZCA9ICdjaGlsZHJlbic7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbYnJhbmNoaW5nU3RuSWRdW25lVG9GaW5kXS5pbmRleE9mKGJyYW5jaGVzW2ldWzFdKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBicmFuY2hpbmdTdG5JZCA9IGJyYW5jaGVzW2ldLnNsaWNlKCkucmV2ZXJzZSgpWzBdO1xuICAgICAgICAgICAgICAgIHZhciBuZVRvRmluZCA9ICdwYXJlbnRzJztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1ticmFuY2hpbmdTdG5JZF1bbmVUb0ZpbmRdLmluZGV4T2YoYnJhbmNoZXNbaV0uc2xpY2UoKS5yZXZlcnNlKClbMV0pID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdTdHJpcCgpIHtcbiAgICAgICAgbGV0IHN0cmlwSGVpZ2h0ID0gKHR5cGUgPT4ge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ3oyOCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZ3pnZic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA2MDtcbiAgICAgICAgICAgICAgICBjYXNlICdnejMnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gNDA7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ3oxNDIxJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSh0aGlzLl9pbmZvUGFuZWxUeXBlKTtcbiAgICAgICAgJCgnI2Rlc3Rfc3RyaXBfZ3osICNzdHJpcF9neicpLmF0dHIoe1xuICAgICAgICAgICAgeTogdGhpcy5fc3ZnSGVpZ2h0IC0gc3RyaXBIZWlnaHQsIFxuICAgICAgICAgICAgaGVpZ2h0OiBzdHJpcEhlaWdodFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfcmlnaHRXaWRlRmFjdG9yKHN0bklkOiBJRCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uY29uc3RydWN0b3IubmFtZSA9PT0gJ0JyYW5jaFN0YXRpb25HWicgJiYgdGhpcy5zdGF0aW9uc1tzdG5JZF0uX3RpY2tSb3RhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDAuMjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sZWZ0V2lkZUZhY3RvcihzdG5JZDogSUQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWUgPT09ICdCcmFuY2hTdGF0aW9uR1onICYmIHRoaXMuc3RhdGlvbnNbc3RuSWRdLl90aWNrUm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwLjU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXRoV2VpZ2h0KHN0bklkMTogSUQsIHN0bklkMjogSUQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRpb25zW3N0bklkMV0uY2hpbGRyZW4uaW5jbHVkZXMoc3RuSWQyKSkge3JldHVybiAtSW5maW5pdHk7fVxuXG4gICAgICAgIHJldHVybiAxICsgdGhpcy5fcmlnaHRXaWRlRmFjdG9yKHN0bklkMSkgKyB0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZDIpO1xuICAgICAgICAvLyByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBfbGluZVBhdGgoc3RuSWRzKSB7XG4gICAgICAgIHZhciBbcHJldklkLCBwcmV2WSwgcHJldlhdID0gW10gYXMgW3N0cmluZz8sIG51bWJlcj8sIG51bWJlcj9dO1xuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuXG4gICAgICAgIHZhciB7IHN0bkV4dHJhSCwgc3RuU3BhcmVILCBwYXRoVHVybkVTRSwgcGF0aFR1cm5TRUUsIHBhdGhUdXJuRU5FLCBwYXRoVHVybk5FRSwgc3RuRFggfSA9IHRoaXM7XG5cbiAgICAgICAgc3RuSWRzLmZvckVhY2goc3RuSWQgPT4ge1xuICAgICAgICAgICAgdmFyIFt4LHldID0gWydfc3RuUmVhbFgnLCAnX3N0blJlYWxZJ10ubWFwKGZ1biA9PiB0aGlzW2Z1bl0oc3RuSWQpKTtcbiAgICAgICAgICAgIGlmICghcHJldlkgJiYgcHJldlkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goYE0gJHt4fSwke3l9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPT09IHRoaXMueSkge1xuICAgICAgICAgICAgICAgIGlmICh5IDwgcHJldlkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wdXNoKGBIICR7eC0zMH1gLCAnYSAzMCwzMCAwIDAsMCAzMCwtMzAnLCBgViAke3l9YClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHkgPiBwcmV2WSkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnB1c2goYEggJHt4LTMwfWAsICdhIDMwLDMwIDAgMCwxIDMwLDMwJywgYFYgJHt5fWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucHVzaChgViAke3krMzB9YCwgJ2EgMzAsMzAgMCAwLDEgMzAsLTMwJywgYEggJHt4fWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh5ID4gcHJldlkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wdXNoKGBWICR7eS0zMH1gLCAnYSAzMCwzMCAwIDAsMCAzMCwzMCcsIGBIICR7eH1gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmICh5ICE9IHByZXZZICYmIHkgPT0gdGhpcy55KSB7XG4gICAgICAgICAgICAvLyAgICAgcGF0aC5wdXNoKFxuICAgICAgICAgICAgLy8gICAgICAgICBgSCAke3h9YCwgYFYgJHt5fWBcbiAgICAgICAgICAgIC8vICAgICApXG4gICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHkgIT0gcHJldlkgJiYgeSAhPSB0aGlzLnkpIHtcbiAgICAgICAgICAgIC8vICAgICBwYXRoLnB1c2goXG4gICAgICAgICAgICAvLyAgICAgICAgIGBWICR7eX1gLCBgSCAke3h9YFxuICAgICAgICAgICAgLy8gICAgIClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHBhdGgucHVzaChgSCAke3h9YCk7XG4gICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2ltcGxpZnkgcGF0aFxuICAgICAgICByZXR1cm4gcGF0aC5qb2luKCcgJykucmVwbGFjZSgvKCBIIChbXFxkLl0rKSkrL2csICcgSCAkMicpO1xuICAgIH1cblxuICAgIGRyYXdMaW5lKCkge1xuICAgICAgICAkKCcucm1nLWxpbmUnKS5yZW1vdmVDbGFzcygncm1nLWxpbmVfX210cicpLmFkZENsYXNzKCdybWctbGluZV9fZ3ptdHInKTtcbiAgICAgICAgc3VwZXIuZHJhd0xpbmUoKTtcbiAgICB9XG5cbiAgICBsb2FkRm9udHMoKSB7XG4gICAgICAgICQoJy5ybWctbmFtZV9femgsIC5ybWctbmFtZV9fZW4nKS5hZGRDbGFzcygncm1nLW5hbWVfX2d6bXRyJyk7XG4gICAgfVxuXG4gICAgZmlsbFRoZW1lQ29sb3VyKCkge1xuICAgICAgICBzdXBlci5maWxsVGhlbWVDb2xvdXIoKTtcbiAgICAgICAgJCgnI2Rlc3Rfc3RyaXBfZ3osICNzdHJpcF9neicpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XG4gICAgICAgIGlmIChbJ2d6MycsICdnejE0MjEnXS5pbmNsdWRlcyh0aGlzLl9pbmZvUGFuZWxUeXBlKSkge1xuICAgICAgICAgICAgJCgnI2JpZ19wc2QgdXNlJykuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mZ0NvbG91ciA9PT0gJyNmZmYnKSB7XG4gICAgICAgICAgICAgICAgJCgnI2JpZ19wc2QgdGV4dCcpLmFkZENsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNiaWdfcHNkIHRleHQnKS5yZW1vdmVDbGFzcygncm1nLW5hbWVfX2d6bXRyLS13aGl0ZS1mZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI2JpZ19wc2QgdXNlJykuYXR0cignZmlsbCcsICd3aGl0ZScpO1xuICAgICAgICAgICAgJCgnI2JpZ19wc2QgdGV4dCcpLnJlbW92ZUNsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCdwYXRoI3N0bl9neicpLmF0dHIoJ3N0cm9rZScsIHRoaXMuX3RoZW1lQ29sb3VyKTtcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+ICNwbGF0Zm9ybSA+IGNpcmNsZScpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XG4gICAgICAgICQoJyNsaW5lX25hbWUgdXNlJykuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZnQ29sb3VyID09PSAnI2ZmZicpIHtcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiAjcGxhdGZvcm0gdGV4dCcpLmFkZENsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRleHQnKS5hZGRDbGFzcygncm1nLW5hbWVfX2d6bXRyLS13aGl0ZS1mZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+ICNwbGF0Zm9ybSB0ZXh0JykucmVtb3ZlQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcbiAgICAgICAgICAgICQoJyNsaW5lX25hbWUgdGV4dCcpLnJlbW92ZUNsYXNzKCdybWctbmFtZV9fZ3ptdHItLXdoaXRlLWZnJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlU3RuTmFtZUJnKCkge1xuICAgIC8vICAgICAkKCcjY3VycmVudF9iZycpLmhpZGUoKTtcbiAgICAvLyB9XG5cbiAgICBsb2FkTGluZU51bSgpIHtcbiAgICAgICAgY29uc3QgTElORV9OVU1fTUFYX1dJRFRIID0gMTUuNTkzNzU7XG4gICAgICAgICQoJy5ybWctbmFtZV9fZ3ptdHItLWxpbmUtbnVtJykudGV4dCh0aGlzLl9saW5lTnVtKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKC05LjI1LDApYCk7XG5cbiAgICAgICAgdmFyIGxpbmVOdW1EaW0gPSBnZXRUeHRCb3hEaW0oJCgnLnJtZy1uYW1lX19nem10ci0tbGluZS1udW0nKVsxXSBhcyBFbGVtZW50IGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgJ3JhaWxtYXAnKTtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVOdW0ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICB2YXIgbGluZU51bVNjYWxlID0gbGluZU51bURpbS53aWR0aD5MSU5FX05VTV9NQVhfV0lEVEggPyBMSU5FX05VTV9NQVhfV0lEVEgvbGluZU51bURpbS53aWR0aCA6IDE7XG4gICAgICAgICAgICAkKCcucm1nLW5hbWVfX2d6bXRyLS1saW5lLW51bScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoLTkuMjUsMClzY2FsZSgke2xpbmVOdW1TY2FsZX0pYCk7XG4gICAgICAgICAgICAkKCcucm1nLW5hbWVfX2d6bXRyLS1zdGF0aW9uLW51bScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoOS4yNSwwKXNjYWxlKCR7bGluZU51bVNjYWxlfSlgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsaW5lTnVtU2NhbGUgPSBsaW5lTnVtRGltLndpZHRoPkxJTkVfTlVNX01BWF9XSURUSCA/IExJTkVfTlVNX01BWF9XSURUSC9saW5lTnVtRGltLndpZHRoIDogMTtcbiAgICAgICAgICAgICQoJy5ybWctbmFtZV9fZ3ptdHItLWxpbmUtbnVtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgtOS4yNSwwKXNjYWxlKCR7bGluZU51bVNjYWxlfSlgKTtcbiAgICAgICAgICAgICQoJy5ybWctbmFtZV9fZ3ptdHItLXN0YXRpb24tbnVtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg5LjI1LDApYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkTGluZU5hbWUoKSB7XG4gICAgICAgIHZhciBsaW5lTmFtZVpIcyA9IHRoaXMuX2xpbmVOYW1lc1swXS5tYXRjaCgvW1xcZF0rfFtcXERdKy9nKSB8fCAnJztcblxuICAgICAgICB2YXIgbGluZU5hbWVTcGxpdE9rID0gZmFsc2U7XG4gICAgICAgIGlmIChsaW5lTmFtZVpIcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIobGluZU5hbWVaSHNbMF0pKSAmJiBpc05hTihOdW1iZXIobGluZU5hbWVaSHNbMV0pKSkge1xuICAgICAgICAgICAgICAgIGxpbmVOYW1lU3BsaXRPayA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGluZU5hbWVTcGxpdE9rKSB7XG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRzcGFuJykuZXEoMCkudGV4dChsaW5lTmFtZVpIc1swXSk7XG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRzcGFuJykuZXEoMSkudGV4dChsaW5lTmFtZVpIc1sxXSk7XG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRzcGFuJykuZXEoMSkuYXR0cignZHknLCAnLTAuNScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI2xpbmVfbmFtZSB0c3BhbicpLmVxKDApLnRleHQoJycpO1xuICAgICAgICAgICAgJCgnI2xpbmVfbmFtZSB0c3BhbicpLmVxKDEpLnRleHQodGhpcy5fbGluZU5hbWVzWzBdKTtcbiAgICAgICAgICAgICQoJyNsaW5lX25hbWUgdHNwYW4nKS5lcSgxKS5hdHRyKCdkeScsICctMC41Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gJCgnI2xpbmVfbmFtZSB0c3BhbicpLmVxKDEpLnRleHQobGluZU5hbWVaSHNbbGluZU5hbWVaSHMubGVuZ3RoLTFdKVxuXG4gICAgICAgICQoJyNsaW5lX25hbWUgdGV4dDpsYXN0LWNoaWxkJykudGV4dCh0aGlzLl9saW5lTmFtZXNbMV0pO1xuICAgICAgICBpZiAodGhpcy5fbGluZU5hbWVzWzFdLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAkKCcjbGluZV9uYW1lIHRleHQ6bGFzdC1jaGlsZCcpXG4gICAgICAgICAgICAgICAgLnRleHQodGhpcy5fbGluZU5hbWVzWzFdKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygncm1nLW5hbWVfX2d6bXRyLS1pbnQtc21hbGwnKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygncm1nLW5hbWVfX2d6bXRyLS1pbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNsaW5lX25hbWUgdGV4dDpsYXN0LWNoaWxkJylcbiAgICAgICAgICAgICAgICAudGV4dCh0aGlzLl9saW5lTmFtZXNbMV0pXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdybWctbmFtZV9fZ3ptdHItLWludC1zbWFsbCcpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdybWctbmFtZV9fZ3ptdHItLWludCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZnQ29sb3VyID09ICcjZmZmJykge1xuICAgICAgICAgICAgJCgnI2xpbmVfbmFtZSB0ZXh0JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaW5lTmFtZVggPSB0aGlzLl9kaXJlY3Rpb249PSdyJyA/IHRoaXMubGluZVhzWzBdLTY1IDogdGhpcy5saW5lWHNbMV0rNjU7XG5cbiAgICAgICAgJCgnI2xpbmVfbmFtZScpXG4gICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bGluZU5hbWVYfSwke3RoaXMueS0xOH0pc2NhbGUoMS41KWBcbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgbG9hZERpcmVjdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbGlkRGVzdDogSURbXTtcbiAgICAgICAgbGV0IHggPSB0aGlzLl9zdmdXaWR0aCAqIHRoaXMuX2RpcmVjdGlvbkdaWCAvIDEwMDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLl9zdmdIZWlnaHQgKiB0aGlzLl9kaXJlY3Rpb25HWlkgLyAxMDA7XG4gICAgICAgICQoJyNkaXJlY3Rpb25fZ3onKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eH0sJHt5fSlgKTtcbiAgICAgICAgLy8gdG8gYmUgZml4ZWQ6IHZhbGlkRGVzdCBvcmRlcmluZ1xuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09ICdsJykge1xuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiB1c2UnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgc2NhbGUoMC4zNSlgKTtcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmF0dHIoe1xuICAgICAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdzdGFydCcsIFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSg2NSwtNSknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhbGlkRGVzdCA9IHRoaXMubFZhbGlkRGVzdHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IHVzZScpLmF0dHIoJ3RyYW5zZm9ybScsIGBzY2FsZSgwLjM1KXJvdGF0ZSgxODApYCk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiAnZW5kJywgXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC02NSwtNSknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhbGlkRGVzdCA9IHRoaXMuclZhbGlkRGVzdHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbGlkRGVzdC5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgIHZhciBbZGVzdE5hbWVaSCwgZGVzdE5hbWVFTl0gPSBbMCwxXS5tYXAoaWR4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWREZXN0Lm1hcChzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5uYW1lW2lkeF0ucmVwbGFjZSgvXFxcXC9nLCAnICcpKS5qb2luKCcvJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLmZpbmQoJ3RleHQnKS5lcSgwKS50ZXh0KGRlc3ROYW1lWkggKyAn5pa55ZCRJyk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgwKS5maW5kKCd0ZXh0JykuZXEoMSkudGV4dCgnVG93YXJkcyAnICsgZGVzdE5hbWVFTik7XG5cbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDApLnNob3coKTtcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmZpbmQoJ3RleHQnKS5jc3MoJ2xldHRlci1zcGFjaW5nJywgMCk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoMCkudGV4dCh0aGlzLnN0YXRpb25zW3ZhbGlkRGVzdFswXV0ubmFtZVswXSk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoMSkudGV4dCgnVG93YXJkcyAnICsgdGhpcy5zdGF0aW9uc1t2YWxpZERlc3RbMF1dLm5hbWVbMV0pO1xuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuZmluZCgndGV4dCcpLmVxKDIpLnRleHQodGhpcy5zdGF0aW9uc1t2YWxpZERlc3RbMV1dLm5hbWVbMF0pO1xuICAgICAgICAgICAgJCgnI2RpcmVjdGlvbl9neiBnJykuZXEoMSkuZmluZCgndGV4dCcpLmVxKDMpLnRleHQoJ1Rvd2FyZHMgJyArIHRoaXMuc3RhdGlvbnNbdmFsaWREZXN0WzFdXS5uYW1lWzFdKTtcblxuICAgICAgICAgICAgbGV0IGNoYXJDb3VudHMgPSB2YWxpZERlc3QubWFwKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWVbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBtaW5DaGFyQ291bnRzID0gTWF0aC5taW4oLi4uY2hhckNvdW50cyk7XG4gICAgICAgICAgICBpZiAobWluQ2hhckNvdW50cyA+IDEgJiYgY2hhckNvdW50c1swXSAhPT0gY2hhckNvdW50c1sxXSkge1xuICAgICAgICAgICAgICAgIGxldCBjaGFyU3BhY2luZyA9IE1hdGguYWJzKGNoYXJDb3VudHNbMF0gLSBjaGFyQ291bnRzWzFdKSAvIChtaW5DaGFyQ291bnRzIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJDb3VudHNbMF0gPiBjaGFyQ291bnRzWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNkaXJlY3Rpb25fZ3ogZycpLmVxKDEpLmZpbmQoJ3RleHQnKS5lcSgyKS5jc3MoJ2xldHRlci1zcGFjaW5nJywgYCR7Y2hhclNwYWNpbmd9ZW1gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoMCkuY3NzKCdsZXR0ZXItc3BhY2luZycsIGAke2NoYXJTcGFjaW5nfWVtYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWF4Q2hhckNvdW50ID0gTWF0aC5tYXgoLi4uY2hhckNvdW50cyk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5maW5kKCd0ZXh0JykuZXEoNCkuYXR0cigneCcsIDI1KihtYXhDaGFyQ291bnQrMSkpO1xuXG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgwKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjZGlyZWN0aW9uX2d6IGcnKS5lcSgxKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVTdG5OYW1lKHN0bklkLCBuYW1lczogTmFtZSwgc3RuTnVtKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVN0bk5hbWUoc3RuSWQsIG5hbWVzLCBzdG5OdW0pO1xuXG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLnBhcmVudHMuaW5jbHVkZXMoc3RuSWQpIHx8IHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5jaGlsZHJlbi5pbmNsdWRlcyhzdG5JZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTdG5JZCA9PT0gc3RuSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7IFxuICAgICAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxlZnREZXN0cy5pbmNsdWRlcyhzdG5JZCkgfHwgdGhpcy5yaWdodERlc3RzLmluY2x1ZGVzKHN0bklkKSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkRGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZHJhd0Rlc3RJbmZvKCkge1xuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfc3RuX251bSB0ZXh0JykuZXEoMSkudGV4dCh0aGlzLnN0YXRpb25zW3RoaXMuX2N1cnJlbnRTdG5JZF0uc3RuTnVtKTtcblxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gI3BsYXRmb3JtID4gdGV4dCcpLmVxKDApLnRleHQodGhpcy5fcGxhdGZvcm1OdW0pO1xuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gI2JpZ19wc2QgdGV4dCcpLmVxKDApLnRleHQodGhpcy5fcHNkTnVtKTtcblxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmFtZScpLmVtcHR5KClcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLzJ9LCR7MTAwIC0gKHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5uYW1lWzFdLnNwbGl0KCdcXFxcJykubGVuZ3RoIC0gMSkqMjB9KWApXG4gICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoJzx0ZXh0PicsIHsgY2xhc3M6J3JtZy1uYW1lX196aCBybWctbmFtZV9fZ3ptdHItLWRlc3QnIH0pXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KHRoaXMuc3RhdGlvbnNbdGhpcy5fY3VycmVudFN0bklkXS5uYW1lWzBdKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKCc8dGV4dD4nLCB7IGR5OjcwLCBjbGFzczoncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19nem10ci0tZGVzdCcgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRleHQodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVswXSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7IHg6MCwgZHk6NDAsICdhbGlnbm1lbnQtYmFzZWxpbmUnOidtaWRkbGUnIH0pLnRleHQodGhpcy5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSB8fCAnJylcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgICQoJyN0ZXJtaW51c19neicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdXaWR0aC8yfSwxMDApYCk7XG5cbiAgICAgICAgbGV0IG5leHRTdG5JZCA9IHRoaXNcbiAgICAgICAgICAgIC5zdGF0aW9uc1t0aGlzLl9jdXJyZW50U3RuSWRdW3RoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnID8gJ3BhcmVudHMnIDogJ2NoaWxkcmVuJ11cbiAgICAgICAgICAgIC5maWx0ZXIoc3RuSWQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBicmFuY2hUbXAgPSB0aGlzLnN0YXRpb25zW3RoaXMuX2N1cnJlbnRTdG5JZF0uYnJhbmNoW3RoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnID8gJ2xlZnQnIDogJ3JpZ2h0J11cbiAgICAgICAgICAgICAgICBpZiAoYnJhbmNoVG1wLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGJyYW5jaFRtcFswXSA9PT0gJ3Rocm91Z2gnID8gdHJ1ZSA6IHN0bklkICE9PSBicmFuY2hUbXBbMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhuZXh0U3RuSWRbMF0pKSB7XG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyJykuZmluZCgnI2JpZ19uZXh0LCAjYmlnX25leHRfMicpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjbGluZV9tYWluLCAjbGluZV9wYXNzLCAjbGluZV9uYW1lLCAjc3RuX2ljb25zLCAjZGlyZWN0aW9uX2d6JykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnI3Rlcm1pbnVzX2d6Jykuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5leHRTdG5JZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yJykuaGlkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yJykuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLnNob3coKTtcbiAgICAgICAgICAgICQoJyNsaW5lX21haW4sICNsaW5lX3Bhc3MsICNsaW5lX25hbWUsICNzdG5faWNvbnMsICNkaXJlY3Rpb25fZ3onKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjdGVybWludXNfZ3onKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgW25leHROYW1lWkgsIG5leHROYW1lRU5dID0gWycnLCAnJ107XG4gICAgICAgIGxldCBuZXh0TmFtZVpIQ291bnQgPSAwO1xuICAgICAgICBpZiAobmV4dFN0bklkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdmFyIG5leHRTdG5JbmZvID0gdGhpcy5zdGF0aW9uc1tuZXh0U3RuSWRbMF1dO1xuICAgICAgICAgICAgW25leHROYW1lWkgsIG5leHROYW1lRU5dID0gbmV4dFN0bkluZm8ubmFtZTtcbiAgICAgICAgICAgIG5leHROYW1lWkhDb3VudCA9IG5leHROYW1lWkgubGVuZ3RoO1xuXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCBnOm50aC1jaGlsZCgyKSB0ZXh0JykuZXEoMCkudGV4dChuZXh0TmFtZVpIKTtcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpIHRleHQnKS5lcSgxKS50ZXh0KG5leHROYW1lRU4uc3BsaXQoJ1xcXFwnKVswXSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0c3Bhbj4nLCB7IHg6MCwgZHk6MTcsICdhbGlnbm1lbnQtYmFzZWxpbmUnOidtaWRkbGUnIH0pLnRleHQobmV4dE5hbWVFTi5zcGxpdCgnXFxcXCcpWzFdIHx8ICcnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0U3RuSWQuZm9yRWFjaCgoc3RuSWQsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0U3RuSW5mbyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdO1xuICAgICAgICAgICAgICAgIFtuZXh0TmFtZVpILCBuZXh0TmFtZUVOXSA9IG5leHRTdG5JbmZvLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKG5leHROYW1lWkgubGVuZ3RoID4gbmV4dE5hbWVaSENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHROYW1lWkhDb3VudCA9IG5leHROYW1lWkgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICQoYCNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoJHsyKihpZHgrMSl9KSB0ZXh0YCkuZXEoMikudGV4dChuZXh0TmFtZVpIKTtcbiAgICAgICAgICAgICAgICAkKGAjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yIGc6bnRoLWNoaWxkKCR7MiooaWR4KzEpfSkgdGV4dGApLmVxKDMpLnRleHQobmV4dE5hbWVFTi5zcGxpdCgnXFxcXCcpWzBdKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0c3Bhbj4nLCB7IHg6MCwgZHk6MTMsICdhbGlnbm1lbnQtYmFzZWxpbmUnOidtaWRkbGUnIH0pLnRleHQobmV4dE5hbWVFTi5zcGxpdCgnXFxcXCcpWzFdIHx8ICcnKSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRSb3V0ZXMgPSB0aGlzLnJvdXRlc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2Yoc3RuSWQpICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChyb3V0ZSA9PiByb3V0ZS5maWx0ZXIocyA9PiBzICE9PSAnbGluZXN0YXJ0JyAmJiBzICE9PSAnbGluZWVuZCcpKTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRFbmRzOiBJRFtdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZEVuZHMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldCh2YWxpZFJvdXRlcy5tYXAocm91dGUgPT4gcm91dGVbMF0pKVxuICAgICAgICAgICAgICAgICAgICApLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZEVuZHMgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldCh2YWxpZFJvdXRlcy5tYXAocm91dGUgPT4gcm91dGUucmV2ZXJzZSgpWzBdKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJChgI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgkezIqKGlkeCsxKX0pIHRleHRgKS5lcSgwKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCh2YWxpZEVuZHMubWFwKHMgPT4gdGhpcy5zdGF0aW9uc1tzXS5uYW1lWzBdKS5qb2luKCcvJykgKyAn5pa55ZCRJyk7XG4gICAgICAgICAgICAgICAgJChgI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgkezIqKGlkeCsxKX0pIHRleHRgKS5lcSgxKVxuICAgICAgICAgICAgICAgICAgICAudGV4dCgnVG93YXJkcyAnICsgdmFsaWRFbmRzLm1hcChzID0+IHRoaXMuc3RhdGlvbnNbc10ubmFtZVsxXSkuam9pbignLycpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyJykuaHRtbCgkKCcjc3RhdGlvbl9pbmZvX2d6bXRyJykuaHRtbCgpKTtcblxuICAgICAgICAvLyBQb3NpdGlvbiBiaWcgbmFtZVxuICAgICAgICB2YXIgYmlnTmFtZURpbSA9IGdldFR4dEJveERpbShcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uYW1lIHRleHQnKVswXSBhcyBFbGVtZW50IGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgXG4gICAgICAgICAgICAnZGVzdGluYXRpb24nXG4gICAgICAgICk7XG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19zdG5fbnVtJylcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aCtiaWdOYW1lRGltLndpZHRoKS8yKzU1fSwkezEyMCAtICh0aGlzLnN0YXRpb25zW3RoaXMuX2N1cnJlbnRTdG5JZF0ubmFtZVsxXS5zcGxpdCgnXFxcXCcpLmxlbmd0aCAtIDEpKjIwfSlzY2FsZSgxLjQpYCk7XG5cbiAgICAgICAgbGV0IGJpZ05leHREaW0gPSB7eDowLCB5OjAsIHdpZHRoOjAsIGhlaWdodDowfTtcbiAgICAgICAgaWYgKG5leHRTdG5JZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGJpZ05leHREaW0gPSBnZXRUeHRCb3hEaW0oXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpudGgtY2hpbGQoMiknKVswXSBhcyBFbGVtZW50IGFzIFNWR0dyYXBoaWNzRWxlbWVudCxcbiAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24nXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJpZ05leHREaW1zID0gW1xuICAgICAgICAgICAgICAgIGdldFR4dEJveERpbShcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgyKScpWzBdIGFzIEVsZW1lbnQgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAnZGVzdGluYXRpb24nXG4gICAgICAgICAgICAgICAgKSwgXG4gICAgICAgICAgICAgICAgZ2V0VHh0Qm94RGltKFxuICAgICAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yIGc6bnRoLWNoaWxkKDQpJylbMF0gYXMgRWxlbWVudCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICdkZXN0aW5hdGlvbidcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGJpZ05leHREaW1zWzBdLndpZHRoID4gYmlnTmV4dERpbXNbMV0ud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBiaWdOZXh0RGltID0gYmlnTmV4dERpbXNbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJpZ05leHREaW0gPSBiaWdOZXh0RGltc1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB2YXIgbmV4dE5hbWVaSENvdW50ID0gbmV4dE5hbWVaSC5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpIHtcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI3BsYXRmb3JtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC0xMDB9LDEyMClgKTtcbiAgICAgICAgICAgIGlmIChuZXh0U3RuSWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHROYW1lWkhDb3VudCA8PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkezExNSszNX0sMTEwKWApO1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyID4gdXNlJykuZXEoMCkuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkeygxMTUrMzUqKDErbmV4dE5hbWVaSENvdW50KStiaWdOYW1lRGltLngpLzItMjB9LDEyMClzY2FsZSgwLjI1KWApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6bnRoLWNoaWxkKDIpJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgkezExNSszNSowLjV9LDExMClgKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsoMTE1KzM1KigwLjUrbmV4dE5hbWVaSENvdW50KStiaWdOYW1lRGltLngpLzItMjB9LDEyMClzY2FsZSgwLjI1KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgyKScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMTEzLDgwKWApO1xuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoNCknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDExMywxOTApYCk7XG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsoOTkrMjcqKDErbmV4dE5hbWVaSENvdW50KStiaWdOYW1lRGltLngpLzItMjB9LDEyMClzY2FsZSgwLjI1KWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCBnOmZpcnN0LWNoaWxkJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg4MCwxMTApYCk7XG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dF8yIGc6Zmlyc3QtY2hpbGQnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDcyLDgwKWApO1xuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgzKScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoNzIsMTkwKWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjcGxhdGZvcm0nKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDEwMCwxMjApYCk7XG5cbiAgICAgICAgICAgIGlmIChuZXh0U3RuSWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHQgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGh9LDExMClgKTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0TmFtZVpIQ291bnQgPD0gMikge1xuICAgICAgICAgICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfbmV4dCBnOmZpcnN0LWNoaWxkJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTcwfSwxMTApYCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTcwLTM1K2JpZ05hbWVEaW0ueCtiaWdOYW1lRGltLndpZHRoKzU1KzE4LjUqMS40KS8yKzIwfSwxMjApc2NhbGUoMC4yNSlyb3RhdGUoMTgwKWApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0IGc6Zmlyc3QtY2hpbGQnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGgtMzUqMS41fSwxMTApYCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgPiB1c2UnKS5lcSgwKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7KHRoaXMuX3N2Z0Rlc3RXaWR0aC00NS1iaWdOZXh0RGltLndpZHRoLTM1KjIuNStiaWdOYW1lRGltLngrYmlnTmFtZURpbS53aWR0aCs1NSsxOC41KjEuNCkvMisyMH0sMTIwKXNjYWxlKDAuMjUpcm90YXRlKDE4MClgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoMiknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGh9LDgwKWApO1xuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpudGgtY2hpbGQoNCknKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGh9LDE5MClgKTtcblxuICAgICAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fZ3ptdHIgI2JpZ19uZXh0XzIgZzpmaXJzdC1jaGlsZCcpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgtNDUtYmlnTmV4dERpbS53aWR0aC00MX0sODApYCk7XG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciAjYmlnX25leHRfMiBnOm50aC1jaGlsZCgzKScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt0aGlzLl9zdmdEZXN0V2lkdGgtNDUtYmlnTmV4dERpbS53aWR0aC00MX0sMTkwKWApO1xuXG4gICAgICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19nem10ciA+IHVzZScpLmVxKDApLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHsodGhpcy5fc3ZnRGVzdFdpZHRoLTQ1LWJpZ05leHREaW0ud2lkdGgtNDEtMjcrYmlnTmFtZURpbS54K2JpZ05hbWVEaW0ud2lkdGgrNTUrMTguNSoxLjQpLzIrMjB9LDEyMClzY2FsZSgwLjI1KXJvdGF0ZSgxODApYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNpbmRpY2F0b3JfbGlnaHQnKS5hdHRyKHtcbiAgICAgICAgICAgIHg6dGhpcy5fc3ZnRGVzdFdpZHRoLzIsIHk6MjcwLCBcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbmRpY2F0b3JfJyArIHRoaXMuX2luZm9QYW5lbFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmRyYXdQU0QoKTtcbiAgICB9XG5cbiAgICBkcmF3UFNEKCkge1xuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX2d6bXRyICNiaWdfcHNkJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3N2Z0Rlc3RXaWR0aC8yKzgwfSwke1xuICAgICAgICAgICAgKHR5cGUgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdnejMnOiByZXR1cm4gMjE4O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdnejE0MjEnOiByZXR1cm4gMjM4O1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gMjQyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKHRoaXMuX2luZm9QYW5lbFR5cGUpXG4gICAgICAgIH0pYCk7XG4gICAgfVxuXG4gICAgYWRkU3RuKHByZXAsIHN0bklkLCBsb2MsIGVuZCkge1xuICAgICAgICB2YXIgcmVzID0gc3VwZXIuYWRkU3RuKHByZXAsIHN0bklkLCBsb2MsIGVuZCk7XG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcbiAgICAgICAgdGhpcy5sb2FkRGlyZWN0aW9uKCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RuKHN0bklkKSB7XG4gICAgICAgIGlmIChzdXBlci5yZW1vdmVTdG4oc3RuSWQpKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUsIGluZm89bnVsbCkge1xuICAgICAgICBzdXBlci51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgdHlwZSwgaW5mbyk7XG4gICAgICAgIHRoaXMubG9hZExpbmVOdW0oKTtcbiAgICB9XG5cbiAgICB1cGRhdGVCcmFuY2hUeXBlKHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCB0eXBlOiAndGhyb3VnaCcgfCAnbm9udGhyb3VnaCcpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlQnJhbmNoVHlwZShzdG5JZCwgZGlyZWN0aW9uLCB0eXBlKTtcbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xuICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcbiAgICB9XG5cbiAgICB1cGRhdGVCcmFuY2hGaXJzdChzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgZmlyc3Q6IElEKSB7XG4gICAgICAgIGlmICghc3VwZXIudXBkYXRlQnJhbmNoRmlyc3Qoc3RuSWQsIGRpcmVjdGlvbiwgZmlyc3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkTGluZU51bSgpO1xuICAgICAgICB0aGlzLmxvYWREaXJlY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdXBkYXRlQnJhbmNoUG9zKHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCBwb3M6IDAgfCAxKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZUJyYW5jaFBvcyhzdG5JZCwgZGlyZWN0aW9uLCBwb3MpO1xuICAgICAgICB0aGlzLmxvYWRMaW5lTnVtKCk7XG4gICAgICAgIHRoaXMubG9hZERpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0U1ZHKGxpbmUpIHtcbiAgICAgICAgc3VwZXIuaW5pdFNWRyhsaW5lKTtcbiAgICAgICAgbGluZS5sb2FkTGluZU51bSgpO1xuICAgICAgICBsaW5lLmxvYWRMaW5lTmFtZSgpO1xuICAgICAgICBsaW5lLmxvYWREaXJlY3Rpb24oKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFJNR0xpbmVHWiB9OyIsImltcG9ydCB7IFJNR1N0YXRpb24sIEludEluZm9UYWcsIEludGVyY2hhbmdlSW5mbyB9IGZyb20gJy4vU3RhdGlvbic7XG5pbXBvcnQgeyBJRCwgTmFtZSwgQnJhbmNoSW5mbywgU3RhdGlvbkluZm8gfSBmcm9tICcuLi91dGlscyc7XG5cbmNsYXNzIFJNR1N0YXRpb25HWiBleHRlbmRzIFJNR1N0YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xuICAgICAgICB0aGlzLnN0bk51bSA9IGRhdGEubnVtO1xuICAgIH1cblxuICAgIGdldCBuYW1lQ2xhc3MoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1Bhc3MnO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnQ3VycmVudEdaJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdGdXR1cmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IF9uYW1lU2hpZnQoKSB7cmV0dXJuIGZhbHNlO31cbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gdGhpcy55ID4gMCA/IDE4MCA6IDA7fVxuXG4gICAgZ2V0IGljb25IVE1MKCkge1xuICAgICAgICB2YXIgW2ljb25UeXBlLCBudW1DbGFzc10gPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyBbJ3N0bl9nel9wYXNzJywnUGFzcyddIDogWydzdG5fZ3onLCdGdXR1cmUnXTtcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHsgdHJhbnNmb3JtOmB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlgIH0pXG4gICAgICAgICAgICAuYXBwZW5kKCQoJzx1c2U+JywgeyAneGxpbms6aHJlZic6ICcjJyArIGljb25UeXBlLCBjbGFzczogJ3JtZy1zdG4nIH0pKVxuICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKCc8Zz4nLCB7IGNsYXNzOiAnTmFtZSAnICsgbnVtQ2xhc3MgfSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGV4dD4nLCB7IGNsYXNzOidybWctbmFtZV9femggcm1nLW5hbWVfX2d6bXRyLS1saW5lLW51bScgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRleHQ+JywgeyBjbGFzczoncm1nLW5hbWVfX3poIHJtZy1uYW1lX19nem10ci0tc3RhdGlvbi1udW0nLCB4OjAgfSkudGV4dCh0aGlzLnN0bk51bSkpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBuYW1lSFRNTCgpIHtcbiAgICAgICAgdmFyIG5hbWVFTkxuID0gdGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJykubGVuZ3RoO1xuICAgICAgICBsZXQgZHg6IG51bWJlcjtcbiAgICAgICAgaWYgKHRoaXMuX25hbWVTaGlmdCkge1xuICAgICAgICAgICAgZHggPSB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAtOSA6IDE2ICsgKG5hbWVFTkxuLTEpKjEyICogTWF0aC5jb3MoLTQ1KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKDI0ICsgKG5hbWVFTkxuLTEpKjEyKSAqIE1hdGguY29zKC00NSkgOiAtNjtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXQgZHggPSB0aGlzLl9uYW1lU2hpZnQgPyAtOCA6ICgyNCArIChuYW1lRU5Mbi0xKSoxMikgKiBNYXRoLmNvcygtNDUpO1xuICAgICAgICBsZXQgZHkgPSB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAoLTQgLSAyMS45MjE4NzUgLSAobmFtZUVOTG4tMSkqMTIqTWF0aC5jb3MoLTQ1KSkgOiAxNy41O1xuICAgICAgICAvLyB2YXIgZHkgPSAoLTQgLSAyMS45MjE4NzUgLSAobmFtZUVOTG4tMSkqMTIqTWF0aC5jb3MoLTQ1KSkgKiAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMSA6IC0xKTtcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54IC0gZHh9LCR7dGhpcy55ICsgZHl9KXJvdGF0ZSgtNDUpYCwgXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAnc3RhcnQnIDogJ2VuZCcsIFxuICAgICAgICAgICAgY2xhc3M6IGBOYW1lICR7dGhpcy5uYW1lQ2xhc3N9YFxuICAgICAgICB9KS5hcHBlbmQoXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19nem10ci0tc3RhdGlvbicpLnRleHQodGhpcy5uYW1lWzBdKVxuICAgICAgICApLmFwcGVuZChcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcbiAgICAgICAgICAgICAgICBkeTogMTUsIGNsYXNzOiAncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19nem10ci0tc3RhdGlvbidcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKCc8dHNwYW4+Jywge1xuICAgICAgICAgICAgICAgICAgICAneCc6IDAsICdkeSc6IDEwLCBjbGFzczogJ3JtZy1uYW1lX19lbiBybWctbmFtZV9fZ3ptdHItLXN0YXRpb24nXG4gICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmNsYXNzIEludFN0YXRpb25HWiBleHRlbmRzIFJNR1N0YXRpb25HWiB7XG4gICAgcHJpdmF0ZSBfaW50SW5mb3M6IEludGVyY2hhbmdlSW5mb1tdO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS5pbnRlcmNoYW5nZVswXTtcbiAgICB9XG5cbiAgICAvLyBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gMDt9XG5cbiAgICBnZXQgaW50VGlja0hUTUwoKSB7XG4gICAgICAgIHZhciB0aWNrcyA9IHRoaXMuX2ludEluZm9zXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGluZm8gPT4gaW5mb1tJbnRJbmZvVGFnLmNvbG91cl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChjb2xvdXIsaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggLSAyKih0aGlzLl9pbnRJbmZvcy5sZW5ndGgtMSkgKyA0KmlkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnPHVzZT4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnR0aWNrX2d6JywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogdGhpcy5zdGF0ZT09LTEgPyAnI2FhYScgOiBjb2xvdXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt4fSwke3RoaXMueX0pcm90YXRlKCR7dGhpcy5fdGlja1JvdGF0aW9ufSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtjbGFzczoncm1nLWxpbmUgcm1nLWxpbmVfX2d6bXRyIHJtZy1saW5lX19jaGFuZ2UnfSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCguLi50aWNrcyk7XG4gICAgfVxuXG4gICAgZ2V0IGludE5hbWVIVE1MKCkge1xuICAgICAgICB2YXIgaW50TmFtZVpIc3MgPSB0aGlzLl9pbnRJbmZvc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoaW5mbyA9PiBpbmZvW0ludEluZm9UYWcubmFtZVpIXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKG5hbWUgPT4gbmFtZS5tYXRjaCgvW1xcZF0rfFtcXERdKy9nKSB8fCBbJyddKTtcblxuICAgICAgICB2YXIgaW50VGV4dFpIRWxzID0gaW50TmFtZVpIc3MubWFwKFxuICAgICAgICAgICAgKG5hbWVzLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgaW50TmFtZVNwbGl0T2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIobmFtZXNbMF0pKSAmJiBpc05hTihOdW1iZXIobmFtZXNbMV0pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50TmFtZVNwbGl0T2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJzx0ZXh0PicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiA4LjUgKyBpZHgqMjggKiAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMSA6IC0xKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdybWctbmFtZV9femggcm1nLW5hbWVfX2d6bXRyLS1pbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8dHNwYW4+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzonMTZweCcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWxpZ25tZW50LWJhc2VsaW5lJzonY2VudHJhbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChpbnROYW1lU3BsaXRPayA/IG5hbWVzWzBdIDogJycpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7ZHk6LTAuNSwgJ2FsaWdubWVudC1iYXNlbGluZSc6J2NlbnRyYWwnfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoaW50TmFtZVNwbGl0T2sgPyBuYW1lc1sxXSA6IG5hbWVzLmpvaW4oJycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBcbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgaW50VGV4dEVORWxzID0gdGhpcy5faW50SW5mb3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGluZm8gPT4gaW5mb1tJbnRJbmZvVGFnLm5hbWVFTl0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgobmFtZSxpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gJCgnPHRleHQ+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMTkuNSArIGlkeCoyOCAqICh0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAxIDogLTEpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAncm1nLW5hbWVfX2VuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5hZGRDbGFzcyhuYW1lLmxlbmd0aD4xMCA/ICdybWctbmFtZV9fZ3ptdHItLWludC1zbWFsbCcgOiAncm1nLW5hbWVfX2d6bXRyLS1pbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ludEluZm9zXG4gICAgICAgICAgICAubWFwKGluZm8gPT4gaW5mb1tJbnRJbmZvVGFnLmZnXSlcbiAgICAgICAgICAgIC5tYXAoKGZnLGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmZyA9PSAnI2ZmZicgfHwgdGhpcy5zdGF0ZSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBbaW50VGV4dFpIRWxzW2lkeF0sIGludFRleHRFTkVsc1tpZHhdXSA9IFtpbnRUZXh0WkhFbHNbaWR4XSwgaW50VGV4dEVORWxzW2lkeF1dLm1hcChlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuYWRkQ2xhc3MoJ3JtZy1uYW1lX19nem10ci0td2hpdGUtZmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGludEJveEVscyA9IHRoaXMuX2ludEluZm9zLm1hcChpbmZvID0+IGluZm9bSW50SW5mb1RhZy5jb2xvdXJdKS5tYXAoKGNvbG91cixpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAkKCc8dXNlPicsIHtcbiAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6JyNpbnRib3hfZ3onLCBcbiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLnN0YXRlPT0tMSA/ICcjYWFhJyA6IGNvbG91ciwgXG4gICAgICAgICAgICAgICAgeTogaWR4ICogMjggKiAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMSA6IC0xKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJywgXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55ICsgKHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/IDIzIDogLTQ3KX0pYFxuICAgICAgICB9KS5hcHBlbmQoLi4uaW50Qm94RWxzLCAuLi5pbnRUZXh0WkhFbHMsIC4uLmludFRleHRFTkVscyk7XG4gICAgfVxuXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmludFRpY2tIVE1MLCB0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MLCB0aGlzLmludE5hbWVIVE1MXTtcbiAgICB9XG59XG5cbmNsYXNzIEJyYW5jaFN0YXRpb25HWiBleHRlbmRzIEludFN0YXRpb25HWiB7XG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8sIGxpbmVJbmYpIHtcbiAgICAgICAgZGF0YS5pbnRlcmNoYW5nZVswXS51bnNoaWZ0KGxpbmVJbmYpO1xuICAgICAgICBpZiAoZGF0YS5pbnRlcmNoYW5nZVsxXSkge1xuICAgICAgICAgICAgZGF0YS5pbnRlcmNoYW5nZVswXS5wdXNoKC4uLmRhdGEuaW50ZXJjaGFuZ2VbMV0uc2xpY2UoMSkpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcbiAgICB9XG5cbiAgICBnZXQgX25hbWVTaGlmdCgpIHtyZXR1cm4gdHJ1ZTt9XG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5wYXJlbnRzLmluZGV4T2YodGhpcy5icmFuY2gubGVmdFsxXSkgPT09IDAgfHwgdGhpcy5jaGlsZHJlbi5pbmRleE9mKHRoaXMuYnJhbmNoLnJpZ2h0WzFdKSA9PT0gMCkgPyAwIDogMTgwO1xuICAgIH1cbn1cblxuY2xhc3MgT1NJU3RhdGlvbkdaIGV4dGVuZHMgSW50U3RhdGlvbkdaIHtcbiAgICBjb25zdHJ1Y3RvciAoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xuICAgICAgICBkYXRhLmludGVyY2hhbmdlWzBdLnB1c2goLi4uZGF0YS5pbnRlcmNoYW5nZVsxXS5zbGljZSgxKSk7XG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFJNR1N0YXRpb25HWiwgSW50U3RhdGlvbkdaLCBCcmFuY2hTdGF0aW9uR1osIE9TSVN0YXRpb25HWiB9OyJdLCJzb3VyY2VSb290IjoiIn0=