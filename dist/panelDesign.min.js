(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{37:function(e,t,n){var a={"./beijing":[12,1],"./beijing.ts":[12,1],"./chengdu":[13,7],"./chengdu.ts":[13,7],"./chongqing":[14,18],"./chongqing.ts":[14,18],"./dongguan":[15,21],"./dongguan.ts":[15,21],"./edinburgh":[16,22],"./edinburgh.ts":[16,22],"./foshan":[17,2],"./foshan.ts":[17,2],"./glasgow":[18,3],"./glasgow.ts":[18,3],"./guangzhou":[19,4],"./guangzhou.ts":[19,4],"./hongkong":[20,5],"./hongkong.ts":[20,5],"./kaohsiung":[21,6],"./kaohsiung.ts":[21,6],"./london":[22,8],"./london.ts":[22,8],"./macau":[23,9],"./macau.ts":[23,9],"./newtaipei":[24,10],"./newtaipei.ts":[24,10],"./other":[25,11],"./other.ts":[25,11],"./sanfrancisco":[26,12],"./sanfrancisco.ts":[26,12],"./seoul":[27,13],"./seoul.ts":[27,13],"./shanghai":[28,14],"./shanghai.ts":[28,14],"./shenzhen":[29,15],"./shenzhen.ts":[29,15],"./taipei":[30,16],"./taipei.ts":[30,16],"./tokyo":[31,17],"./tokyo.ts":[31,17],"./toronto":[32,19],"./toronto.ts":[32,19],"./xi'an":[33,20],"./xi'an.ts":[33,20]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=37,e.exports=o},39:function(e,t,n){"use strict";var a=n(0),o=n(3),r=n(1),i=n(5),l=[{id:"beijing",country:"CN",name:{en:"Beijing",zh:"北京"}},{id:"chengdu",country:"CN",name:{en:"Chengdu",zh:"成都"}},{id:"chongqing",country:"CN",name:{en:"Chongqing","zh-Hans":"重庆","zh-Hant":"重慶"}},{id:"dongguan",country:"CN",name:{en:"Dongguan","zh-Hans":"东莞","zh-Hant":"東莞"}},{id:"edinburgh",country:"GBSCT",name:{en:"Edinburgh",ga:"Dùn Èideann","zh-Hans":"爱丁堡","zh-Hant":"愛丁堡"}},{id:"foshan",country:"CN",name:{en:"Foshan",zh:"佛山"}},{id:"glasgow",country:"GBSCT",name:{en:"Glasgow",ga:"Glaschu",zh:"格拉斯哥"}},{id:"guangzhou",country:"CN",name:{en:"Guangzhou","zh-Hans":"广州","zh-Hant":"廣州"}},{id:"hongkong",country:"HK",name:{en:"Hong Kong",zh:"香港"}},{id:"kaohsiung",country:"TW",name:{en:"Kaohsiung",zh:"高雄"}},{id:"london",country:"GBENG",name:{en:"London","zh-Hans":"伦敦","zh-Hant":"倫敦"}},{id:"macau",country:"MO",name:{en:"Macao",pt:"Macau","zh-Hans":"澳门","zh-Hant":"澳門"}},{id:"newtaipei",country:"TW",name:{en:"New Taipei",zh:"新北"}},{id:"sanfrancisco",country:"US",name:{en:"San Francisco","zh-Hans":"旧金山","zh-HK":"三藩市","zh-TW":"舊金山"}},{id:"seoul",country:"KR",name:{en:"Seoul (Metropolitan Area)",ko:"서울(수도권)","zh-Hans":"首尔（首都圈）","zh-Hant":"首爾（首都圈）"}},{id:"shanghai",country:"CN",name:{en:"Shanghai",zh:"上海"}},{id:"shenzhen",country:"CN",name:{en:"Shenzhen",zh:"深圳"}},{id:"taipei",country:"TW",name:{en:"Taipei","zh-Hans":"台北","zh-Hant":"臺北"}},{id:"tokyo",country:"JP",name:{en:"Tokyo (Greater Tokyo Area)",ja:"東京（首都圏）","zh-Hans":"东京（首都圈）","zh-Hant":"東京（首都圈）"}},{id:"toronto",country:"CA",name:{en:"Toronto","zh-Hans":"多伦多","zh-Hant":"多倫多"}},{id:"xian",country:"CN",name:{en:"Xi'an",zh:"西安"}},{id:"other",country:"UN",name:{en:"Customise (Beta)","zh-Hans":"自定义 (Beta)","zh-Hant":"自訂 (Beta)"}}],c=function(){return(c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},m=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},s=Object(r.makeStyles)((function(){return Object(r.createStyles)({cityItem:{display:"flex",flexDirection:"row",alignItems:"center"},menuItemSpan:{padding:"0 .3rem"},button:{borderRadius:"50%",height:28,width:28,minWidth:0,marginRight:8,border:"solid",padding:0},inputColour:{position:"absolute",width:0,height:0,left:27,top:32},buttonContainer:{display:"flex",flexShrink:1}})})),h=a.memo((function(e){var t,m,h=s(),d=Object(o.useTranslation)(),g=d.t,p=d.i18n,y=u(a.useState(e.theme[2]),2),E=y[0],v=y[1],b=function(e){var t=u(a.useState([]),2),o=t[0],r=t[1],i=e[0]?n(37)("./"+e[0]).then((function(e){return e.default})):Promise.resolve([]);return a.useEffect((function(){void 0!==e[0]&&("other"===e[0]?i.then((function(t){r(t.map((function(t,n){return 0===n?c(c({},t),{colour:e[2],fg:e[3]||"#fff"}):c({},t)})))})):i.then((function(e){return r(e)})))}),[e.toString()]),o}(e.theme);a.useEffect((function(){if(0!==b.length&&!b.filter((function(t){return t.id===e.theme[1]})).length){var t=[e.theme[0],b[0].id,b[0].colour,b[0].fg||"#fff"];e.onUpdate("theme",t)}}),[b]);a.useEffect((function(){v(e.theme[2])}),[e.theme[2]]);return a.createElement(a.Fragment,null,a.createElement(r.ListItem,null,a.createElement(r.ListItemIcon,null,a.createElement(r.Icon,null,"location_city")),a.createElement(r.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:g("colour.city"),onChange:function(t){var n=e.theme.map((function(e,n){return 0===n?t.target.value:e}));e.onUpdate("theme",n)},value:e.theme[0]},l.map((function(e){return a.createElement(r.MenuItem,{key:e.id,value:e.id},a.createElement("span",{className:h.cityItem},a.createElement(f,{code:e.country}),a.createElement("span",null,Object(i.b)(e.name,p.languages))))})))),a.createElement(r.ListItem,null,a.createElement(r.ListItemIcon,null,a.createElement(r.Icon,null,"subway")),a.createElement(r.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:g("colour.line"),onChange:function(t){var n=t.target.value,a=[e.theme[0],n,b.filter((function(e){return e.id===n}))[0].colour,b.filter((function(e){return e.id===n}))[0].fg||"#fff"];e.onUpdate("theme",a)},value:e.theme[1]},b.map((function(e){return a.createElement(r.MenuItem,{key:e.id,value:e.id},a.createElement("span",{className:h.menuItemSpan,style:{backgroundColor:e.colour,color:e.fg||"#fff"}},Object(i.b)(e.name,p.languages)))})))),a.createElement(r.ListItem,null,a.createElement("div",{className:h.buttonContainer},a.createElement("input",{type:"color",id:"input-color",value:e.theme[2],onChange:function(t){var n=t.target.value;if(v(n),"other"!==e.theme[0]){var a=["other",e.theme[1],n,e.theme[3]];e.onUpdate("theme",a)}else{a=e.theme.map((function(e,t){return 2===t?n:e}));e.onUpdate("theme",a)}},className:h.inputColour}),a.createElement("label",{htmlFor:"input-color"},a.createElement(r.Tooltip,{title:g("colour.tooltip"),"aria-label":"colour picker"},a.createElement(r.Button,{className:h.button,style:{backgroundColor:e.theme[2],borderColor:e.theme[3]||"#fff"},variant:"contained",component:"span"}," ")))),a.createElement(r.TextField,{error:!(null===(t=E)||void 0===t?void 0:t.match(/^#[0-9a-fA-f]{6}$/g)),style:{width:"100%",marginRight:5},variant:"outlined",label:g("colour.colour"),onChange:function(t){var n=t.target.value;if(null!==n.match(/^#[0-9a-fA-f]{0,6}$/))if(v(n),"other"!==e.theme[0])if(null!==n.match(/^#[0-9a-fA-f]{6}$/)){var a=["other",e.theme[1],n,e.theme[3]];e.onUpdate("theme",a)}else{a=["other",e.theme[1],e.theme[2],e.theme[3]];e.onUpdate("theme",a)}else if(null!==n.match(/^#[0-9a-fA-f]{6}$/)){a=e.theme.map((function(e,t){return 2===t?n:e}));e.onUpdate("theme",a)}},value:null===(m=E)||void 0===m?void 0:m.toUpperCase()}),a.createElement(r.TextField,{select:!0,style:{width:"100%"},variant:"outlined",label:g("colour.fg"),onChange:function(t){var n=["other","other",e.theme[2],t.target.value];e.onUpdate("theme",n)},value:e.theme[3]||"#fff"},a.createElement(r.MenuItem,{key:"#fff",value:"#fff"},g("colour.fgWhite")),a.createElement(r.MenuItem,{key:"#000",value:"#000"},g("colour.fgBlack")))))}),(function(e,t){return e.theme.toString()===t.theme.toString()})),d=Object(r.makeStyles)((function(){return Object(r.createStyles)({img:{height:20,marginRight:"0.2rem"}})}));function f(e){var t=Object(o.useTranslation)().i18n,n=d(),r=[];return 2===e.code.length?r=e.code.toUpperCase().split("").map((function(e){return(e.codePointAt(0)+127397).toString(16).toUpperCase()})):(r=["1F3F4","E007F"]).splice.apply(r,m([1,0],e.code.toUpperCase().split("").map((function(e){return(e.codePointAt(0)+917536).toString(16).toUpperCase()})))),["zh-CN","zh-Hans"].includes(t.language)&&"TW"===e.code&&(r=["1F3F4"]),-1!==navigator.platform.indexOf("Win32")||-1!==navigator.platform.indexOf("Win64")?a.createElement("img",{src:"./images/flags/"+r.join("-")+".svg",className:n.img}):a.createElement("span",null,String.fromCodePoint.apply(String,m(r.map((function(e){return parseInt(e,16)})))))}var g=Object(r.makeStyles)((function(e){return Object(r.createStyles)({paperRoot:{width:250},listItemPaper:{justifyContent:"center"},iconRoot:{position:"absolute",color:e.palette.action.active},inputBaseRoot:{display:"block"},inputBaseInputZH:{textAlign:"center",fontSize:36,padding:0,paddingTop:6,height:45},inputBaseInputEN:{textAlign:"center",fontSize:18,padding:0,paddingBottom:6,height:"auto"}})})),p=a.memo((function(e){var t=g(),n=Object(o.useTranslation)().t,i=function(t,n){var a=e.lineName.map((function(e,a){return a===n?t:e}));e.onUpdate("name",a)},l=function(){e.onClose()};return a.createElement(r.Dialog,{onClose:l,open:e.open},a.createElement(r.DialogTitle,null,n("colour.title")),a.createElement(r.DialogContent,{dividers:!0},a.createElement(r.List,null,a.createElement(r.ListItem,{className:t.listItemPaper},a.createElement(r.Paper,{className:t.paperRoot,style:{backgroundColor:e.theme[2]}},a.createElement(r.Icon,{className:t.iconRoot},"edit"),a.createElement(r.InputBase,{value:e.lineName[0],classes:{root:t.inputBaseRoot,input:t.inputBaseInputZH},style:{color:e.theme[3]||"#fff"},onChange:function(e){return i(e.target.value,0)},autoFocus:!0}),a.createElement(r.InputBase,{value:e.lineName[1],classes:{root:t.inputBaseRoot,input:t.inputBaseInputEN},style:{color:e.theme[3]||"#fff"},onChange:function(e){return i(e.target.value,1)}}))),a.createElement(h,{theme:e.theme,onUpdate:e.onUpdate}))),a.createElement(r.DialogActions,null,a.createElement(r.Button,{onClick:l,color:"primary"},n("dialog.done"))))}),(function(e,t){return e.open===t.open&&e.lineName.toString()===t.lineName.toString()&&e.theme.toString()===t.theme.toString()}));t.a=p},81:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(1),r=n(3),i=n(39),l=n(2),c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,r=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i},u=Object(o.makeStyles)((function(e){return Object(o.createStyles)({dividerVertical:{margin:e.spacing(0,2)}})})),m=function(){var e=Object(r.useTranslation)().t,t=a.useContext(l.b),n=t.param,u=t.dispatch,m=c(a.useState(!1),2),d=m[0],f=m[1];return a.createElement(a.Fragment,null,a.createElement(o.ListItem,{button:!0,onClick:function(){return f(!0)}},a.createElement(o.ListItemIcon,null,a.createElement(o.Icon,null,"color_lens")),a.createElement(o.ListItemText,{primary:e("design.theme"),secondary:a.createElement("span",{style:{backgroundColor:n.theme[2],color:n.theme[3],padding:".1rem .3rem"}},Object.values(n.line_name).join())}),a.createElement(o.Icon,{color:"action"},"arrow_right")),a.createElement(i.a,{open:d,theme:n.theme,lineName:n.line_name,onUpdate:function(e,t){"name"===e&&u({type:"SET_LINE_NAME",name:Object.values(t)}),"theme"===e&&u({type:"SET_THEME",theme:t})},onClose:function(){return f(!1)}}),a.createElement(o.Divider,null),a.createElement(s,null),a.createElement(o.Divider,null),a.createElement(h,null))},s=function(){var e=Object(r.useTranslation)().t,t=u(),n=a.useContext(l.b),i=n.param,c=n.dispatch;return a.useMemo((function(){return a.createElement(o.ListItem,null,a.createElement(o.ListItemIcon,null,a.createElement(o.Icon,null,"directions")),a.createElement(o.ListItemText,{primary:e("design.direction.button"),secondary:e("design.direction."+i.direction)}),a.createElement(o.Divider,{orientation:"vertical",flexItem:!0,className:t.dividerVertical}),a.createElement(o.Button,{variant:"outlined",color:"primary",onClick:function(){return c({type:"SET_DIRECTION"})}},e("design.direction.switch")))}),[t.dividerVertical,i.direction])},h=function(){var e=Object(r.useTranslation)().t,t=a.useContext(l.b),n=t.param,i=t.dispatch;return a.useMemo((function(){return a.createElement(o.ListItem,null,a.createElement(o.ListItemIcon,null,a.createElement(o.Icon,null,"looks_one")),a.createElement(o.ListItemText,{primary:e("design.platform")}),a.createElement(o.TextField,{value:n.platform_num,onChange:function(e){return i({type:"SET_PLATFORM",platform:e.target.value})}}))}),[n.platform_num])},d=a.lazy((function(){return n.e(51).then(n.bind(null,71))})),f=a.lazy((function(){return n.e(50).then(n.bind(null,72))})),g=function(){return a.createElement(o.Grid,{container:!0,spacing:3,justify:"center",alignItems:"flex-start"},a.createElement(o.Grid,{item:!0,xs:12,sm:10,md:7,lg:5},a.createElement(o.Paper,null,a.createElement(o.List,{component:"div",disablePadding:!0},a.createElement(m,null),"mtr"===window.urlParams.get("style")&&a.createElement(a.Suspense,{fallback:a.createElement(o.LinearProgress,null)},a.createElement(o.Divider,null),a.createElement(d,null)),"gzmtr"===window.urlParams.get("style")&&a.createElement(a.Suspense,{fallback:a.createElement(o.LinearProgress,null)},a.createElement(o.Divider,null),a.createElement(f,null))))))};t.default=g}}]);