(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{17:function(e,t,i){"use strict";i.r(t),i.d(t,"common",(function(){return m})),i.d(t,"mtr",(function(){return _})),i.d(t,"gzmtr",(function(){return r}));var n=i(0),a=i(6),l=i(3),o=i(11),c=i(10),d=i(12),s=i(4);function m(){const e=a.MDCList.attachTo($("#design_list")[0]),[t,i]=["#design_theme_diag","#line_name_diag"].map(e=>l.MDCDialog.attachTo($(e)[0])),[d,m]=["#theme_city","#theme_line"].map(e=>new o.MDCSelect($(e)[0])),[_,r]=["#name_zh","#name_en"].map(e=>c.MDCTextField.attachTo($("#line_name_diag").find(e)[0])),g=c.MDCTextField.attachTo($("#platform_num")[0]);$("#panel_design .mdc-list li").map((e,t)=>new s.MDCRipple(t));const p=e=>$("#design_list").find(`li#direc p#${e}`).text();Promise.resolve(Object(n.g)()).then(e=>{$("#design_list").find("li#name .mdc-list-item__secondary-text").text(e.line_name.join()),_.value=e.line_name[0],r.value=e.line_name[1],$("#design_list").find("li#direc .mdc-list-item__secondary-text").text(p(e.direction)),g.value=e.platform_num}),$.getJSON("data/city_list.json",e=>{let t=window.urlParams.get("lang");e.forEach(e=>{$("#theme_city__selection").append($("<li>",{class:"mdc-list-item","data-value":e.id}).text(Object(n.d)(e.country)+Object(n.i)(e.name,t)))}),$("#theme_city__selection li").map((e,t)=>new s.MDCRipple(t));var[i]=Object(n.g)().theme,a=$(`#theme_city__selection > [data-value="${i}"]`).index();d.selectedIndex=a}),e.listen("MDCList:action",e=>{switch(e.detail.index){case 0:t.open();break;case 1:i.open();break;case 2:"r"==Object(n.g)().direction?(console.log("right to left"),window.myLine.direction="l",$("#design_list").find("li#direc .mdc-list-item__secondary-text").text(p("l"))):(console.log("left to right"),window.myLine.direction="r",$("#design_list").find("li#direc .mdc-list-item__secondary-text").text(p("r")));break;case 4:window.myLine.reverseStns()}}),t.listen("MDCDialog:opened",()=>{[d,m].map(e=>e.layout())}),d.listen("MDCSelect:change",e=>{let t=e.detail.value;$("#theme_line__selection").empty(),$.getJSON(`data/${t}.json`,e=>{var i=window.urlParams.get("lang");e.forEach(e=>{$("#theme_line__selection").append($("<li>",{class:"mdc-list-item","data-value":e.id}).append($("<span>").css({background:e.colour,color:e.fg||"#fff"}).text(" "+Object(n.i)(e.name,i)+" ")))}),$("#theme_line__selection li").map((e,t)=>new s.MDCRipple(t));var a=Object(n.g)();a.theme[0]=t,Object(n.l)(a);var l=$(`#theme_line__selection > [data-value="${a.theme[1]}"]`).index();m.selectedIndex=-1==l?0:l})}),m.listen("MDCSelect:change",e=>{let t=e.detail.index;var i=Object(n.g)();i.theme[1]=e.detail.value,Object(n.l)(i),window.myLine.themeLine=e.detail.value,window.myLine.themeColour=["background-color","color"].map(e=>$("#theme_line__selection span").eq(t).css(e)).map(n.m),$("#design_list").find("li#theme .mdc-list-item__secondary-text").html($("#theme_city__selection li").eq(d.selectedIndex).text()+" "+$("#theme_line__selection li").eq(t).html().trim())}),i.listen("MDCDialog:opened",e=>{[_,r].map(e=>e.layout())}),$("#line_name_diag").find(".mdc-text-field").on("input",()=>{let e=[_,r].map(e=>e.value);window.myLine.lineNames=e,$("#design_list").find("li#name .mdc-list-item__secondary-text").text(e.join())}),$(g.root_).find("input").on("input",e=>window.myLine.platformNum=e.target.value)}function _(){const e=a.MDCList.attachTo($("#design_list_mtr")[0]),t=l.MDCDialog.attachTo($("#design_char_diag")[0]),i=new d.MDCSwitch($("#legacy")[0]);Promise.resolve(Object(n.g)()).then(e=>{$("#design_char_diag")[0].dispatchEvent(new CustomEvent("MDCDialog:closed",{detail:{action:e.char_form}})),i.checked=e.dest_legacy}),e.listen("MDCList:action",e=>{switch(e.detail.index){case 0:window.myLine.txtFlip=!Object(n.g)().txt_flip;break;case 1:t.open()}}),t.listen("MDCDialog:closed",e=>{let t=e.detail.action;"close"!=t&&(window.myLine.charForm=t,$("#design_list_mtr").find("li#char .mdc-list-item__secondary-text").text((e=>$("#design_char_diag").find("li").filter((t,i)=>i.dataset.mdcDialogAction===e).find("span").text())(t)))}),$(i.root_).find("input").on("change",e=>window.myLine.destLegacy=e.target.checked)}function r(){const e=a.MDCList.attachTo($("#design_list_gzmtr")[0]),t=l.MDCDialog.attachTo($("#panel_type_diag")[0]),[i,o]=["#psd_num","#line_num"].map(e=>c.MDCTextField.attachTo($(e)[0]));Promise.resolve(Object(n.g)()).then(e=>{i.value=e.psd_num,o.value=e.line_num}),e.listen("MDCList:action",e=>{switch(e.detail.index){case 1:t.open()}}),$(o.root_).find("input").on("input",e=>window.myLine.lineNum=e.target.value),$(i.root_).find("input").on("input",e=>window.myLine.psdNum=e.target.value),t.listen("MDCDialog:closed",e=>{"close"!==e.detail.action&&(window.myLine.infoPanelType=e.detail.action)})}}}]);