(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i},l=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};t.default=function(){var e=r.useContext(a.b),t=e.param,n=e.routes,s=t.svg_height-300,i=r.useMemo((function(){return n.filter((function(e){return e.includes(t.current_stn_idx)})).map((function(e){return e[e.indexOf(t.current_stn_idx)+("l"==t.direction?1:-1)]})).flat().reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])}),[n.toString(),t.current_stn_idx,t.direction]),l=r.useMemo((function(){return n.filter((function(e){return e.includes(t.current_stn_idx)})).map((function(e){return e[e.indexOf(t.current_stn_idx)+("l"==t.direction?-1:1)]})).flat().reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])}),[n.toString(),t.current_stn_idx,t.direction]);return r.createElement("g",{id:"run_in_shmetro"},1==l.length&&["linestart","lineend"].includes(l[0])?r.createElement(m,{dh:s,stnIds:i}):1==i.length&&["linestart","lineend"].includes(i[0])?r.createElement(d,{dh:s,stnIds:l}):r.createElement(c,{dh:s,prevStnIds:i,nextStnIds:l}))};var m=function(e){var t=r.useContext(a.b).param;return r.createElement(r.Fragment,null,r.createElement("path",{id:"run_in_line_shmetro",transform:"translate(0,"+(220+e.dh)+")",fill:"gray",d:"M24,10 H "+(t.svgWidth.runin-20)+" V 22 H 24 Z"}),r.createElement("g",{id:"current_text",transform:"l"===t.direction?"translate(30, "+(e.dh+160)+")":"translate("+(t.svgWidth.runin-30)+", "+(e.dh+160)+")",textAnchor:"l"===t.direction?"start":"end"},r.createElement(o,null)),r.createElement(_,s({},e)))},d=function(e){var t=r.useContext(a.b).param;return r.createElement(r.Fragment,null,r.createElement("path",{id:"run_in_line_shmetro",transform:"translate(0,"+(220+e.dh)+")",fill:"var(--rmg-theme-colour)",d:"l"===t.direction?"M38,10 H "+(t.svgWidth.runin-20)+" l 0,12 H 24 Z":"M24,10 H "+(t.svgWidth.runin-30)+" l 12,12 H 24 Z"}),r.createElement("g",{id:"current_text",transform:"l"===t.direction?"translate("+(t.svgWidth.runin-30)+", "+(e.dh+160)+")":"translate(30, "+(e.dh+160)+")",textAnchor:"l"===t.direction?"end":"start"},r.createElement(o,null)),r.createElement(h,s({},e)))},c=function(e){var t=r.useContext(a.b).param,n=t.svgWidth.runin/2;return r.createElement(r.Fragment,null,r.createElement("path",{id:"run_in_line_shmetro",transform:"translate(0,"+(220+e.dh)+")",fill:"var(--rmg-theme-colour)",d:"l"===t.direction?"M 38,10 H "+n+" V 22 H 24 Z":"M "+n+",10 H "+(t.svgWidth.runin-30)+" l 12,12 H "+n+" Z"}),r.createElement("path",{id:"run_in_line_shmetro_pass",fill:"gray",transform:"translate(0,"+(220+e.dh)+")",d:"l"===t.direction?"M "+n+",10 H "+(t.svgWidth.runin-30)+" l 0,12 H "+n+" Z":"M 24,10 H "+n+" l 0,12 H 24 Z"}),e.nextStnIds.length>1&&r.createElement("g",{id:"run_in_branch_shmetro",transform:"translate(0,"+(110+e.dh)+")"},r.createElement("path",{id:"run_in_line_branch_shmetro",fill:"var(--rmg-theme-colour)",d:"l"===t.direction?"M 38,10 H "+(t.svgWidth.runin/6+3)+" V 22 H 24 Z":"M "+(t.svgWidth.runin/6*5-3)+",10 H "+(t.svgWidth.runin-30)+" l 12,12 H "+(t.svgWidth.runin/6*5-3)+" Z"}),r.createElement("line",{id:"run_in_line_branch_slash_shmetro",stroke:"var(--rmg-theme-colour)",strokeWidth:"12",x1:"l"===t.direction?t.svgWidth.runin/6:t.svgWidth.runin/6*5,y1:15,x2:"l"===t.direction?t.svgWidth.runin/3:t.svgWidth.runin/6*4,y2:125})),e.prevStnIds.length>1&&r.createElement("g",{id:"run_in_branch_shmetro_pass",transform:"translate(0,"+(110+e.dh)+")"},r.createElement("path",{id:"run_in_line_branch_shmetro_pass",fill:"gray",d:"l"===t.direction?"M "+(t.svgWidth.runin/6*5-3)+",10 H "+(t.svgWidth.runin-30)+" l 0,12 H "+(t.svgWidth.runin/6*5-3)+" Z":"M 24,10 H "+(t.svgWidth.runin/6+3)+" V 22 H 24 Z"}),r.createElement("line",{id:"run_in_line_branch_slash_shmetro_pass",stroke:"gray",strokeWidth:"12",x1:"l"===t.direction?t.svgWidth.runin/6*5:t.svgWidth.runin/6,y1:15,x2:"l"===t.direction?t.svgWidth.runin/6*4:t.svgWidth.runin/3,y2:125})),r.createElement("g",{id:"current_text",transform:"translate("+t.svgWidth.runin/2+", "+(e.dh+160)+")",textAnchor:"middle"},r.createElement(o,null)),r.createElement(h,{dh:e.dh,stnIds:e.nextStnIds}),r.createElement(_,{dh:e.dh,stnIds:e.prevStnIds}))},o=function(){var e=r.useContext(a.b).param;return r.useMemo((function(){return r.createElement(r.Fragment,null,r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"600%"},e.stn_list[e.current_stn_idx].name[0]),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"250%",dy:"50"},e.stn_list[e.current_stn_idx].name[1].replace("\\"," ")))}),l(e.stn_list[e.current_stn_idx].name))},_=function(e){var t=r.useContext(a.b).param,n="l"===t.direction?t.svgWidth.runin-30:30,s="l"===t.direction?-50:50,i="l"===t.direction?"end":"start";return r.createElement(r.Fragment,null,r.createElement("g",{id:"prev_stn_text",transform:"translate("+n+", "+(e.dh+185)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"250%",fill:"gray"},t.stn_list[e.stnIds[0]].name[0]),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"150%",fill:"gray",dy:"25"},t.stn_list[e.stnIds[0]].name[1].replace("\\"," "))),e.stnIds.length>1&&r.createElement("g",{id:"prev_stn_branch_text",transform:"translate("+n+", "+(e.dh+75)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"250%",fill:"gray"},t.stn_list[e.stnIds[1]].name[0]),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"150%",fill:"gray",dy:"25"},t.stn_list[e.stnIds[1]].name[1].replace("\\"," "))),r.createElement("g",{id:"prev_text",transform:"translate("+n+", "+(e.dh-(e.stnIds.length>1?110:0)+140)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"100%",fill:"gray"},"上一站"),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"75%",fill:"gray",dx:s},"Past Stop")))},h=function(e){var t=r.useContext(a.b).param,n="l"===t.direction?30:t.svgWidth.runin-30,s="l"===t.direction?50:-50,i="l"===t.direction?"start":"end";return r.createElement(r.Fragment,null,r.createElement("g",{id:"next_stn_text",transform:"translate("+n+", "+(e.dh+185)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"250%"},t.stn_list[e.stnIds[0]].name[0]),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"150%",dy:"25"},t.stn_list[e.stnIds[0]].name[1].replace("\\"," "))),e.stnIds.length>1&&r.createElement("g",{id:"next_stn_branch_text",transform:"translate("+n+", "+(e.dh+75)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"250%"},t.stn_list[e.stnIds[1]].name[0]),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"150%",dy:"25"},t.stn_list[e.stnIds[1]].name[1].replace("\\"," "))),r.createElement("g",{id:"next_text",transform:"translate("+n+", "+(e.dh-(e.stnIds.length>1?110:0)+140)+")",textAnchor:i},r.createElement("text",{className:"rmg-name__zh rmg-name__shmetro--dest",fontSize:"100%"},"下一站"),r.createElement("text",{className:"rmg-name__en rmg-name__shmetro--dest",fontSize:"75%",dx:s},"Next Stop")))}}}]);