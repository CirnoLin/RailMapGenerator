(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["LineSH"],{

/***/ "./src/Line/LineSH.ts":
/*!****************************!*\
  !*** ./src/Line/LineSH.ts ***!
  \****************************/
/*! exports provided: RMGLineSH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLineSH", function() { return RMGLineSH; });
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");
/* harmony import */ var _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/StationSH */ "./src/Station/StationSH.ts");


class RMGLineSH extends _Line__WEBPACK_IMPORTED_MODULE_0__["RMGLine"] {
    constructor(param) {
        super(param);
    }
    _initStnInstance(stnId, stnInfo) {
        switch (stnInfo.change_type) {
            case 'int2':
            case 'int3_l':
            case 'int3_r':
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
            case 'osi11_ur':
            case 'osi11_pr':
            case 'osi12_ul':
            case 'osi12_pl':
            case 'osi12_ur':
            case 'osi12_pr':
            case 'osi21_ul':
            case 'osi21_pl':
            case 'osi21_ur':
            case 'osi21_pr':
            case 'osi22_ul':
            case 'osi22_pl':
            case 'osi22_ur':
            case 'osi22_pr':
            default:
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["RMGStationSH"](stnId, stnInfo);
        }
    }
    // draw the destination
    drawDestInfo() {
        $('#station_info_shmetro > #platform > text').text(this._platformNum);
        var bcr = $('#station_info_shmetro > #dest_text')[0].getBoundingClientRect();
        var flagLength = 160 + 150 + bcr.width + 45 + 50;
        // arrow
        var isLeft = (this._direction == 'l') ? 1 : -1;
        var arrowX = (this._svgDestWidth - isLeft * flagLength) / 20;
        arrowX = (this._direction == 'l') ? arrowX : this._svgDestWidth - 20;
        var arrowRotate = 90 * (1 - isLeft);
        $('#station_info_shmetro > #arrow_left_use').attr('transform', `translate(${arrowX},135)rotate(${arrowRotate})`);
        // not in use now
        var platformNumX = arrowX + isLeft * (160 + 50 + 75);
        $('#station_info_shmetro > #platform').attr('transform', `translate(${platformNumX},130)`);
        // list the destination text
        // Todo: fix svg_dest_width*0.8, this has only been tested on 1000 width
        if (this._direction === 'r') {
            var txtAnchor = 'end';
            var destNameX = this._svgDestWidth * 0.8;
        }
        else {
            var txtAnchor = 'start';
            var destNameX = this._svgDestWidth * 0.2;
        }
        $('#station_info_shmetro > #dest_text').attr({
            transform: `translate(${destNameX},135)`,
            'text-anchor': txtAnchor
        });
        // for each left valid destinations, get the name from id
        var [destinations_zh, destinations_en] = [[], []];
        this[`${this._direction}ValidDests`].forEach(stn => {
            destinations_zh.push(this.stations[stn].name[0]);
            destinations_en.push(this.stations[stn].name[1]);
        });
        $('#station_info_shmetro > #dest_text > text:first-child').text(`往${destinations_zh.join("，")}`);
        $('#station_info_shmetro > #dest_text > text:last-child').text(`To ${destinations_en.join(", ")}`);
        // prepare for the line name
        let lineNameX = this._direction === 'l' ? this._svgDestWidth : 320;
        var [lineNameZH, lineNameEN] = this._lineNames;
        // line starts with numbers or letters
        var lineNumber = lineNameZH.match(/(\d*)\w+/);
        if (lineNumber) {
            lineNameX -= 180;
            lineNameZH = "号线";
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 120},70)`,
                width: 100, height: 125
            });
            $('#station_info_shmetro > #line_number > text')
                .show().text(lineNumber[0])
                .attr('transform', `translate(${lineNameX - 70},170)`);
            // Chito: If match format X号线, "号线" always black
            // ignore inherit style from g#line_name_text
            $('#station_info_shmetro > #line_name_text text').attr('fill', 'black');
        }
        else {
            lineNameX -= 280;
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 10},60)`,
                'width': 260,
                'height': 150
            });
            $('#station_info_shmetro > #line_number > text').hide();
            // Chito: If not match format X号线, use inherit style
            $('#station_info_shmetro > #line_name_text text').removeAttr('fill');
            // Todo: set the eng in the middle
            $('#station_info_shmetro > #line_name_text > text:last-child').attr('dx', 10);
        }
        // set the line name
        $('#station_info_shmetro > #line_name_text > text:first-child').text(lineNameZH);
        $('#station_info_shmetro > #line_name_text > text:last-child').text(lineNameEN);
        $('#station_info_shmetro > #line_name_text').attr({
            transform: `translate(${lineNameX},135)`,
            'text-anchor': 'start'
        });
        // the last decoration line
        let path = '';
        if (this._direction == 'l') {
            path = `M30,10 H ${this._svgDestWidth - 20} V 20 H 20 Z`;
        }
        else {
            path = `M20,10 H ${this._svgDestWidth - 30} l 10,10 H 20 Z`;
        }
        $('#line_shmetro_use').attr({
            transform: `translate(0,220)`,
            d: path,
        });
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
        for (let [stnId, stnInstance] of Object.entries(this.stations)
            .filter(stn => stn[1] instanceof _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"])) {
            $(`#rmg-name__shmetro--${stnId}`).parent().append(stnInstance.ungrpIconHTML);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    // rewrite this to change the y of branch station
    _stnYShare(stnId) {
        if (this.branches[0].includes(stnId))
            return 0;
        else
            return 3;
    }
    _linePath(stnIds, type) {
        var [prevId, prevY, prevX] = [];
        var path = {};
        const e = 30;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path['start'] = [x, y];
                return;
            }
            if (y === 0) {
                // merge back to main line
                if (y != prevY) {
                    path['bifurcate'] = [prevX, prevY];
                }
            }
            else {
                // on the branch line
                if (y != prevY) {
                    path['bifurcate'] = [x, y];
                }
            }
            path['end'] = [x, y];
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        console.log(stnIds, type);
        console.log(path);
        // generate path
        if (!path.hasOwnProperty('start')) {
            // no line generated
            // keys in path: none
            return '';
        }
        else if (!path.hasOwnProperty('end')) {
            // litte line (only beyond terminal station)
            // keys in path: start
            let [x, y] = path['start'];
            if (type === 'main') {
                // current at terminal(end) station, draw the litte main line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x - e},${y - 6} l -12,12 L ${x},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                // current at terminal(start) station, draw the litte pass line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} L ${x},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else if (!path.hasOwnProperty('bifurcate')) {
            // general main line
            // keys in path: start, end
            let [x, y] = path['start'], h = path['end'][0];
            if (type === 'main') {
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h} l 0,12 L ${x - 42},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} H ${h + e} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else {
            // main line bifurcate here to become the branch line
            // and path return here are only branch line
            // keys in path: start, bifurcate, end
            // Todo: disable lower branch
            let [x, y] = path['start'], h = path['end'][0];
            let [xb, yb] = path['bifurcate'], [xm, ym] = path['end'];
            if (type === 'main') {
                if (this._direction === 'l') {
                    if (ym > y) {
                        // main line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e - 12},${y + 6} Z`;
                    }
                    else {
                        // main line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm},${ym + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // main line, right direction, upper to center
                        return `M ${x},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                    else {
                        // main line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm + e},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm + e + 12},${ym + 6} Z`;
                    }
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    if (ym > y) {
                        // pass line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // pass line, right direction, upper to center
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
            }
        }
    }
    // draw the line in railmap
    drawLine() {
        $('.rmg-line').removeClass('rmg-line__mtr').addClass('rmg-line__shmetro');
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            // rewrite the second parameter to get the path correctly
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns, 'main') }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns, 'pass') }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    fillThemeColour() {
        super.fillThemeColour();
        // this will add the stroke of the station circle
        // however the stroke path is defined in index.html
        // which made changing station style strange
        $('circle#' + _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["station_id"]).attr('stroke', this._themeColour);
        $('path#int2_sh').attr('stroke', this._themeColour);
        // pass stroke should be added somewhere else
        // but I can't figure it out
        // Chito: path#stn_sh now have stroke attribute #aaa, no need to change. 
        // the railmap line
        $('#line_main').children().attr('fill', this._themeColour);
        $('#line_pass').children().attr('fill', '#aaa');
        // the last decoration line
        $(`#line_shmetro_use`).attr('fill', this._themeColour);
        // if (this._lineNames[0].match(/(\d*)\w+/)) {
        //     // the line starts with number
        //     $('#station_info_shmetro > #line_number > text').attr('fill', '#fff')
        // } else {
        //     // the line starts with letter
        //     $('#station_info_shmetro > #line_name_text').attr('fill', '#fff')
        // }
        // Chito: g#line_name_text's fill always equal to the foreground colour, 
        // while inner text elements may have different fill, see drawDestInfo()
        $('#station_info_shmetro > #line_name_text').attr('fill', this._fgColour);
        // dest info line color (both background and foreground)
        $('#station_info_shmetro > #line_number > rect').attr('fill', this._themeColour);
        $('#station_info_shmetro > #line_number > text').attr('fill', this._fgColour);
    }
    updateStnNameBg() {
        $('#current_bg').hide(); // fix the mysterious black rect
    }
    loadFonts() {
        //Chito: empty this method, avoid adding MTR specific class, which is for displaying country-variant character form. 
    }
    // rewrite this to make sure the line is draw before color
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        // change the func call here
        line.drawLine();
        line.fillThemeColour();
        // change the func call here
        line.drawStrip();
        line.drawDestInfo();
        line.loadFonts();
        line.updateStnNameBg();
    }
    // rewrite this to call fillThemeColour when flip direction
    set direction(val) {
        super.direction = val;
        this.fillThemeColour();
    }
    // rewrite this to call fillThemeColour when set current station
    set currentStnId(val) {
        super.currentStnId = val;
        this.fillThemeColour();
    }
    // rewrite this to get drawStns and recalled
    updateStnTransfer(stnId, type, info = null) {
        super.updateStnTransfer(stnId, type, info);
        this.fillThemeColour();
        // clear the original stations
        $('#stn_icons').empty();
        this.drawStns();
    }
    // rewrite this to call fillThemeColour when add station
    addStn(prep, stnId, loc, end) {
        let [newId, newInfo] = super.addStn(prep, stnId, loc, end);
        this.fillThemeColour();
        return [newId, newInfo];
    }
    // rewrite this to change the railmap position
    set yPc(val) {
        super.yPc = val;
        let y = val * this._svgHeight / 50;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        super.padding = val;
        this.fillThemeColour();
    }
    set branchSpacing(val) {
        super.branchSpacing = val;
        this.fillThemeColour();
    }
    removeStn(stnId) {
        if (super.removeStn(stnId)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchType(stnId, direction, type) {
        // Chito: This method should be remove when this._stnState() is updated. 
        super.updateBranchType(stnId, direction, type);
        this.fillThemeColour();
    }
    updateBranchFirst(stnId, direction, first) {
        if (super.updateBranchFirst(stnId, direction, first)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchPos(stnId, direction, pos) {
        // Chito: This method should be remove when this._stnState() is updated. 
        super.updateBranchPos(stnId, direction, pos);
        this.fillThemeColour();
    }
}


/***/ }),

/***/ "./src/Station/StationSH.ts":
/*!**********************************!*\
  !*** ./src/Station/StationSH.ts ***!
  \**********************************/
/*! exports provided: RMGStationSH, IntStationSH, station_id */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStationSH", function() { return RMGStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntStationSH", function() { return IntStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "station_id", function() { return station_id; });
/* harmony import */ var _Station__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Station */ "./src/Station/Station.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


const station_id = 'stn_sh';
class RMGStationSH extends _Station__WEBPACK_IMPORTED_MODULE_0__["RMGStation"] {
    constructor(id, data) {
        super(id, data);
        this.stnNum = data.num;
    }
    get _nameShift() { return false; }
    get _tickRotation() { return this.y > 0 ? 180 : 0; }
    get _dxdy() {
        var nameENLn = this.name[1].split('\\').length;
        let dx;
        if (this._nameShift) {
            dx = this._tickRotation === 0 ? -9 : 16 + (nameENLn - 1) * 12 * Math.cos(-45);
        }
        else {
            dx = this._tickRotation === 0 ? (24 + (nameENLn - 1) * 12) * Math.cos(-45) : -6;
        }
        // let dx = this._nameShift ? -8 : (24 + (nameENLn-1)*12) * Math.cos(-45);
        let dy = this._tickRotation === 0 ? (-4 - 21.921875 - (nameENLn - 1) * 12 * Math.cos(-45)) : 17.5;
        // var dy = (-4 - 21.921875 - (nameENLn-1)*12*Math.cos(-45)) * (this._tickRotation === 0 ? 1 : -1);
        return [dx, dy];
    }
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? [station_id + '_pass', 'Pass'] : [station_id, 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn' }));
    }
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        return $('<g>', {
            'transform': `translate(${this.x - dx},${this.y + dy})rotate(-50)`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            // class: `Name ${this.nameClass}`
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1])));
    }
}
class IntStationSH extends RMGStationSH {
    constructor(id, data) {
        super(id, data);
        this._intInfos = data.interchange[0];
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
    // rewrite this to get all drawing function to be called
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get ungrpIconHTML() {
        return [...this.intTickHTML];
    }
    // interchange station icon on main line
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? ['int2_sh_pass', 'Pass'] : ['int2_sh', 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn', stroke: this._intInfos[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour] }));
    }
    // regular station name
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        // wrap the name, decro_line and int_line under g in order to rotate at once
        return $('<g>', {
            transform: `translate(${this.x - dx},${this.y + dy})`,
        }).append(
        // the original name text
        $('<g>', {
            id: `rmg-name__shmetro--${this.id}`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1]))));
    }
    // interchange station icon after the station name
    get intTickHTML() {
        let lineElems = [];
        // get the exact station name width so that the
        // interchange station icon can be right after the station name
        let stnNameElem = $(`#rmg-name__shmetro--${this.id}`);
        let bcr = stnNameElem.get(0).getBoundingClientRect();
        let dx = bcr.right - bcr.left + 5;
        this._intInfos.map((stn, index) => {
            // interchange line icon after station name
            var lineIconColour = stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour];
            var lineIconElem = $('<use>', {
                'xlink:href': '#int_sh',
                fill: lineIconColour,
                transform: `translate(${dx + index * 25},-12)`,
                class: 'rmg-line__shmetro rmg-line__change',
            });
            if (this.state == -1) {
                lineIconElem.addClass('rmg-line__pass');
            }
            // line starts with numbers or letters
            let lineNumber = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]).match(/(\d*)\w+/);
            if (lineNumber) {
                var lineName = lineNumber[0];
            }
            else {
                var lineName = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]);
            }
            // interchange line name
            var lineNameElem = $('<text>', {
                // Todo: fix this hard-coded center(10) position
                transform: `translate(${dx + 10 + index * 25},8)`,
                class: 'rmg-name__zh rmg-name__shmetro--line_name',
                'text-anchor': 'middle',
                fill: stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].fg],
            }).text(lineName);
            lineElems.push(lineIconElem, lineNameElem);
        });
        // rotate the station info now
        // other wise the bcr will be inaccurate due to the rotation
        let stnInfoElem = stnNameElem.parent();
        stnInfoElem.attr('transform', `${stnInfoElem.attr('transform')}rotate(-50)`);
        return lineElems;
    }
    get _nameClass() {
        return (this.state == -1) ? 'Pass' : 'Future';
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9MaW5lU0gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvblNILnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFpQztBQUM2QztBQUt2RSxNQUFNLFNBQVUsU0FBUSw2Q0FBTztJQUNsQyxZQUFZLEtBQUs7UUFDYixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVMsRUFBRSxPQUFvQjtRQUM1QyxRQUFRLE9BQU8sQ0FBQyxXQUFXLEVBQUU7WUFDekIsS0FBSyxNQUFNLENBQUM7WUFDWixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssUUFBUTtnQkFDVCxPQUFPLElBQUksK0RBQVksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDNUMsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEI7Z0JBQ0ksT0FBTyxJQUFJLCtEQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELHVCQUF1QjtJQUN2QixZQUFZO1FBQ1IsQ0FBQyxDQUFDLDBDQUEwQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUks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SUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUM7UUFFNUUsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO0lBQ2xELENBQUM7Q0FDSjtBQUVpRCIsImZpbGUiOiJMaW5lU0gubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUk1HTGluZSB9IGZyb20gJy4vTGluZSc7XHJcbmltcG9ydCB7IFJNR1N0YXRpb25TSCwgSW50U3RhdGlvblNILCBzdGF0aW9uX2lkIH0gZnJvbSAnLi4vU3RhdGlvbi9TdGF0aW9uU0gnO1xyXG5pbXBvcnQgeyBSTUdTdGF0aW9uIH0gZnJvbSAnLi4vU3RhdGlvbi9TdGF0aW9uJztcclxuXHJcbmltcG9ydCB7IElELCBOYW1lLCBTdGF0aW9uSW5mbywgUk1HUGFyYW0sIHNldFBhcmFtcywgRGlyZWN0aW9uTG9uZyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBSTUdMaW5lU0ggZXh0ZW5kcyBSTUdMaW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtKSB7XHJcbiAgICAgICAgc3VwZXIocGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9pbml0U3RuSW5zdGFuY2Uoc3RuSWQ6IElELCBzdG5JbmZvOiBTdGF0aW9uSW5mbyk6IFJNR1N0YXRpb24ge1xyXG4gICAgICAgIHN3aXRjaCAoc3RuSW5mby5jaGFuZ2VfdHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdpbnQyJzpcclxuICAgICAgICAgICAgY2FzZSAnaW50M19sJzpcclxuICAgICAgICAgICAgY2FzZSAnaW50M19yJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50U3RhdGlvblNIKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfdWwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3VyJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfcHInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3BsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTJfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl9wcic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjFfcGwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMV91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3ByJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfdWwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMl9wbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3VyJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfcHInOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSTUdTdGF0aW9uU0goc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBkcmF3IHRoZSBkZXN0aW5hdGlvblxyXG4gICAgZHJhd0Rlc3RJbmZvKCkge1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNwbGF0Zm9ybSA+IHRleHQnKS50ZXh0KHRoaXMuX3BsYXRmb3JtTnVtKTtcclxuXHJcbiAgICAgICAgdmFyIGJjciA9ICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNkZXN0X3RleHQnKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgZmxhZ0xlbmd0aCA9IDE2MCArIDE1MCArIGJjci53aWR0aCArIDQ1ICsgNTA7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gYXJyb3dcclxuICAgICAgICB2YXIgaXNMZWZ0ID0gKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpID8gMSA6IC0xO1xyXG4gICAgICAgIHZhciBhcnJvd1ggPSAodGhpcy5fc3ZnRGVzdFdpZHRoIC0gaXNMZWZ0ICogZmxhZ0xlbmd0aCkgLyAyMDtcclxuICAgICAgICBhcnJvd1ggPSAodGhpcy5fZGlyZWN0aW9uID09ICdsJykgPyBhcnJvd1ggOiB0aGlzLl9zdmdEZXN0V2lkdGggLSAyMDtcclxuICAgICAgICB2YXIgYXJyb3dSb3RhdGUgPSA5MCAqICgxIC0gaXNMZWZ0KTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjYXJyb3dfbGVmdF91c2UnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7YXJyb3dYfSwxMzUpcm90YXRlKCR7YXJyb3dSb3RhdGV9KWApO1xyXG5cclxuICAgICAgICAvLyBub3QgaW4gdXNlIG5vd1xyXG4gICAgICAgIHZhciBwbGF0Zm9ybU51bVggPSBhcnJvd1ggKyBpc0xlZnQgKiAoMTYwICsgNTAgKyA3NSk7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI3BsYXRmb3JtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3BsYXRmb3JtTnVtWH0sMTMwKWApO1xyXG5cclxuICAgICAgICAvLyBsaXN0IHRoZSBkZXN0aW5hdGlvbiB0ZXh0XHJcbiAgICAgICAgLy8gVG9kbzogZml4IHN2Z19kZXN0X3dpZHRoKjAuOCwgdGhpcyBoYXMgb25seSBiZWVuIHRlc3RlZCBvbiAxMDAwIHdpZHRoXHJcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ3InKSB7XHJcbiAgICAgICAgICAgIHZhciB0eHRBbmNob3IgPSAnZW5kJztcclxuICAgICAgICAgICAgdmFyIGRlc3ROYW1lWCA9IHRoaXMuX3N2Z0Rlc3RXaWR0aCAqIDAuODtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdHh0QW5jaG9yID0gJ3N0YXJ0JztcclxuICAgICAgICAgICAgdmFyIGRlc3ROYW1lWCA9IHRoaXMuX3N2Z0Rlc3RXaWR0aCAqIDAuMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2Rlc3RfdGV4dCcpLmF0dHIoe1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtkZXN0TmFtZVh9LDEzNSlgLFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0eHRBbmNob3JcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZm9yIGVhY2ggbGVmdCB2YWxpZCBkZXN0aW5hdGlvbnMsIGdldCB0aGUgbmFtZSBmcm9tIGlkXHJcbiAgICAgICAgdmFyIFtkZXN0aW5hdGlvbnNfemgsIGRlc3RpbmF0aW9uc19lbl06IFN0cmluZ1tdW10gPSBbW10sIFtdXVxyXG4gICAgICAgIHRoaXNbYCR7dGhpcy5fZGlyZWN0aW9ufVZhbGlkRGVzdHNgXS5mb3JFYWNoKHN0biA9PiB7XHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uc196aC5wdXNoKHRoaXMuc3RhdGlvbnNbc3RuXS5uYW1lWzBdKVxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbnNfZW4ucHVzaCh0aGlzLnN0YXRpb25zW3N0bl0ubmFtZVsxXSlcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjZGVzdF90ZXh0ID4gdGV4dDpmaXJzdC1jaGlsZCcpLnRleHQoYOW+gCR7ZGVzdGluYXRpb25zX3poLmpvaW4oXCLvvIxcIil9YClcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjZGVzdF90ZXh0ID4gdGV4dDpsYXN0LWNoaWxkJykudGV4dChgVG8gJHtkZXN0aW5hdGlvbnNfZW4uam9pbihcIiwgXCIpfWApXHJcblxyXG4gICAgICAgIC8vIHByZXBhcmUgZm9yIHRoZSBsaW5lIG5hbWVcclxuICAgICAgICBsZXQgbGluZU5hbWVYID0gdGhpcy5fZGlyZWN0aW9uID09PSAnbCcgPyB0aGlzLl9zdmdEZXN0V2lkdGggOiAzMjBcclxuICAgICAgICB2YXIgW2xpbmVOYW1lWkgsIGxpbmVOYW1lRU5dID0gdGhpcy5fbGluZU5hbWVzO1xyXG5cclxuICAgICAgICAvLyBsaW5lIHN0YXJ0cyB3aXRoIG51bWJlcnMgb3IgbGV0dGVyc1xyXG4gICAgICAgIHZhciBsaW5lTnVtYmVyID0gbGluZU5hbWVaSC5tYXRjaCgvKFxcZCopXFx3Ky8pXHJcbiAgICAgICAgaWYgKGxpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgbGluZU5hbWVYIC09IDE4MDtcclxuICAgICAgICAgICAgbGluZU5hbWVaSCA9IFwi5Y+357q/XCJcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gcmVjdCcpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgZmlsbDogdGhpcy5fdGhlbWVDb2xvdXIsXHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZSgke2xpbmVOYW1lWCAtIDEyMH0sNzApYCwgXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwLCBoZWlnaHQ6IDEyNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiB0ZXh0JylcclxuICAgICAgICAgICAgICAgIC5zaG93KCkudGV4dChsaW5lTnVtYmVyWzBdKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtsaW5lTmFtZVggLSA3MH0sMTcwKWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2hpdG86IElmIG1hdGNoIGZvcm1hdCBY5Y+357q/LCBcIuWPt+e6v1wiIGFsd2F5cyBibGFja1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgaW5oZXJpdCBzdHlsZSBmcm9tIGcjbGluZV9uYW1lX3RleHRcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0IHRleHQnKS5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGluZU5hbWVYIC09IDI4MDtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gcmVjdCcpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgZmlsbDogdGhpcy5fdGhlbWVDb2xvdXIsIFxyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHtsaW5lTmFtZVggLSAxMH0sNjApYCxcclxuICAgICAgICAgICAgICAgICd3aWR0aCc6IDI2MCxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAxNTBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gdGV4dCcpLmhpZGUoKVxyXG5cclxuICAgICAgICAgICAgLy8gQ2hpdG86IElmIG5vdCBtYXRjaCBmb3JtYXQgWOWPt+e6vywgdXNlIGluaGVyaXQgc3R5bGVcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0IHRleHQnKS5yZW1vdmVBdHRyKCdmaWxsJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBUb2RvOiBzZXQgdGhlIGVuZyBpbiB0aGUgbWlkZGxlXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCA+IHRleHQ6bGFzdC1jaGlsZCcpLmF0dHIoJ2R4JywgMTApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGxpbmUgbmFtZVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCA+IHRleHQ6Zmlyc3QtY2hpbGQnKS50ZXh0KGxpbmVOYW1lWkgpXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0ID4gdGV4dDpsYXN0LWNoaWxkJykudGV4dChsaW5lTmFtZUVOKVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCcpLmF0dHIoe1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtsaW5lTmFtZVh9LDEzNSlgLFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnc3RhcnQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRoZSBsYXN0IGRlY29yYXRpb24gbGluZVxyXG4gICAgICAgIGxldCBwYXRoID0gJydcclxuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09ICdsJykge1xyXG4gICAgICAgICAgICBwYXRoID0gYE0zMCwxMCBIICR7dGhpcy5fc3ZnRGVzdFdpZHRoIC0gMjB9IFYgMjAgSCAyMCBaYFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBgTTIwLDEwIEggJHt0aGlzLl9zdmdEZXN0V2lkdGggLSAzMH0gbCAxMCwxMCBIIDIwIFpgXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNsaW5lX3NobWV0cm9fdXNlJykuYXR0cih7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLDIyMClgLFxyXG4gICAgICAgICAgICBkOiBwYXRoLFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGFwcGVuZCBkb20gYW5kIHRoZW4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XHJcbiAgICAvLyB0byBnZXQgdGhlIGV4YWN0IHBvc2l0aW9uIHdoZXJlIGludCBpY29uIGNhbiBiZSBmaXRcclxuICAgIGRyYXdTdG5zKCkge1xyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQoc3RuSW5zdGFuY2UuaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpOyAvLyBSZWZyZXNoIERPTVxyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKVxyXG4gICAgICAgICAgICAuZmlsdGVyKHN0biA9PiBzdG5bMV0gaW5zdGFuY2VvZiBJbnRTdGF0aW9uU0gpIGFzIFtJRCwgSW50U3RhdGlvblNIXVtdKSB7XHJcbiAgICAgICAgICAgICQoYCNybWctbmFtZV9fc2htZXRyby0tJHtzdG5JZH1gKS5wYXJlbnQoKS5hcHBlbmQoc3RuSW5zdGFuY2UudW5ncnBJY29uSFRNTClcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7IC8vIFJlZnJlc2ggRE9NXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGNoYW5nZSB0aGUgeSBvZiBicmFuY2ggc3RhdGlvblxyXG4gICAgX3N0bllTaGFyZShzdG5JZCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuYnJhbmNoZXNbMF0uaW5jbHVkZXMoc3RuSWQpKSByZXR1cm4gMDtcclxuICAgICAgICBlbHNlIHJldHVybiAzXHJcbiAgICB9XHJcblxyXG4gICAgX2xpbmVQYXRoKHN0bklkczogSURbXSwgdHlwZT86ICdtYWluJyB8ICdwYXNzJyk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIFtwcmV2SWQsIHByZXZZLCBwcmV2WF06IFtzdHJpbmc/LCBudW1iZXI/LCBudW1iZXI/XSA9IFtdXHJcbiAgICAgICAgdmFyIHBhdGg6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9XHJcbiAgICAgICAgY29uc3QgZSA9IDMwXHJcblxyXG4gICAgICAgIHN0bklkcy5mb3JFYWNoKHN0bklkID0+IHtcclxuICAgICAgICAgICAgdmFyIFt4LCB5XSA9IFsnX3N0blJlYWxYJywgJ19zdG5SZWFsWSddLm1hcChmdW4gPT4gdGhpc1tmdW5dKHN0bklkKSlcclxuICAgICAgICAgICAgaWYgKCFwcmV2WSAmJiBwcmV2WSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgW3ByZXZJZCwgcHJldlgsIHByZXZZXSA9IFtzdG5JZCwgeCwgeV07XHJcbiAgICAgICAgICAgICAgICBwYXRoWydzdGFydCddID0gW3gsIHldO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGJhY2sgdG8gbWFpbiBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBwcmV2WSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhbJ2JpZnVyY2F0ZSddID0gW3ByZXZYLCBwcmV2WV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBicmFuY2ggbGluZVxyXG4gICAgICAgICAgICAgICAgaWYgKHkgIT0gcHJldlkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoWydiaWZ1cmNhdGUnXSA9IFt4LCB5XVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGhbJ2VuZCddID0gW3gsIHldO1xyXG4gICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coc3RuSWRzLCB0eXBlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHBhdGgpXHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgcGF0aFxyXG4gICAgICAgIGlmICghcGF0aC5oYXNPd25Qcm9wZXJ0eSgnc3RhcnQnKSkge1xyXG4gICAgICAgICAgICAvLyBubyBsaW5lIGdlbmVyYXRlZFxyXG4gICAgICAgICAgICAvLyBrZXlzIGluIHBhdGg6IG5vbmVcclxuICAgICAgICAgICAgcmV0dXJuICcnXHJcbiAgICAgICAgfSBlbHNlIGlmICghcGF0aC5oYXNPd25Qcm9wZXJ0eSgnZW5kJykpIHtcclxuICAgICAgICAgICAgLy8gbGl0dGUgbGluZSAob25seSBiZXlvbmQgdGVybWluYWwgc3RhdGlvbilcclxuICAgICAgICAgICAgLy8ga2V5cyBpbiBwYXRoOiBzdGFydFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXVxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21haW4nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGF0IHRlcm1pbmFsKGVuZCkgc3RhdGlvbiwgZHJhdyB0aGUgbGl0dGUgbWFpbiBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBMICR7eCAtIGV9LCR7eSAtIDZ9IGwgLTEyLDEyIEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBMICR7eCArIGV9LCR7eSAtIDZ9IGwgMTIsMTIgTCAke3h9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0eXBlID09PSAncGFzcydcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYXQgdGVybWluYWwoc3RhcnQpIHN0YXRpb24sIGRyYXcgdGhlIGxpdHRlIHBhc3MgbGluZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gTCAke3ggKyBlfSwke3kgLSA2fSBsIDAsMTIgTCAke3ggLSBlfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gTCAke3h9LCR7eSAtIDZ9IGwgMCwxMiBMICR7eCAtIGV9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXBhdGguaGFzT3duUHJvcGVydHkoJ2JpZnVyY2F0ZScpKSB7XHJcbiAgICAgICAgICAgIC8vIGdlbmVyYWwgbWFpbiBsaW5lXHJcbiAgICAgICAgICAgIC8vIGtleXMgaW4gcGF0aDogc3RhcnQsIGVuZFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXSwgaCA9IHBhdGhbJ2VuZCddWzBdXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWFpbicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7aH0gbCAwLDEyIEwgJHt4IC0gNDJ9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAxMiwxMiBMICR7eH0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHR5cGUgPT09ICdwYXNzJ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAwLDEyIEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAwLDEyIEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1haW4gbGluZSBiaWZ1cmNhdGUgaGVyZSB0byBiZWNvbWUgdGhlIGJyYW5jaCBsaW5lXHJcbiAgICAgICAgICAgIC8vIGFuZCBwYXRoIHJldHVybiBoZXJlIGFyZSBvbmx5IGJyYW5jaCBsaW5lXHJcbiAgICAgICAgICAgIC8vIGtleXMgaW4gcGF0aDogc3RhcnQsIGJpZnVyY2F0ZSwgZW5kXHJcblxyXG4gICAgICAgICAgICAvLyBUb2RvOiBkaXNhYmxlIGxvd2VyIGJyYW5jaFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXSwgaCA9IHBhdGhbJ2VuZCddWzBdXHJcbiAgICAgICAgICAgIGxldCBbeGIsIHliXSA9IHBhdGhbJ2JpZnVyY2F0ZSddLCBbeG0sIHltXSA9IHBhdGhbJ2VuZCddXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWFpbicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5bSA+IHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFpbiBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4IC0gZSAtIDEyfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1haW4gbGluZSwgbGVmdCBkaXJlY3Rpb24sIHVwcGVyIHRvIGNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHNhbWUgYXMgdGhlIG90aGVyLCBidXQgcmVwbGFjZSB4IHdpdGggeG0gYW5kIHhtIHdpdGggeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4bX0sJHt5bSAtIDZ9IEggJHt4YiAtIGV9IEwgJHt4fSwke3kgLSA2fSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4bX0sJHt5bSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeW0gPiB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1haW4gbGluZSwgcmlnaHQgZGlyZWN0aW9uLCB1cHBlciB0byBjZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gSCAke3hiICsgZX0gTCAke3htfSwke3ltIC0gNn0gbCAwLDEyIEwgJHt4YiArIGV9LCR7eWIgKyA2fSBMICR7eH0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWluIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3htICsgZX0sJHt5bSAtIDZ9IEggJHt4YiAtIGV9IEwgJHt4fSwke3kgLSA2fSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4bSArIGUgKyAxMn0sJHt5bSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdHlwZSA9PT0gJ3Bhc3MnXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeW0gPiB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgbGluZSwgbGVmdCBkaXJlY3Rpb24sIGNlbnRlciB0byB1cHBlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gSCAke3hiICsgZX0gTCAke3htfSwke3ltIC0gNn0gbCAwLDEyIEwgJHt4YiArIGV9LCR7eWIgKyA2fSBMICR7eCAtIGV9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgdXBwZXIgdG8gY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4YiAtIGV9LCR7eWIgLSA2fSBIICR7eG0gKyBlfSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHltID4geSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgdXBwZXIgdG8gY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4YiAtIGV9LCR7eWIgLSA2fSBIICR7eG0gKyBlfSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBkcmF3IHRoZSBsaW5lIGluIHJhaWxtYXBcclxuICAgIGRyYXdMaW5lKCkge1xyXG4gICAgICAgICQoJy5ybWctbGluZScpLnJlbW92ZUNsYXNzKCdybWctbGluZV9fbXRyJykuYWRkQ2xhc3MoJ3JtZy1saW5lX19zaG1ldHJvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYnJhbmNoZXMubWFwKGJyYW5jaCA9PiB7XHJcbiAgICAgICAgICAgIHZhciBsaW5lTWFpblN0bnMgPSBicmFuY2guZmlsdGVyKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlID49IDApO1xyXG4gICAgICAgICAgICB2YXIgbGluZVBhc3NTdG5zID0gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5zdGF0ZSA8PSAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsaW5lTWFpblN0bnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMgPSBicmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChsaW5lTWFpblN0bnMuZmlsdGVyKHN0bklkID0+IGxpbmVQYXNzU3Rucy5pbmRleE9mKHN0bklkKSAhPT0gLTEpLmxlbmd0aCA9PSAwICYmIGxpbmVNYWluU3Rucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHR3byBzZXQgZGlzam9pbnRcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lUGFzc1N0bnNbMF0gPT09IGJyYW5jaFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIC0xIDEgMVxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3Rucy5wdXNoKGxpbmVNYWluU3Ruc1swXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVNYWluU3Ruc1swXSA9PT0gYnJhbmNoWzBdICYmIGxpbmVNYWluU3Ruc1tsaW5lTWFpblN0bnMubGVuZ3RoLTFdID09PSBicmFuY2hbYnJhbmNoLmxlbmd0aC0xXSAmJiBsaW5lUGFzc1N0bnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zID0gYnJhbmNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVNYWluU3RucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAxIDEgLTEgLTFcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMudW5zaGlmdChsaW5lTWFpblN0bnNbbGluZU1haW5TdG5zLmxlbmd0aC0xXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gZ2V0IHRoZSBwYXRoIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAkKCcjbGluZV9tYWluJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZU1haW5TdG5zLCAnbWFpbicpfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgJCgnI2xpbmVfcGFzcycpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzxwYXRoPicsIHtkOnRoaXMuX2xpbmVQYXRoKGxpbmVQYXNzU3RucywgJ3Bhc3MnKX0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNsaW5lX21haW4nKS5odG1sKCQoJyNsaW5lX21haW4nKS5odG1sKCkpO1xyXG4gICAgICAgICQoJyNsaW5lX3Bhc3MnKS5odG1sKCQoJyNsaW5lX3Bhc3MnKS5odG1sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGxUaGVtZUNvbG91cigpIHtcclxuICAgICAgICBzdXBlci5maWxsVGhlbWVDb2xvdXIoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcyB3aWxsIGFkZCB0aGUgc3Ryb2tlIG9mIHRoZSBzdGF0aW9uIGNpcmNsZVxyXG4gICAgICAgIC8vIGhvd2V2ZXIgdGhlIHN0cm9rZSBwYXRoIGlzIGRlZmluZWQgaW4gaW5kZXguaHRtbFxyXG4gICAgICAgIC8vIHdoaWNoIG1hZGUgY2hhbmdpbmcgc3RhdGlvbiBzdHlsZSBzdHJhbmdlXHJcbiAgICAgICAgJCgnY2lyY2xlIycgKyBzdGF0aW9uX2lkKS5hdHRyKCdzdHJva2UnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcbiAgICAgICAgJCgncGF0aCNpbnQyX3NoJykuYXR0cignc3Ryb2tlJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG5cclxuICAgICAgICAvLyBwYXNzIHN0cm9rZSBzaG91bGQgYmUgYWRkZWQgc29tZXdoZXJlIGVsc2VcclxuICAgICAgICAvLyBidXQgSSBjYW4ndCBmaWd1cmUgaXQgb3V0XHJcbiAgICAgICAgLy8gQ2hpdG86IHBhdGgjc3RuX3NoIG5vdyBoYXZlIHN0cm9rZSBhdHRyaWJ1dGUgI2FhYSwgbm8gbmVlZCB0byBjaGFuZ2UuIFxyXG5cclxuICAgICAgICAvLyB0aGUgcmFpbG1hcCBsaW5lXHJcbiAgICAgICAgJCgnI2xpbmVfbWFpbicpLmNoaWxkcmVuKCkuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKVxyXG4gICAgICAgICQoJyNsaW5lX3Bhc3MnKS5jaGlsZHJlbigpLmF0dHIoJ2ZpbGwnLCAnI2FhYScpXHJcblxyXG4gICAgICAgIC8vIHRoZSBsYXN0IGRlY29yYXRpb24gbGluZVxyXG4gICAgICAgICQoYCNsaW5lX3NobWV0cm9fdXNlYCkuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKVxyXG5cclxuICAgICAgICAvLyBpZiAodGhpcy5fbGluZU5hbWVzWzBdLm1hdGNoKC8oXFxkKilcXHcrLykpIHtcclxuICAgICAgICAvLyAgICAgLy8gdGhlIGxpbmUgc3RhcnRzIHdpdGggbnVtYmVyXHJcbiAgICAgICAgLy8gICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX251bWJlciA+IHRleHQnKS5hdHRyKCdmaWxsJywgJyNmZmYnKVxyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgIC8vIHRoZSBsaW5lIHN0YXJ0cyB3aXRoIGxldHRlclxyXG4gICAgICAgIC8vICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9uYW1lX3RleHQnKS5hdHRyKCdmaWxsJywgJyNmZmYnKVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBDaGl0bzogZyNsaW5lX25hbWVfdGV4dCdzIGZpbGwgYWx3YXlzIGVxdWFsIHRvIHRoZSBmb3JlZ3JvdW5kIGNvbG91ciwgXHJcbiAgICAgICAgLy8gd2hpbGUgaW5uZXIgdGV4dCBlbGVtZW50cyBtYXkgaGF2ZSBkaWZmZXJlbnQgZmlsbCwgc2VlIGRyYXdEZXN0SW5mbygpXHJcblxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl9mZ0NvbG91cik7XHJcblxyXG4gICAgICAgIC8vIGRlc3QgaW5mbyBsaW5lIGNvbG9yIChib3RoIGJhY2tncm91bmQgYW5kIGZvcmVncm91bmQpXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gcmVjdCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gdGV4dCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl9mZ0NvbG91cik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RuTmFtZUJnKCkge1xyXG4gICAgICAgICQoJyNjdXJyZW50X2JnJykuaGlkZSgpOyAgLy8gZml4IHRoZSBteXN0ZXJpb3VzIGJsYWNrIHJlY3RcclxuICAgIH1cclxuXHJcbiAgICBsb2FkRm9udHMoKSB7XHJcbiAgICAgICAgLy9DaGl0bzogZW1wdHkgdGhpcyBtZXRob2QsIGF2b2lkIGFkZGluZyBNVFIgc3BlY2lmaWMgY2xhc3MsIHdoaWNoIGlzIGZvciBkaXNwbGF5aW5nIGNvdW50cnktdmFyaWFudCBjaGFyYWN0ZXIgZm9ybS4gXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIG1ha2Ugc3VyZSB0aGUgbGluZSBpcyBkcmF3IGJlZm9yZSBjb2xvclxyXG4gICAgc3RhdGljIGluaXRTVkcobGluZSkge1xyXG4gICAgICAgIGxpbmUuZHJhd1NWR0ZyYW1lKCk7XHJcbiAgICAgICAgbGluZS5zaG93RnJhbWVPdXRlcigpO1xyXG4gICAgICAgIGxpbmUuZHJhd1N0bnMoKTtcclxuXHJcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBmdW5jIGNhbGwgaGVyZVxyXG4gICAgICAgIGxpbmUuZHJhd0xpbmUoKTtcclxuICAgICAgICBsaW5lLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgZnVuYyBjYWxsIGhlcmVcclxuXHJcbiAgICAgICAgbGluZS5kcmF3U3RyaXAoKTtcclxuICAgICAgICBsaW5lLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgICAgIGxpbmUubG9hZEZvbnRzKCk7XHJcbiAgICAgICAgbGluZS51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2FsbCBmaWxsVGhlbWVDb2xvdXIgd2hlbiBmbGlwIGRpcmVjdGlvblxyXG4gICAgc2V0IGRpcmVjdGlvbih2YWwpIHtcclxuICAgICAgICBzdXBlci5kaXJlY3Rpb24gPSB2YWxcclxuXHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBjYWxsIGZpbGxUaGVtZUNvbG91ciB3aGVuIHNldCBjdXJyZW50IHN0YXRpb25cclxuICAgIHNldCBjdXJyZW50U3RuSWQodmFsKSB7XHJcbiAgICAgICAgc3VwZXIuY3VycmVudFN0bklkID0gdmFsXHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gZ2V0IGRyYXdTdG5zIGFuZCByZWNhbGxlZFxyXG4gICAgdXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQ6IElELCB0eXBlLCBpbmZvID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZVN0blRyYW5zZmVyKHN0bklkLCB0eXBlLCBpbmZvKVxyXG5cclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpXHJcblxyXG4gICAgICAgIC8vIGNsZWFyIHRoZSBvcmlnaW5hbCBzdGF0aW9uc1xyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5lbXB0eSgpXHJcbiAgICAgICAgdGhpcy5kcmF3U3RucygpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGNhbGwgZmlsbFRoZW1lQ29sb3VyIHdoZW4gYWRkIHN0YXRpb25cclxuICAgIGFkZFN0bihwcmVwOiAnYmVmb3JlJyB8ICdhZnRlcicsIHN0bklkOiBJRCwgbG9jLCBlbmQ6IElEKTogW0lELCBTdGF0aW9uSW5mb10ge1xyXG4gICAgICAgIGxldCBbbmV3SWQsIG5ld0luZm9dID0gc3VwZXIuYWRkU3RuKHByZXAsIHN0bklkLCBsb2MsIGVuZClcclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpXHJcbiAgICAgICAgcmV0dXJuIFtuZXdJZCwgbmV3SW5mb11cclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2hhbmdlIHRoZSByYWlsbWFwIHBvc2l0aW9uXHJcbiAgICBzZXQgeVBjKHZhbCkge1xyXG4gICAgICAgIHN1cGVyLnlQYyA9IHZhbFxyXG5cclxuICAgICAgICBsZXQgeSA9IHZhbCAqIHRoaXMuX3N2Z0hlaWdodCAvIDUwO1xyXG4gICAgICAgICQoJ2cjbWFpbicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3l9KWApO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBwYWRkaW5nKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIucGFkZGluZyA9IHZhbDtcclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBicmFuY2hTcGFjaW5nKHZhbDogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIuYnJhbmNoU3BhY2luZyA9IHZhbDtcclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVN0bihzdG5JZDogSUQpIHtcclxuICAgICAgICBpZiAoc3VwZXIucmVtb3ZlU3RuKHN0bklkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaFR5cGUoc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIHR5cGU6ICd0aHJvdWdoJyB8ICdub250aHJvdWdoJykge1xyXG4gICAgICAgIC8vIENoaXRvOiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgcmVtb3ZlIHdoZW4gdGhpcy5fc3RuU3RhdGUoKSBpcyB1cGRhdGVkLiBcclxuICAgICAgICBzdXBlci51cGRhdGVCcmFuY2hUeXBlKHN0bklkLCBkaXJlY3Rpb24sIHR5cGUpO1xyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQnJhbmNoRmlyc3Qoc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIGZpcnN0OiBJRCkge1xyXG4gICAgICAgIGlmIChzdXBlci51cGRhdGVCcmFuY2hGaXJzdChzdG5JZCwgZGlyZWN0aW9uLCBmaXJzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hQb3Moc3RuSWQ6IElELCBkaXJlY3Rpb246IERpcmVjdGlvbkxvbmcsIHBvczogMCB8IDEpIHtcclxuICAgICAgICAvLyBDaGl0bzogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHJlbW92ZSB3aGVuIHRoaXMuX3N0blN0YXRlKCkgaXMgdXBkYXRlZC4gXHJcbiAgICAgICAgc3VwZXIudXBkYXRlQnJhbmNoUG9zKHN0bklkLCBkaXJlY3Rpb24sIHBvcyk7XHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSTUdTdGF0aW9uIH0gZnJvbSAnLi9TdGF0aW9uJztcclxuaW1wb3J0IHsgSUQsIE5hbWUsIEJyYW5jaEluZm8sIFN0YXRpb25JbmZvLCBJbnRJbmZvVGFnLCBJbnRlcmNoYW5nZUluZm8gfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBzdGF0aW9uX2lkID0gJ3N0bl9zaCdcclxuXHJcbmNsYXNzIFJNR1N0YXRpb25TSCBleHRlbmRzIFJNR1N0YXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xyXG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcclxuICAgICAgICB0aGlzLnN0bk51bSA9IGRhdGEubnVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBfbmFtZVNoaWZ0KCkgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy55ID4gMCA/IDE4MCA6IDA7IH1cclxuICAgIGdldCBfZHhkeSgpIHtcclxuICAgICAgICB2YXIgbmFtZUVOTG4gPSB0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKS5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGR4OiBudW1iZXI7XHJcbiAgICAgICAgaWYgKHRoaXMuX25hbWVTaGlmdCkge1xyXG4gICAgICAgICAgICBkeCA9IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/IC05IDogMTYgKyAobmFtZUVOTG4gLSAxKSAqIDEyICogTWF0aC5jb3MoLTQ1KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkeCA9IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/ICgyNCArIChuYW1lRU5MbiAtIDEpICogMTIpICogTWF0aC5jb3MoLTQ1KSA6IC02O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgZHggPSB0aGlzLl9uYW1lU2hpZnQgPyAtOCA6ICgyNCArIChuYW1lRU5Mbi0xKSoxMikgKiBNYXRoLmNvcygtNDUpO1xyXG4gICAgICAgIGxldCBkeSA9IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/ICgtNCAtIDIxLjkyMTg3NSAtIChuYW1lRU5MbiAtIDEpICogMTIgKiBNYXRoLmNvcygtNDUpKSA6IDE3LjU7XHJcbiAgICAgICAgLy8gdmFyIGR5ID0gKC00IC0gMjEuOTIxODc1IC0gKG5hbWVFTkxuLTEpKjEyKk1hdGguY29zKC00NSkpICogKHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/IDEgOiAtMSk7XHJcbiAgICAgICAgcmV0dXJuIFtkeCwgZHldXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb25IVE1MKCkge1xyXG4gICAgICAgIHZhciBbaWNvblR5cGUsIG51bUNsYXNzXSA9ICh0aGlzLnN0YXRlID09IC0xKSA/IFtzdGF0aW9uX2lkICsgJ19wYXNzJywgJ1Bhc3MnXSA6IFtzdGF0aW9uX2lkLCAnRnV0dXJlJ107XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pYCB9KVxyXG4gICAgICAgICAgICAuYXBwZW5kKCQoJzx1c2U+JywgeyAneGxpbms6aHJlZic6ICcjJyArIGljb25UeXBlLCBjbGFzczogJ3JtZy1zdG4nIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZUhUTUwoKSB7XHJcbiAgICAgICAgbGV0IFtkeCwgZHldID0gdGhpcy5fZHhkeVxyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54IC0gZHh9LCR7dGhpcy55ICsgZHl9KXJvdGF0ZSgtNTApYCxcclxuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gJ3N0YXJ0JyA6ICdlbmQnLFxyXG4gICAgICAgICAgICAvLyBjbGFzczogYE5hbWUgJHt0aGlzLm5hbWVDbGFzc31gXHJcbiAgICAgICAgICAgIGNsYXNzOiBgTmFtZSBGdXR1cmVgICAvLyB0b2RvOiBmaXggdGhpc1xyXG4gICAgICAgIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fc2htZXRyby0tc3RhdGlvbicpLnRleHQodGhpcy5uYW1lWzBdKVxyXG4gICAgICAgICkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgICAgICBkeTogMTUsIGNsYXNzOiAncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19zaG1ldHJvLS1zdGF0aW9uJ1xyXG4gICAgICAgICAgICB9KS50ZXh0KHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpWzBdKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8dHNwYW4+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICd4JzogMCwgJ2R5JzogMTJcclxuICAgICAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMV0pXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBJbnRTdGF0aW9uU0ggZXh0ZW5kcyBSTUdTdGF0aW9uU0gge1xyXG4gICAgcHJvdGVjdGVkIF9pbnRJbmZvczogSW50ZXJjaGFuZ2VJbmZvW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xyXG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcclxuICAgICAgICB0aGlzLl9pbnRJbmZvcyA9IGRhdGEuaW50ZXJjaGFuZ2VbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGFwcGVuZCBkb20gYW5kIHRoZW4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XHJcbiAgICAvLyB0byBnZXQgdGhlIGV4YWN0IHBvc2l0aW9uIHdoZXJlIGludCBpY29uIGNhbiBiZSBmaXRcclxuICAgIGdldCBodG1sKCkge1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7IGlkOiB0aGlzLmlkIH0pLmFwcGVuZCguLi50aGlzLnVuZ3JwSFRNTCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGdldCBhbGwgZHJhd2luZyBmdW5jdGlvbiB0byBiZSBjYWxsZWRcclxuICAgIGdldCB1bmdycEhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdW5ncnBJY29uSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gWy4uLnRoaXMuaW50VGlja0hUTUxdXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaW50ZXJjaGFuZ2Ugc3RhdGlvbiBpY29uIG9uIG1haW4gbGluZVxyXG4gICAgZ2V0IGljb25IVE1MKCkge1xyXG4gICAgICAgIHZhciBbaWNvblR5cGUsIG51bUNsYXNzXSA9ICh0aGlzLnN0YXRlID09IC0xKSA/IFsnaW50Ml9zaF9wYXNzJywgJ1Bhc3MnXSA6IFsnaW50Ml9zaCcsICdGdXR1cmUnXTtcclxuICAgICAgICByZXR1cm4gJCgnPGc+JywgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJCgnPHVzZT4nLCB7ICd4bGluazpocmVmJzogJyMnICsgaWNvblR5cGUsIGNsYXNzOiAncm1nLXN0bicsIHN0cm9rZTogdGhpcy5faW50SW5mb3NbSW50SW5mb1RhZy5jb2xvdXJdIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZWd1bGFyIHN0YXRpb24gbmFtZVxyXG4gICAgZ2V0IG5hbWVIVE1MKCkge1xyXG4gICAgICAgIGxldCBbZHgsIGR5XSA9IHRoaXMuX2R4ZHk7XHJcbiAgICAgICAgLy8gd3JhcCB0aGUgbmFtZSwgZGVjcm9fbGluZSBhbmQgaW50X2xpbmUgdW5kZXIgZyBpbiBvcmRlciB0byByb3RhdGUgYXQgb25jZVxyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueCAtIGR4fSwke3RoaXMueSArIGR5fSlgLCAgLy9yb3RhdGUoLTYwKVxyXG4gICAgICAgIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG5hbWUgdGV4dFxyXG4gICAgICAgICAgICAkKCc8Zz4nLCB7XHJcbiAgICAgICAgICAgICAgICBpZDogYHJtZy1uYW1lX19zaG1ldHJvLS0ke3RoaXMuaWR9YCxcclxuICAgICAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX3RpY2tSb3RhdGlvbiA9PT0gMCA/ICdzdGFydCcgOiAnZW5kJyxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiBgTmFtZSBGdXR1cmVgICAvLyB0b2RvOiBmaXggdGhpc1xyXG4gICAgICAgICAgICB9KS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19zaG1ldHJvLS1zdGF0aW9uJykudGV4dCh0aGlzLm5hbWVbMF0pXHJcbiAgICAgICAgICAgICkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHRleHQ+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGR5OiAxNSwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX3NobWV0cm8tLXN0YXRpb24nXHJcbiAgICAgICAgICAgICAgICB9KS50ZXh0KHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpWzBdKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnPHRzcGFuPicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiAwLCAnZHknOiAxMlxyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMV0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaW50ZXJjaGFuZ2Ugc3RhdGlvbiBpY29uIGFmdGVyIHRoZSBzdGF0aW9uIG5hbWVcclxuICAgIGdldCBpbnRUaWNrSFRNTCgpIHtcclxuICAgICAgICBsZXQgbGluZUVsZW1zOiBKUXVlcnk8SFRNTEVsZW1lbnQ+W10gPSBbXVxyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGV4YWN0IHN0YXRpb24gbmFtZSB3aWR0aCBzbyB0aGF0IHRoZVxyXG4gICAgICAgIC8vIGludGVyY2hhbmdlIHN0YXRpb24gaWNvbiBjYW4gYmUgcmlnaHQgYWZ0ZXIgdGhlIHN0YXRpb24gbmFtZVxyXG4gICAgICAgIGxldCBzdG5OYW1lRWxlbSA9ICQoYCNybWctbmFtZV9fc2htZXRyby0tJHt0aGlzLmlkfWApXHJcbiAgICAgICAgbGV0IGJjciA9IHN0bk5hbWVFbGVtLmdldCgwKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgIGxldCBkeCA9IGJjci5yaWdodCAtIGJjci5sZWZ0ICsgNVxyXG5cclxuICAgICAgICB0aGlzLl9pbnRJbmZvcy5tYXAoKHN0biwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgLy8gaW50ZXJjaGFuZ2UgbGluZSBpY29uIGFmdGVyIHN0YXRpb24gbmFtZVxyXG4gICAgICAgICAgICB2YXIgbGluZUljb25Db2xvdXIgPSBzdG5bSW50SW5mb1RhZy5jb2xvdXJdO1xyXG4gICAgICAgICAgICB2YXIgbGluZUljb25FbGVtID0gJCgnPHVzZT4nLCB7XHJcbiAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50X3NoJyxcclxuICAgICAgICAgICAgICAgIGZpbGw6IGxpbmVJY29uQ29sb3VyLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZHggKyBpbmRleCAqIDI1fSwtMTIpYCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncm1nLWxpbmVfX3NobWV0cm8gcm1nLWxpbmVfX2NoYW5nZScsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGluZUljb25FbGVtLmFkZENsYXNzKCdybWctbGluZV9fcGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBsaW5lIHN0YXJ0cyB3aXRoIG51bWJlcnMgb3IgbGV0dGVyc1xyXG4gICAgICAgICAgICBsZXQgbGluZU51bWJlciA9IFN0cmluZyhzdG5bSW50SW5mb1RhZy5uYW1lWkhdKS5tYXRjaCgvKFxcZCopXFx3Ky8pXHJcbiAgICAgICAgICAgIGlmIChsaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZU5hbWUgPSBsaW5lTnVtYmVyWzBdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZU5hbWUgPSBTdHJpbmcoc3RuW0ludEluZm9UYWcubmFtZVpIXSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbnRlcmNoYW5nZSBsaW5lIG5hbWVcclxuICAgICAgICAgICAgdmFyIGxpbmVOYW1lRWxlbSA9ICQoJzx0ZXh0PicsIHtcclxuICAgICAgICAgICAgICAgIC8vIFRvZG86IGZpeCB0aGlzIGhhcmQtY29kZWQgY2VudGVyKDEwKSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZHggKyAxMCArIGluZGV4ICogMjV9LDgpYCxcclxuICAgICAgICAgICAgICAgIGNsYXNzOiAncm1nLW5hbWVfX3poIHJtZy1uYW1lX19zaG1ldHJvLS1saW5lX25hbWUnLFxyXG4gICAgICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogJ21pZGRsZScsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBzdG5bSW50SW5mb1RhZy5mZ10sXHJcbiAgICAgICAgICAgIH0pLnRleHQobGluZU5hbWUpXHJcblxyXG4gICAgICAgICAgICBsaW5lRWxlbXMucHVzaChsaW5lSWNvbkVsZW0sIGxpbmVOYW1lRWxlbSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyByb3RhdGUgdGhlIHN0YXRpb24gaW5mbyBub3dcclxuICAgICAgICAvLyBvdGhlciB3aXNlIHRoZSBiY3Igd2lsbCBiZSBpbmFjY3VyYXRlIGR1ZSB0byB0aGUgcm90YXRpb25cclxuICAgICAgICBsZXQgc3RuSW5mb0VsZW0gPSBzdG5OYW1lRWxlbS5wYXJlbnQoKTtcclxuICAgICAgICBzdG5JbmZvRWxlbS5hdHRyKCd0cmFuc2Zvcm0nLCBgJHtzdG5JbmZvRWxlbS5hdHRyKCd0cmFuc2Zvcm0nKX1yb3RhdGUoLTUwKWApXHJcblxyXG4gICAgICAgIHJldHVybiBsaW5lRWxlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IF9uYW1lQ2xhc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBSTUdTdGF0aW9uU0gsIEludFN0YXRpb25TSCwgc3RhdGlvbl9pZCB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9