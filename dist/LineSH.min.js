(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["LineSH"],{

/***/ "./src/Line/LineSH.ts":
/*!****************************!*\
  !*** ./src/Line/LineSH.ts ***!
  \****************************/
/*! exports provided: RMGLineSH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLineSH", function() { return RMGLineSH; });
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");
/* harmony import */ var _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/StationSH */ "./src/Station/StationSH.ts");


class RMGLineSH extends _Line__WEBPACK_IMPORTED_MODULE_0__["RMGLine"] {
    constructor(param) {
        super(param);
    }
    _initStnInstance(stnId, stnInfo) {
        switch (stnInfo.change_type) {
            case 'int2':
            case 'int3_l':
            case 'int3_r':
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
            case 'osi11_ur':
            case 'osi11_pr':
            case 'osi12_ul':
            case 'osi12_pl':
            case 'osi12_ur':
            case 'osi12_pr':
            case 'osi21_ul':
            case 'osi21_pl':
            case 'osi21_ur':
            case 'osi21_pr':
            case 'osi22_ul':
            case 'osi22_pl':
            case 'osi22_ur':
            case 'osi22_pr':
            default:
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["RMGStationSH"](stnId, stnInfo);
        }
    }
    // draw the destination
    drawDestInfo() {
        $('#station_info_shmetro > #platform > text').text(this._platformNum);
        var bcr = $('#station_info_shmetro > #dest_text')[0].getBoundingClientRect();
        var flagLength = 160 + 150 + bcr.width + 45 + 50;
        // arrow
        var isLeft = (this._direction == 'l') ? 1 : -1;
        var arrowX = (this._svgDestWidth - isLeft * flagLength) / 20;
        arrowX = (this._direction == 'l') ? arrowX : this._svgDestWidth - 20;
        var arrowRotate = 90 * (1 - isLeft);
        $('#station_info_shmetro > #arrow_left_use').attr('transform', `translate(${arrowX},135)rotate(${arrowRotate})`);
        // not in use now
        var platformNumX = arrowX + isLeft * (160 + 50 + 75);
        $('#station_info_shmetro > #platform').attr('transform', `translate(${platformNumX},130)`);
        // list the destination text
        // Todo: fix svg_dest_width*0.8, this has only been tested on 1000 width
        if (this._direction === 'r') {
            var txtAnchor = 'end';
            var destNameX = this._svgDestWidth * 0.8;
        }
        else {
            var txtAnchor = 'start';
            var destNameX = this._svgDestWidth * 0.2;
        }
        $('#station_info_shmetro > #dest_text').attr({
            transform: `translate(${destNameX},135)`,
            'text-anchor': txtAnchor
        });
        // for each left valid destinations, get the name from id
        var [destinations_zh, destinations_en] = [[], []];
        this[`${this._direction}ValidDests`].forEach(stn => {
            destinations_zh.push(this.stations[stn].name[0]);
            destinations_en.push(this.stations[stn].name[1]);
        });
        $('#station_info_shmetro > #dest_text > text:first-child').text(`往${destinations_zh.join("，")}`);
        $('#station_info_shmetro > #dest_text > text:last-child').text(`To ${destinations_en.join(", ")}`);
        // prepare for the line name
        let lineNameX = this._direction === 'l' ? this._svgDestWidth : 320;
        var [lineNameZH, lineNameEN] = this._lineNames;
        // line starts with numbers or letters
        var lineNumber = lineNameZH.match(/(\d*)\w+/);
        if (lineNumber) {
            lineNameX -= 180;
            lineNameZH = "号线";
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 120},70)`,
                width: 100, height: 125
            });
            $('#station_info_shmetro > #line_number > text')
                .show().text(lineNumber[0])
                .attr('transform', `translate(${lineNameX - 70},170)`);
            // Chito: If match format X号线, "号线" always black
            // ignore inherit style from g#line_name_text
            $('#station_info_shmetro > #line_name_text text').attr('fill', 'black');
        }
        else {
            lineNameX -= 280;
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 10},60)`,
                'width': 260,
                'height': 150
            });
            $('#station_info_shmetro > #line_number > text').hide();
            // Chito: If not match format X号线, use inherit style
            $('#station_info_shmetro > #line_name_text text').removeAttr('fill');
            // Todo: set the eng in the middle
            $('#station_info_shmetro > #line_name_text > text:last-child').attr('dx', 10);
        }
        // set the line name
        $('#station_info_shmetro > #line_name_text > text:first-child').text(lineNameZH);
        $('#station_info_shmetro > #line_name_text > text:last-child').text(lineNameEN);
        $('#station_info_shmetro > #line_name_text').attr({
            transform: `translate(${lineNameX},135)`,
            'text-anchor': 'start'
        });
        // the last decoration line
        let path = '';
        if (this._direction == 'l') {
            path = `M30,10 H ${this._svgDestWidth - 20} V 20 H 20 Z`;
        }
        else {
            path = `M20,10 H ${this._svgDestWidth - 30} l 10,10 H 20 Z`;
        }
        $('#line_shmetro_use').attr({
            transform: `translate(0,220)`,
            d: path,
        });
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
        for (let [stnId, stnInstance] of Object.entries(this.stations)
            .filter(stn => stn[1] instanceof _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"])) {
            $(`#rmg-name__shmetro--${stnId}`).parent().append(stnInstance.ungrpIconHTML);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    // rewrite this to change the y of branch station
    _stnYShare(stnId) {
        if (this.branches[0].includes(stnId))
            return 0;
        else
            return 3;
    }
    _linePath(stnIds, type) {
        var [prevId, prevY, prevX] = [];
        var path = {};
        const e = 30;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path['start'] = [x, y];
                return;
            }
            if (y === 0) {
                // merge back to main line
                if (y != prevY) {
                    path['bifurcate'] = [prevX, prevY];
                }
            }
            else {
                // on the branch line
                if (y != prevY) {
                    path['bifurcate'] = [x, y];
                }
            }
            path['end'] = [x, y];
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // generate path
        if (!path.hasOwnProperty('start')) {
            // no line generated
            // keys in path: none
            return '';
        }
        else if (!path.hasOwnProperty('end')) {
            // litte line (only beyond terminal station)
            // keys in path: start
            let [x, y] = path['start'];
            if (type === 'main') {
                // current at terminal(end) station, draw the litte main line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x - e},${y - 6} l -12,12 L ${x},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                // current at terminal(start) station, draw the litte pass line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} L ${x},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else if (!path.hasOwnProperty('bifurcate')) {
            // general main line
            // keys in path: start, end
            let [x, y] = path['start'], h = path['end'][0];
            if (type === 'main') {
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h} l 0,12 L ${x - 42},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} H ${h + e} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else {
            // main line bifurcate here to become the branch line
            // and path return here are only branch line
            // keys in path: start, bifurcate, end
            // Todo: disable lower branch
            let [x, y] = path['start'], h = path['end'][0];
            let [xb, yb] = path['bifurcate'], [xm, ym] = path['end'];
            if (type === 'main') {
                if (this._direction === 'l') {
                    if (ym > y) {
                        // main line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e - 12},${y + 6} Z`;
                    }
                    else {
                        // main line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm},${ym + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // main line, right direction, upper to center
                        return `M ${x},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                    else {
                        // main line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm + e},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm + e + 12},${ym + 6} Z`;
                    }
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    if (ym > y) {
                        // pass line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // pass line, right direction, upper to center
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
            }
        }
    }
    // draw the line in railmap
    drawLine() {
        $('.rmg-line').removeClass('rmg-line__mtr').addClass('rmg-line__shmetro');
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            // rewrite the second parameter to get the path correctly
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns, 'main') }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns, 'pass') }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    fillThemeColour() {
        super.fillThemeColour();
        // this will add the stroke of the station circle
        // however the stroke path is defined in index.html
        // which made changing station style strange
        $('circle#' + _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["station_id"]).attr('stroke', this._themeColour);
        $('path#int2_sh').attr('stroke', this._themeColour);
        // pass stroke should be added somewhere else
        // but I can't figure it out
        // Chito: path#stn_sh now have stroke attribute #aaa, no need to change. 
        // the railmap line
        $('#line_main').children().attr('fill', this._themeColour);
        $('#line_pass').children().attr('fill', '#aaa');
        // the last decoration line
        $(`#line_shmetro_use`).attr('fill', this._themeColour);
        // if (this._lineNames[0].match(/(\d*)\w+/)) {
        //     // the line starts with number
        //     $('#station_info_shmetro > #line_number > text').attr('fill', '#fff')
        // } else {
        //     // the line starts with letter
        //     $('#station_info_shmetro > #line_name_text').attr('fill', '#fff')
        // }
        // Chito: g#line_name_text's fill always equal to the foreground colour, 
        // while inner text elements may have different fill, see drawDestInfo()
        $('#station_info_shmetro > #line_name_text').attr('fill', this._fgColour);
        // dest info line color (both background and foreground)
        $('#station_info_shmetro > #line_number > rect').attr('fill', this._themeColour);
        $('#station_info_shmetro > #line_number > text').attr('fill', this._fgColour);
    }
    updateStnNameBg() {
        $('#current_bg').hide(); // fix the mysterious black rect
    }
    loadFonts() {
        //Chito: empty this method, avoid adding MTR specific class, which is for displaying country-variant character form. 
    }
    // rewrite this to make sure the line is draw before color
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        // change the func call here
        line.drawLine();
        line.fillThemeColour();
        // change the func call here
        line.drawStrip();
        line.drawDestInfo();
        line.loadFonts();
        line.updateStnNameBg();
    }
    // rewrite this to call fillThemeColour when flip direction
    set direction(val) {
        super.direction = val;
        this.fillThemeColour();
    }
    // rewrite this to call fillThemeColour when set current station
    set currentStnId(val) {
        super.currentStnId = val;
        this.fillThemeColour();
    }
    // rewrite this to get drawStns and recalled
    updateStnTransfer(stnId, type, info = null) {
        super.updateStnTransfer(stnId, type, info);
        this.fillThemeColour();
        // clear the original stations
        $('#stn_icons').empty();
        this.drawStns();
    }
    // rewrite this to call fillThemeColour when add station
    addStn(prep, stnId, loc, end) {
        let [newId, newInfo] = super.addStn(prep, stnId, loc, end);
        this.fillThemeColour();
        return [newId, newInfo];
    }
    // rewrite this to change the railmap position
    set yPc(val) {
        super.yPc = val;
        let y = val * this._svgHeight / 50;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        super.padding = val;
        this.fillThemeColour();
    }
    set branchSpacing(val) {
        super.branchSpacing = val;
        this.fillThemeColour();
    }
    removeStn(stnId) {
        if (super.removeStn(stnId)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchType(stnId, direction, type) {
        // Chito: This method should be remove when this._stnState() is updated. 
        super.updateBranchType(stnId, direction, type);
        this.fillThemeColour();
    }
    updateBranchFirst(stnId, direction, first) {
        if (super.updateBranchFirst(stnId, direction, first)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchPos(stnId, direction, pos) {
        // Chito: This method should be remove when this._stnState() is updated. 
        super.updateBranchPos(stnId, direction, pos);
        this.fillThemeColour();
    }
}


/***/ }),

/***/ "./src/Station/StationSH.ts":
/*!**********************************!*\
  !*** ./src/Station/StationSH.ts ***!
  \**********************************/
/*! exports provided: RMGStationSH, IntStationSH, station_id */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStationSH", function() { return RMGStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntStationSH", function() { return IntStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "station_id", function() { return station_id; });
/* harmony import */ var _Station__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Station */ "./src/Station/Station.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


const station_id = 'stn_sh';
class RMGStationSH extends _Station__WEBPACK_IMPORTED_MODULE_0__["RMGStation"] {
    constructor(id, data) {
        super(id, data);
        this.stnNum = data.num;
    }
    get _nameShift() { return false; }
    get _tickRotation() { return this.y > 0 ? 180 : 0; }
    get _dxdy() {
        var nameENLn = this.name[1].split('\\').length;
        let dx;
        if (this._nameShift) {
            dx = this._tickRotation === 0 ? -9 : 16 + (nameENLn - 1) * 12 * Math.cos(-45);
        }
        else {
            dx = this._tickRotation === 0 ? (24 + (nameENLn - 1) * 12) * Math.cos(-45) : -6;
        }
        // let dx = this._nameShift ? -8 : (24 + (nameENLn-1)*12) * Math.cos(-45);
        let dy = this._tickRotation === 0 ? (-4 - 21.921875 - (nameENLn - 1) * 12 * Math.cos(-45)) : 17.5;
        // var dy = (-4 - 21.921875 - (nameENLn-1)*12*Math.cos(-45)) * (this._tickRotation === 0 ? 1 : -1);
        return [dx, dy];
    }
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? [station_id + '_pass', 'Pass'] : [station_id, 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn' }));
    }
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        return $('<g>', {
            'transform': `translate(${this.x - dx},${this.y + dy})rotate(-50)`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            // class: `Name ${this.nameClass}`
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1])));
    }
}
class IntStationSH extends RMGStationSH {
    constructor(id, data) {
        super(id, data);
        this._intInfos = data.interchange[0];
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
    // rewrite this to get all drawing function to be called
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get ungrpIconHTML() {
        return [...this.intTickHTML];
    }
    // interchange station icon on main line
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? ['int2_sh_pass', 'Pass'] : ['int2_sh', 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn', stroke: this._intInfos[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour] }));
    }
    // regular station name
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        // wrap the name, decro_line and int_line under g in order to rotate at once
        return $('<g>', {
            transform: `translate(${this.x - dx},${this.y + dy})`,
        }).append(
        // the original name text
        $('<g>', {
            id: `rmg-name__shmetro--${this.id}`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1]))));
    }
    // interchange station icon after the station name
    get intTickHTML() {
        let lineElems = [];
        // get the exact station name width so that the
        // interchange station icon can be right after the station name
        let stnNameElem = $(`#rmg-name__shmetro--${this.id}`);
        let bcr = stnNameElem.get(0).getBoundingClientRect();
        let dx = bcr.right - bcr.left + 5;
        this._intInfos.map((stn, index) => {
            // interchange line icon after station name
            var lineIconColour = stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour];
            var lineIconElem = $('<use>', {
                'xlink:href': '#int_sh',
                fill: lineIconColour,
                transform: `translate(${dx + index * 25},-12)`,
                class: 'rmg-line__shmetro rmg-line__change',
            });
            if (this.state == -1) {
                lineIconElem.addClass('rmg-line__pass');
            }
            // line starts with numbers or letters
            let lineNumber = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]).match(/(\d*)\w+/);
            if (lineNumber) {
                var lineName = lineNumber[0];
            }
            else {
                var lineName = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]);
            }
            // interchange line name
            var lineNameElem = $('<text>', {
                // Todo: fix this hard-coded center(10) position
                transform: `translate(${dx + 10 + index * 25},8)`,
                class: 'rmg-name__zh rmg-name__shmetro--line_name',
                'text-anchor': 'middle',
                fill: stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].fg],
            }).text(lineName);
            lineElems.push(lineIconElem, lineNameElem);
        });
        // rotate the station info now
        // other wise the bcr will be inaccurate due to the rotation
        let stnInfoElem = stnNameElem.parent();
        stnInfoElem.attr('transform', `${stnInfoElem.attr('transform')}rotate(-50)`);
        return lineElems;
    }
    get _nameClass() {
        return (this.state == -1) ? 'Pass' : 'Future';
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9MaW5lU0gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvblNILnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFpQztBQUM2QztBQUt2RSxNQUFNLFNBQVUsU0FBUSw2Q0FBTztJQUNsQyxZQUFZLEtBQUs7UUFDYixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVMsRUFBRSxPQUFvQjtRQUM1QyxRQUFRLE9BQU8sQ0FBQyxXQUFXLEVBQUU7WUFDekIsS0FBSyxNQUFNLENBQUM7WUFDWixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssUUFBUTtnQkFDVCxPQUFPLElBQUksK0RBQVksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDNUMsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEI7Z0JBQ0ksT0FBTyxJQUFJLCtEQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELHVCQUF1QjtJQUN2QixZQUFZO1FBQ1IsQ0FBQyxDQUFDLDBDQUEwQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUks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T0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7SUFDbEQsQ0FBQztDQUNKO0FBRWlEIiwiZmlsZSI6IkxpbmVTSC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lJztcclxuaW1wb3J0IHsgUk1HU3RhdGlvblNILCBJbnRTdGF0aW9uU0gsIHN0YXRpb25faWQgfSBmcm9tICcuLi9TdGF0aW9uL1N0YXRpb25TSCc7XHJcbmltcG9ydCB7IFJNR1N0YXRpb24gfSBmcm9tICcuLi9TdGF0aW9uL1N0YXRpb24nO1xyXG5cclxuaW1wb3J0IHsgSUQsIE5hbWUsIFN0YXRpb25JbmZvLCBSTUdQYXJhbSwgc2V0UGFyYW1zLCBEaXJlY3Rpb25Mb25nIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJNR0xpbmVTSCBleHRlbmRzIFJNR0xpbmUge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW0pIHtcclxuICAgICAgICBzdXBlcihwYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2luaXRTdG5JbnN0YW5jZShzdG5JZDogSUQsIHN0bkluZm86IFN0YXRpb25JbmZvKTogUk1HU3RhdGlvbiB7XHJcbiAgICAgICAgc3dpdGNoIChzdG5JbmZvLmNoYW5nZV90eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ludDInOlxyXG4gICAgICAgICAgICBjYXNlICdpbnQzX2wnOlxyXG4gICAgICAgICAgICBjYXNlICdpbnQzX3InOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRTdGF0aW9uU0goc3RuSWQsIHN0bkluZm8pO1xyXG4gICAgICAgICAgICBjYXNlICdvc2kxMV91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3BsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wcic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTJfcGwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3ByJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjFfdWwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMV9wbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3VyJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjFfcHInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMl91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3BsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMl9wcic6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJNR1N0YXRpb25TSChzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGRyYXcgdGhlIGRlc3RpbmF0aW9uXHJcbiAgICBkcmF3RGVzdEluZm8oKSB7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI3BsYXRmb3JtID4gdGV4dCcpLnRleHQodGhpcy5fcGxhdGZvcm1OdW0pO1xyXG5cclxuICAgICAgICB2YXIgYmNyID0gJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2Rlc3RfdGV4dCcpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIHZhciBmbGFnTGVuZ3RoID0gMTYwICsgMTUwICsgYmNyLndpZHRoICsgNDUgKyA1MDtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBhcnJvd1xyXG4gICAgICAgIHZhciBpc0xlZnQgPSAodGhpcy5fZGlyZWN0aW9uID09ICdsJykgPyAxIDogLTE7XHJcbiAgICAgICAgdmFyIGFycm93WCA9ICh0aGlzLl9zdmdEZXN0V2lkdGggLSBpc0xlZnQgKiBmbGFnTGVuZ3RoKSAvIDIwO1xyXG4gICAgICAgIGFycm93WCA9ICh0aGlzLl9kaXJlY3Rpb24gPT0gJ2wnKSA/IGFycm93WCA6IHRoaXMuX3N2Z0Rlc3RXaWR0aCAtIDIwO1xyXG4gICAgICAgIHZhciBhcnJvd1JvdGF0ZSA9IDkwICogKDEgLSBpc0xlZnQpO1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNhcnJvd19sZWZ0X3VzZScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHthcnJvd1h9LDEzNSlyb3RhdGUoJHthcnJvd1JvdGF0ZX0pYCk7XHJcblxyXG4gICAgICAgIC8vIG5vdCBpbiB1c2Ugbm93XHJcbiAgICAgICAgdmFyIHBsYXRmb3JtTnVtWCA9IGFycm93WCArIGlzTGVmdCAqICgxNjAgKyA1MCArIDc1KTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjcGxhdGZvcm0nKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7cGxhdGZvcm1OdW1YfSwxMzApYCk7XHJcblxyXG4gICAgICAgIC8vIGxpc3QgdGhlIGRlc3RpbmF0aW9uIHRleHRcclxuICAgICAgICAvLyBUb2RvOiBmaXggc3ZnX2Rlc3Rfd2lkdGgqMC44LCB0aGlzIGhhcyBvbmx5IGJlZW4gdGVzdGVkIG9uIDEwMDAgd2lkdGhcclxuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAncicpIHtcclxuICAgICAgICAgICAgdmFyIHR4dEFuY2hvciA9ICdlbmQnO1xyXG4gICAgICAgICAgICB2YXIgZGVzdE5hbWVYID0gdGhpcy5fc3ZnRGVzdFdpZHRoICogMC44O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0eHRBbmNob3IgPSAnc3RhcnQnO1xyXG4gICAgICAgICAgICB2YXIgZGVzdE5hbWVYID0gdGhpcy5fc3ZnRGVzdFdpZHRoICogMC4yO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjZGVzdF90ZXh0JykuYXR0cih7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2Rlc3ROYW1lWH0sMTM1KWAsXHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHR4dEFuY2hvclxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBmb3IgZWFjaCBsZWZ0IHZhbGlkIGRlc3RpbmF0aW9ucywgZ2V0IHRoZSBuYW1lIGZyb20gaWRcclxuICAgICAgICB2YXIgW2Rlc3RpbmF0aW9uc196aCwgZGVzdGluYXRpb25zX2VuXTogU3RyaW5nW11bXSA9IFtbXSwgW11dXHJcbiAgICAgICAgdGhpc1tgJHt0aGlzLl9kaXJlY3Rpb259VmFsaWREZXN0c2BdLmZvckVhY2goc3RuID0+IHtcclxuICAgICAgICAgICAgZGVzdGluYXRpb25zX3poLnB1c2godGhpcy5zdGF0aW9uc1tzdG5dLm5hbWVbMF0pXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uc19lbi5wdXNoKHRoaXMuc3RhdGlvbnNbc3RuXS5uYW1lWzFdKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNkZXN0X3RleHQgPiB0ZXh0OmZpcnN0LWNoaWxkJykudGV4dChg5b6AJHtkZXN0aW5hdGlvbnNfemguam9pbihcIu+8jFwiKX1gKVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNkZXN0X3RleHQgPiB0ZXh0Omxhc3QtY2hpbGQnKS50ZXh0KGBUbyAke2Rlc3RpbmF0aW9uc19lbi5qb2luKFwiLCBcIil9YClcclxuXHJcbiAgICAgICAgLy8gcHJlcGFyZSBmb3IgdGhlIGxpbmUgbmFtZVxyXG4gICAgICAgIGxldCBsaW5lTmFtZVggPSB0aGlzLl9kaXJlY3Rpb24gPT09ICdsJyA/IHRoaXMuX3N2Z0Rlc3RXaWR0aCA6IDMyMFxyXG4gICAgICAgIHZhciBbbGluZU5hbWVaSCwgbGluZU5hbWVFTl0gPSB0aGlzLl9saW5lTmFtZXM7XHJcblxyXG4gICAgICAgIC8vIGxpbmUgc3RhcnRzIHdpdGggbnVtYmVycyBvciBsZXR0ZXJzXHJcbiAgICAgICAgdmFyIGxpbmVOdW1iZXIgPSBsaW5lTmFtZVpILm1hdGNoKC8oXFxkKilcXHcrLylcclxuICAgICAgICBpZiAobGluZU51bWJlcikge1xyXG4gICAgICAgICAgICBsaW5lTmFtZVggLT0gMTgwO1xyXG4gICAgICAgICAgICBsaW5lTmFtZVpIID0gXCLlj7fnur9cIlxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiByZWN0JykuYXR0cih7XHJcbiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLl90aGVtZUNvbG91cixcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7bGluZU5hbWVYIC0gMTIwfSw3MClgLCBcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsIGhlaWdodDogMTI1XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX251bWJlciA+IHRleHQnKVxyXG4gICAgICAgICAgICAgICAgLnNob3coKS50ZXh0KGxpbmVOdW1iZXJbMF0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2xpbmVOYW1lWCAtIDcwfSwxNzApYCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBDaGl0bzogSWYgbWF0Y2ggZm9ybWF0IFjlj7fnur8sIFwi5Y+357q/XCIgYWx3YXlzIGJsYWNrXHJcbiAgICAgICAgICAgIC8vIGlnbm9yZSBpbmhlcml0IHN0eWxlIGZyb20gZyNsaW5lX25hbWVfdGV4dFxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9uYW1lX3RleHQgdGV4dCcpLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaW5lTmFtZVggLT0gMjgwO1xyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiByZWN0JykuYXR0cih7XHJcbiAgICAgICAgICAgICAgICBmaWxsOiB0aGlzLl90aGVtZUNvbG91ciwgXHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZSgke2xpbmVOYW1lWCAtIDEwfSw2MClgLFxyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogMjYwLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IDE1MFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiB0ZXh0JykuaGlkZSgpXHJcblxyXG4gICAgICAgICAgICAvLyBDaGl0bzogSWYgbm90IG1hdGNoIGZvcm1hdCBY5Y+357q/LCB1c2UgaW5oZXJpdCBzdHlsZVxyXG4gICAgICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9uYW1lX3RleHQgdGV4dCcpLnJlbW92ZUF0dHIoJ2ZpbGwnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRvZG86IHNldCB0aGUgZW5nIGluIHRoZSBtaWRkbGVcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0ID4gdGV4dDpsYXN0LWNoaWxkJykuYXR0cignZHgnLCAxMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNldCB0aGUgbGluZSBuYW1lXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0ID4gdGV4dDpmaXJzdC1jaGlsZCcpLnRleHQobGluZU5hbWVaSClcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9uYW1lX3RleHQgPiB0ZXh0Omxhc3QtY2hpbGQnKS50ZXh0KGxpbmVOYW1lRU4pXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0JykuYXR0cih7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2xpbmVOYW1lWH0sMTM1KWAsXHJcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdzdGFydCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdGhlIGxhc3QgZGVjb3JhdGlvbiBsaW5lXHJcbiAgICAgICAgbGV0IHBhdGggPSAnJ1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT0gJ2wnKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBgTTMwLDEwIEggJHt0aGlzLl9zdmdEZXN0V2lkdGggLSAyMH0gViAyMCBIIDIwIFpgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aCA9IGBNMjAsMTAgSCAke3RoaXMuX3N2Z0Rlc3RXaWR0aCAtIDMwfSBsIDEwLDEwIEggMjAgWmBcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI2xpbmVfc2htZXRyb191c2UnKS5hdHRyKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsMjIwKWAsXHJcbiAgICAgICAgICAgIGQ6IHBhdGgsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gYXBwZW5kIGRvbSBhbmQgdGhlbiBnZXRCb3VuZGluZ0NsaWVudFJlY3RcclxuICAgIC8vIHRvIGdldCB0aGUgZXhhY3QgcG9zaXRpb24gd2hlcmUgaW50IGljb24gY2FuIGJlIGZpdFxyXG4gICAgZHJhd1N0bnMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcclxuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHsgY29udGludWU7IH1cclxuICAgICAgICAgICAgJCgnI3N0bl9pY29ucycpLmFwcGVuZChzdG5JbnN0YW5jZS5odG1sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7IC8vIFJlZnJlc2ggRE9NXHJcblxyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpXHJcbiAgICAgICAgICAgIC5maWx0ZXIoc3RuID0+IHN0blsxXSBpbnN0YW5jZW9mIEludFN0YXRpb25TSCkgYXMgW0lELCBJbnRTdGF0aW9uU0hdW10pIHtcclxuICAgICAgICAgICAgJChgI3JtZy1uYW1lX19zaG1ldHJvLS0ke3N0bklkfWApLnBhcmVudCgpLmFwcGVuZChzdG5JbnN0YW5jZS51bmdycEljb25IVE1MKVxyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTsgLy8gUmVmcmVzaCBET01cclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2hhbmdlIHRoZSB5IG9mIGJyYW5jaCBzdGF0aW9uXHJcbiAgICBfc3RuWVNoYXJlKHN0bklkKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAodGhpcy5icmFuY2hlc1swXS5pbmNsdWRlcyhzdG5JZCkpIHJldHVybiAwO1xyXG4gICAgICAgIGVsc2UgcmV0dXJuIDNcclxuICAgIH1cclxuXHJcbiAgICBfbGluZVBhdGgoc3RuSWRzOiBJRFtdLCB0eXBlPzogJ21haW4nIHwgJ3Bhc3MnKTogc3RyaW5nIHtcclxuICAgICAgICB2YXIgW3ByZXZJZCwgcHJldlksIHByZXZYXTogW3N0cmluZz8sIG51bWJlcj8sIG51bWJlcj9dID0gW11cclxuICAgICAgICB2YXIgcGF0aDogeyBba2V5OiBzdHJpbmddOiBudW1iZXJbXSB9ID0ge31cclxuICAgICAgICBjb25zdCBlID0gMzBcclxuXHJcbiAgICAgICAgc3RuSWRzLmZvckVhY2goc3RuSWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgW3gsIHldID0gWydfc3RuUmVhbFgnLCAnX3N0blJlYWxZJ10ubWFwKGZ1biA9PiB0aGlzW2Z1bl0oc3RuSWQpKVxyXG4gICAgICAgICAgICBpZiAoIXByZXZZICYmIHByZXZZICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcclxuICAgICAgICAgICAgICAgIHBhdGhbJ3N0YXJ0J10gPSBbeCwgeV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgYmFjayB0byBtYWluIGxpbmVcclxuICAgICAgICAgICAgICAgIGlmICh5ICE9IHByZXZZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aFsnYmlmdXJjYXRlJ10gPSBbcHJldlgsIHByZXZZXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gb24gdGhlIGJyYW5jaCBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBwcmV2WSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhbJ2JpZnVyY2F0ZSddID0gW3gsIHldXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGF0aFsnZW5kJ10gPSBbeCwgeV07XHJcbiAgICAgICAgICAgIFtwcmV2SWQsIHByZXZYLCBwcmV2WV0gPSBbc3RuSWQsIHgsIHldO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBnZW5lcmF0ZSBwYXRoXHJcbiAgICAgICAgaWYgKCFwYXRoLmhhc093blByb3BlcnR5KCdzdGFydCcpKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIGxpbmUgZ2VuZXJhdGVkXHJcbiAgICAgICAgICAgIC8vIGtleXMgaW4gcGF0aDogbm9uZVxyXG4gICAgICAgICAgICByZXR1cm4gJydcclxuICAgICAgICB9IGVsc2UgaWYgKCFwYXRoLmhhc093blByb3BlcnR5KCdlbmQnKSkge1xyXG4gICAgICAgICAgICAvLyBsaXR0ZSBsaW5lIChvbmx5IGJleW9uZCB0ZXJtaW5hbCBzdGF0aW9uKVxyXG4gICAgICAgICAgICAvLyBrZXlzIGluIHBhdGg6IHN0YXJ0XHJcbiAgICAgICAgICAgIGxldCBbeCwgeV0gPSBwYXRoWydzdGFydCddXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWFpbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYXQgdGVybWluYWwoZW5kKSBzdGF0aW9uLCBkcmF3IHRoZSBsaXR0ZSBtYWluIGxpbmVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4IC0gZX0sJHt5IC0gNn0gbCAtMTIsMTIgTCAke3h9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4ICsgZX0sJHt5IC0gNn0gbCAxMiwxMiBMICR7eH0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHR5cGUgPT09ICdwYXNzJ1xyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBhdCB0ZXJtaW5hbChzdGFydCkgc3RhdGlvbiwgZHJhdyB0aGUgbGl0dGUgcGFzcyBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBMICR7eCArIGV9LCR7eSAtIDZ9IGwgMCwxMiBMICR7eCAtIGV9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBMICR7eH0sJHt5IC0gNn0gbCAwLDEyIEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghcGF0aC5oYXNPd25Qcm9wZXJ0eSgnYmlmdXJjYXRlJykpIHtcclxuICAgICAgICAgICAgLy8gZ2VuZXJhbCBtYWluIGxpbmVcclxuICAgICAgICAgICAgLy8ga2V5cyBpbiBwYXRoOiBzdGFydCwgZW5kXHJcbiAgICAgICAgICAgIGxldCBbeCwgeV0gPSBwYXRoWydzdGFydCddLCBoID0gcGF0aFsnZW5kJ11bMF1cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtYWluJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHtofSBsIDAsMTIgTCAke3ggLSA0Mn0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gSCAke2ggKyBlfSBsIDEyLDEyIEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdHlwZSA9PT0gJ3Bhc3MnXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gSCAke2ggKyBlfSBsIDAsMTIgTCAke3ggLSBlfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gSCAke2ggKyBlfSBsIDAsMTIgTCAke3ggLSBlfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbWFpbiBsaW5lIGJpZnVyY2F0ZSBoZXJlIHRvIGJlY29tZSB0aGUgYnJhbmNoIGxpbmVcclxuICAgICAgICAgICAgLy8gYW5kIHBhdGggcmV0dXJuIGhlcmUgYXJlIG9ubHkgYnJhbmNoIGxpbmVcclxuICAgICAgICAgICAgLy8ga2V5cyBpbiBwYXRoOiBzdGFydCwgYmlmdXJjYXRlLCBlbmRcclxuXHJcbiAgICAgICAgICAgIC8vIFRvZG86IGRpc2FibGUgbG93ZXIgYnJhbmNoXHJcbiAgICAgICAgICAgIGxldCBbeCwgeV0gPSBwYXRoWydzdGFydCddLCBoID0gcGF0aFsnZW5kJ11bMF1cclxuICAgICAgICAgICAgbGV0IFt4YiwgeWJdID0gcGF0aFsnYmlmdXJjYXRlJ10sIFt4bSwgeW1dID0gcGF0aFsnZW5kJ11cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtYWluJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHltID4geSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWluIGxpbmUsIGxlZnQgZGlyZWN0aW9uLCBjZW50ZXIgdG8gdXBwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHt4YiArIGV9IEwgJHt4bX0sJHt5bSAtIDZ9IGwgMCwxMiBMICR7eGIgKyBlfSwke3liICsgNn0gTCAke3ggLSBlIC0gMTJ9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFpbiBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgdXBwZXIgdG8gY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3htfSwke3ltIC0gNn0gSCAke3hiIC0gZX0gTCAke3h9LCR7eSAtIDZ9IGwgMCwxMiBMICR7eGIgLSBlfSwke3liICsgNn0gTCAke3htfSwke3ltICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5bSA+IHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFpbiBsaW5lLCByaWdodCBkaXJlY3Rpb24sIHVwcGVyIHRvIGNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1haW4gbGluZSwgcmlnaHQgZGlyZWN0aW9uLCBjZW50ZXIgdG8gdXBwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBzYW1lIGFzIHRoZSBvdGhlciwgYnV0IHJlcGxhY2UgeCB3aXRoIHhtIGFuZCB4bSB3aXRoIHhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eG0gKyBlfSwke3ltIC0gNn0gSCAke3hiIC0gZX0gTCAke3h9LCR7eSAtIDZ9IGwgMCwxMiBMICR7eGIgLSBlfSwke3liICsgNn0gTCAke3htICsgZSArIDEyfSwke3ltICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0eXBlID09PSAncGFzcydcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5bSA+IHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGxpbmUsIGxlZnQgZGlyZWN0aW9uLCB1cHBlciB0byBjZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBzYW1lIGFzIHRoZSBvdGhlciwgYnV0IHJlcGxhY2UgeCB3aXRoIHhtIGFuZCB4bSB3aXRoIHhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gTCAke3hiIC0gZX0sJHt5YiAtIDZ9IEggJHt4bSArIGV9IGwgMCwxMiBMICR7eGIgLSBlfSwke3liICsgNn0gTCAke3h9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeW0gPiB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgbGluZSwgcmlnaHQgZGlyZWN0aW9uLCB1cHBlciB0byBjZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHt4YiArIGV9IEwgJHt4bX0sJHt5bSAtIDZ9IGwgMCwxMiBMICR7eGIgKyBlfSwke3liICsgNn0gTCAke3ggLSBlfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgbGluZSwgcmlnaHQgZGlyZWN0aW9uLCBjZW50ZXIgdG8gdXBwZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBzYW1lIGFzIHRoZSBvdGhlciwgYnV0IHJlcGxhY2UgeCB3aXRoIHhtIGFuZCB4bSB3aXRoIHhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gTCAke3hiIC0gZX0sJHt5YiAtIDZ9IEggJHt4bSArIGV9IGwgMCwxMiBMICR7eGIgLSBlfSwke3liICsgNn0gTCAke3h9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGRyYXcgdGhlIGxpbmUgaW4gcmFpbG1hcFxyXG4gICAgZHJhd0xpbmUoKSB7XHJcbiAgICAgICAgJCgnLnJtZy1saW5lJykucmVtb3ZlQ2xhc3MoJ3JtZy1saW5lX19tdHInKS5hZGRDbGFzcygncm1nLWxpbmVfX3NobWV0cm8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5icmFuY2hlcy5tYXAoYnJhbmNoID0+IHtcclxuICAgICAgICAgICAgdmFyIGxpbmVNYWluU3RucyA9IGJyYW5jaC5maWx0ZXIoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RhdGUgPj0gMCk7XHJcbiAgICAgICAgICAgIHZhciBsaW5lUGFzc1N0bnMgPSBicmFuY2guZmlsdGVyKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlIDw9IDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmVNYWluU3Rucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVQYXNzU3RucyA9IGJyYW5jaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmVNYWluU3Rucy5maWx0ZXIoc3RuSWQgPT4gbGluZVBhc3NTdG5zLmluZGV4T2Yoc3RuSWQpICE9PSAtMSkubGVuZ3RoID09IDAgJiYgbGluZU1haW5TdG5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdHdvIHNldCBkaXNqb2ludFxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVQYXNzU3Ruc1swXSA9PT0gYnJhbmNoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLTEgLTEgMSAxXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zLnB1c2gobGluZU1haW5TdG5zWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZU1haW5TdG5zWzBdID09PSBicmFuY2hbMF0gJiYgbGluZU1haW5TdG5zW2xpbmVNYWluU3Rucy5sZW5ndGgtMV0gPT09IGJyYW5jaFticmFuY2gubGVuZ3RoLTFdICYmIGxpbmVQYXNzU3Rucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMgPSBicmFuY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZU1haW5TdG5zID0gW107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIDEgMSAtMSAtMVxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3Rucy51bnNoaWZ0KGxpbmVNYWluU3Ruc1tsaW5lTWFpblN0bnMubGVuZ3RoLTFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gcmV3cml0ZSB0aGUgc2Vjb25kIHBhcmFtZXRlciB0byBnZXQgdGhlIHBhdGggY29ycmVjdGx5XHJcbiAgICAgICAgICAgICQoJyNsaW5lX21haW4nKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8cGF0aD4nLCB7ZDp0aGlzLl9saW5lUGF0aChsaW5lTWFpblN0bnMsICdtYWluJyl9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAkKCcjbGluZV9wYXNzJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZVBhc3NTdG5zLCAncGFzcycpfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2xpbmVfbWFpbicpLmh0bWwoJCgnI2xpbmVfbWFpbicpLmh0bWwoKSk7XHJcbiAgICAgICAgJCgnI2xpbmVfcGFzcycpLmh0bWwoJCgnI2xpbmVfcGFzcycpLmh0bWwoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsbFRoZW1lQ29sb3VyKCkge1xyXG4gICAgICAgIHN1cGVyLmZpbGxUaGVtZUNvbG91cigpO1xyXG5cclxuICAgICAgICAvLyB0aGlzIHdpbGwgYWRkIHRoZSBzdHJva2Ugb2YgdGhlIHN0YXRpb24gY2lyY2xlXHJcbiAgICAgICAgLy8gaG93ZXZlciB0aGUgc3Ryb2tlIHBhdGggaXMgZGVmaW5lZCBpbiBpbmRleC5odG1sXHJcbiAgICAgICAgLy8gd2hpY2ggbWFkZSBjaGFuZ2luZyBzdGF0aW9uIHN0eWxlIHN0cmFuZ2VcclxuICAgICAgICAkKCdjaXJjbGUjJyArIHN0YXRpb25faWQpLmF0dHIoJ3N0cm9rZScsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgICAgICAkKCdwYXRoI2ludDJfc2gnKS5hdHRyKCdzdHJva2UnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcblxyXG4gICAgICAgIC8vIHBhc3Mgc3Ryb2tlIHNob3VsZCBiZSBhZGRlZCBzb21ld2hlcmUgZWxzZVxyXG4gICAgICAgIC8vIGJ1dCBJIGNhbid0IGZpZ3VyZSBpdCBvdXRcclxuICAgICAgICAvLyBDaGl0bzogcGF0aCNzdG5fc2ggbm93IGhhdmUgc3Ryb2tlIGF0dHJpYnV0ZSAjYWFhLCBubyBuZWVkIHRvIGNoYW5nZS4gXHJcblxyXG4gICAgICAgIC8vIHRoZSByYWlsbWFwIGxpbmVcclxuICAgICAgICAkKCcjbGluZV9tYWluJykuY2hpbGRyZW4oKS5hdHRyKCdmaWxsJywgdGhpcy5fdGhlbWVDb2xvdXIpXHJcbiAgICAgICAgJCgnI2xpbmVfcGFzcycpLmNoaWxkcmVuKCkuYXR0cignZmlsbCcsICcjYWFhJylcclxuXHJcbiAgICAgICAgLy8gdGhlIGxhc3QgZGVjb3JhdGlvbiBsaW5lXHJcbiAgICAgICAgJChgI2xpbmVfc2htZXRyb191c2VgKS5hdHRyKCdmaWxsJywgdGhpcy5fdGhlbWVDb2xvdXIpXHJcblxyXG4gICAgICAgIC8vIGlmICh0aGlzLl9saW5lTmFtZXNbMF0ubWF0Y2goLyhcXGQqKVxcdysvKSkge1xyXG4gICAgICAgIC8vICAgICAvLyB0aGUgbGluZSBzdGFydHMgd2l0aCBudW1iZXJcclxuICAgICAgICAvLyAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gdGV4dCcpLmF0dHIoJ2ZpbGwnLCAnI2ZmZicpXHJcbiAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgLy8gdGhlIGxpbmUgc3RhcnRzIHdpdGggbGV0dGVyXHJcbiAgICAgICAgLy8gICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCcpLmF0dHIoJ2ZpbGwnLCAnI2ZmZicpXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIENoaXRvOiBnI2xpbmVfbmFtZV90ZXh0J3MgZmlsbCBhbHdheXMgZXF1YWwgdG8gdGhlIGZvcmVncm91bmQgY29sb3VyLCBcclxuICAgICAgICAvLyB3aGlsZSBpbm5lciB0ZXh0IGVsZW1lbnRzIG1heSBoYXZlIGRpZmZlcmVudCBmaWxsLCBzZWUgZHJhd0Rlc3RJbmZvKClcclxuXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0JykuYXR0cignZmlsbCcsIHRoaXMuX2ZnQ29sb3VyKTtcclxuXHJcbiAgICAgICAgLy8gZGVzdCBpbmZvIGxpbmUgY29sb3IgKGJvdGggYmFja2dyb3VuZCBhbmQgZm9yZWdyb3VuZClcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiByZWN0JykuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKTtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9udW1iZXIgPiB0ZXh0JykuYXR0cignZmlsbCcsIHRoaXMuX2ZnQ29sb3VyKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTdG5OYW1lQmcoKSB7XHJcbiAgICAgICAgJCgnI2N1cnJlbnRfYmcnKS5oaWRlKCk7ICAvLyBmaXggdGhlIG15c3RlcmlvdXMgYmxhY2sgcmVjdFxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRGb250cygpIHtcclxuICAgICAgICAvL0NoaXRvOiBlbXB0eSB0aGlzIG1ldGhvZCwgYXZvaWQgYWRkaW5nIE1UUiBzcGVjaWZpYyBjbGFzcywgd2hpY2ggaXMgZm9yIGRpc3BsYXlpbmcgY291bnRyeS12YXJpYW50IGNoYXJhY3RlciBmb3JtLiBcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gbWFrZSBzdXJlIHRoZSBsaW5lIGlzIGRyYXcgYmVmb3JlIGNvbG9yXHJcbiAgICBzdGF0aWMgaW5pdFNWRyhsaW5lKSB7XHJcbiAgICAgICAgbGluZS5kcmF3U1ZHRnJhbWUoKTtcclxuICAgICAgICBsaW5lLnNob3dGcmFtZU91dGVyKCk7XHJcbiAgICAgICAgbGluZS5kcmF3U3RucygpO1xyXG5cclxuICAgICAgICAvLyBjaGFuZ2UgdGhlIGZ1bmMgY2FsbCBoZXJlXHJcbiAgICAgICAgbGluZS5kcmF3TGluZSgpO1xyXG4gICAgICAgIGxpbmUuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBmdW5jIGNhbGwgaGVyZVxyXG5cclxuICAgICAgICBsaW5lLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIGxpbmUuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgbGluZS5sb2FkRm9udHMoKTtcclxuICAgICAgICBsaW5lLnVwZGF0ZVN0bk5hbWVCZygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBjYWxsIGZpbGxUaGVtZUNvbG91ciB3aGVuIGZsaXAgZGlyZWN0aW9uXHJcbiAgICBzZXQgZGlyZWN0aW9uKHZhbCkge1xyXG4gICAgICAgIHN1cGVyLmRpcmVjdGlvbiA9IHZhbFxyXG5cclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGNhbGwgZmlsbFRoZW1lQ29sb3VyIHdoZW4gc2V0IGN1cnJlbnQgc3RhdGlvblxyXG4gICAgc2V0IGN1cnJlbnRTdG5JZCh2YWwpIHtcclxuICAgICAgICBzdXBlci5jdXJyZW50U3RuSWQgPSB2YWxcclxuXHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBnZXQgZHJhd1N0bnMgYW5kIHJlY2FsbGVkXHJcbiAgICB1cGRhdGVTdG5UcmFuc2ZlcihzdG5JZDogSUQsIHR5cGUsIGluZm8gPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUsIGluZm8pXHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuXHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIG9yaWdpbmFsIHN0YXRpb25zXHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmVtcHR5KClcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKClcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2FsbCBmaWxsVGhlbWVDb2xvdXIgd2hlbiBhZGQgc3RhdGlvblxyXG4gICAgYWRkU3RuKHByZXA6ICdiZWZvcmUnIHwgJ2FmdGVyJywgc3RuSWQ6IElELCBsb2MsIGVuZDogSUQpOiBbSUQsIFN0YXRpb25JbmZvXSB7XHJcbiAgICAgICAgbGV0IFtuZXdJZCwgbmV3SW5mb10gPSBzdXBlci5hZGRTdG4ocHJlcCwgc3RuSWQsIGxvYywgZW5kKVxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuICAgICAgICByZXR1cm4gW25ld0lkLCBuZXdJbmZvXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBjaGFuZ2UgdGhlIHJhaWxtYXAgcG9zaXRpb25cclxuICAgIHNldCB5UGModmFsKSB7XHJcbiAgICAgICAgc3VwZXIueVBjID0gdmFsXHJcblxyXG4gICAgICAgIGxldCB5ID0gdmFsICogdGhpcy5fc3ZnSGVpZ2h0IC8gNTA7XHJcbiAgICAgICAgJCgnZyNtYWluJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7eX0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBhZGRpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5wYWRkaW5nID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJyYW5jaFNwYWNpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5icmFuY2hTcGFjaW5nID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU3RuKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmIChzdXBlci5yZW1vdmVTdG4oc3RuSWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQnJhbmNoVHlwZShzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgdHlwZTogJ3Rocm91Z2gnIHwgJ25vbnRocm91Z2gnKSB7XHJcbiAgICAgICAgLy8gQ2hpdG86IFRoaXMgbWV0aG9kIHNob3VsZCBiZSByZW1vdmUgd2hlbiB0aGlzLl9zdG5TdGF0ZSgpIGlzIHVwZGF0ZWQuIFxyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUJyYW5jaFR5cGUoc3RuSWQsIGRpcmVjdGlvbiwgdHlwZSk7XHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hGaXJzdChzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgZmlyc3Q6IElEKSB7XHJcbiAgICAgICAgaWYgKHN1cGVyLnVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkLCBkaXJlY3Rpb24sIGZpcnN0KSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaFBvcyhzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgcG9zOiAwIHwgMSkge1xyXG4gICAgICAgIC8vIENoaXRvOiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgcmVtb3ZlIHdoZW4gdGhpcy5fc3RuU3RhdGUoKSBpcyB1cGRhdGVkLiBcclxuICAgICAgICBzdXBlci51cGRhdGVCcmFuY2hQb3Moc3RuSWQsIGRpcmVjdGlvbiwgcG9zKTtcclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJNR1N0YXRpb24gfSBmcm9tICcuL1N0YXRpb24nO1xyXG5pbXBvcnQgeyBJRCwgTmFtZSwgQnJhbmNoSW5mbywgU3RhdGlvbkluZm8sIEludEluZm9UYWcsIEludGVyY2hhbmdlSW5mbyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IHN0YXRpb25faWQgPSAnc3RuX3NoJ1xyXG5cclxuY2xhc3MgUk1HU3RhdGlvblNIIGV4dGVuZHMgUk1HU3RhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuc3RuTnVtID0gZGF0YS5udW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IF9uYW1lU2hpZnQoKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7IHJldHVybiB0aGlzLnkgPiAwID8gMTgwIDogMDsgfVxyXG4gICAgZ2V0IF9keGR5KCkge1xyXG4gICAgICAgIHZhciBuYW1lRU5MbiA9IHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpLmxlbmd0aDtcclxuICAgICAgICBsZXQgZHg6IG51bWJlcjtcclxuICAgICAgICBpZiAodGhpcy5fbmFtZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gLTkgOiAxNiArIChuYW1lRU5MbiAtIDEpICogMTIgKiBNYXRoLmNvcygtNDUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKDI0ICsgKG5hbWVFTkxuIC0gMSkgKiAxMikgKiBNYXRoLmNvcygtNDUpIDogLTY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGxldCBkeCA9IHRoaXMuX25hbWVTaGlmdCA/IC04IDogKDI0ICsgKG5hbWVFTkxuLTEpKjEyKSAqIE1hdGguY29zKC00NSk7XHJcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKC00IC0gMjEuOTIxODc1IC0gKG5hbWVFTkxuIC0gMSkgKiAxMiAqIE1hdGguY29zKC00NSkpIDogMTcuNTtcclxuICAgICAgICAvLyB2YXIgZHkgPSAoLTQgLSAyMS45MjE4NzUgLSAobmFtZUVOTG4tMSkqMTIqTWF0aC5jb3MoLTQ1KSkgKiAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMSA6IC0xKTtcclxuICAgICAgICByZXR1cm4gW2R4LCBkeV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtpY29uVHlwZSwgbnVtQ2xhc3NdID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gW3N0YXRpb25faWQgKyAnX3Bhc3MnLCAnUGFzcyddIDogW3N0YXRpb25faWQsICdGdXR1cmUnXTtcclxuICAgICAgICByZXR1cm4gJCgnPGc+JywgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJCgnPHVzZT4nLCB7ICd4bGluazpocmVmJzogJyMnICsgaWNvblR5cGUsIGNsYXNzOiAncm1nLXN0bicgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICBsZXQgW2R4LCBkeV0gPSB0aGlzLl9keGR5XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLnggLSBkeH0sJHt0aGlzLnkgKyBkeX0pcm90YXRlKC01MClgLFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAnc3RhcnQnIDogJ2VuZCcsXHJcbiAgICAgICAgICAgIC8vIGNsYXNzOiBgTmFtZSAke3RoaXMubmFtZUNsYXNzfWBcclxuICAgICAgICAgICAgY2xhc3M6IGBOYW1lIEZ1dHVyZWAgIC8vIHRvZG86IGZpeCB0aGlzXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19zaG1ldHJvLS1zdGF0aW9uJykudGV4dCh0aGlzLm5hbWVbMF0pXHJcbiAgICAgICAgKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcclxuICAgICAgICAgICAgICAgIGR5OiAxNSwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX3NobWV0cm8tLXN0YXRpb24nXHJcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3gnOiAwLCAnZHknOiAxMlxyXG4gICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEludFN0YXRpb25TSCBleHRlbmRzIFJNR1N0YXRpb25TSCB7XHJcbiAgICBwcm90ZWN0ZWQgX2ludEluZm9zOiBJbnRlcmNoYW5nZUluZm9bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS5pbnRlcmNoYW5nZVswXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gYXBwZW5kIGRvbSBhbmQgdGhlbiBnZXRCb3VuZGluZ0NsaWVudFJlY3RcclxuICAgIC8vIHRvIGdldCB0aGUgZXhhY3QgcG9zaXRpb24gd2hlcmUgaW50IGljb24gY2FuIGJlIGZpdFxyXG4gICAgZ2V0IGh0bWwoKSB7XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHsgaWQ6IHRoaXMuaWQgfSkuYXBwZW5kKC4uLnRoaXMudW5ncnBIVE1MKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gZ2V0IGFsbCBkcmF3aW5nIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxyXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW3RoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUxdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1bmdycEljb25IVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbLi4udGhpcy5pbnRUaWNrSFRNTF1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpbnRlcmNoYW5nZSBzdGF0aW9uIGljb24gb24gbWFpbiBsaW5lXHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtpY29uVHlwZSwgbnVtQ2xhc3NdID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gWydpbnQyX3NoX3Bhc3MnLCAnUGFzcyddIDogWydpbnQyX3NoJywgJ0Z1dHVyZSddO1xyXG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnl9KWAgfSlcclxuICAgICAgICAgICAgLmFwcGVuZCgkKCc8dXNlPicsIHsgJ3hsaW5rOmhyZWYnOiAnIycgKyBpY29uVHlwZSwgY2xhc3M6ICdybWctc3RuJywgc3Ryb2tlOiB0aGlzLl9pbnRJbmZvc1tJbnRJbmZvVGFnLmNvbG91cl0gfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJlZ3VsYXIgc3RhdGlvbiBuYW1lXHJcbiAgICBnZXQgbmFtZUhUTUwoKSB7XHJcbiAgICAgICAgbGV0IFtkeCwgZHldID0gdGhpcy5fZHhkeTtcclxuICAgICAgICAvLyB3cmFwIHRoZSBuYW1lLCBkZWNyb19saW5lIGFuZCBpbnRfbGluZSB1bmRlciBnIGluIG9yZGVyIHRvIHJvdGF0ZSBhdCBvbmNlXHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54IC0gZHh9LCR7dGhpcy55ICsgZHl9KWAsICAvL3JvdGF0ZSgtNjApXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgbmFtZSB0ZXh0XHJcbiAgICAgICAgICAgICQoJzxnPicsIHtcclxuICAgICAgICAgICAgICAgIGlkOiBgcm1nLW5hbWVfX3NobWV0cm8tLSR7dGhpcy5pZH1gLFxyXG4gICAgICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gJ3N0YXJ0JyA6ICdlbmQnLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6IGBOYW1lIEZ1dHVyZWAgIC8vIHRvZG86IGZpeCB0aGlzXHJcbiAgICAgICAgICAgIH0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0ZXh0PicpLmFkZENsYXNzKCdybWctbmFtZV9femggcm1nLW5hbWVfX3NobWV0cm8tLXN0YXRpb24nKS50ZXh0KHRoaXMubmFtZVswXSlcclxuICAgICAgICAgICAgKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICAgICAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHk6IDE1LCBjbGFzczogJ3JtZy1uYW1lX19lbiBybWctbmFtZV9fc2htZXRyby0tc3RhdGlvbidcclxuICAgICAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICAgICAkKCc8dHNwYW4+Jywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IDAsICdkeSc6IDEyXHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBpbnRlcmNoYW5nZSBzdGF0aW9uIGljb24gYWZ0ZXIgdGhlIHN0YXRpb24gbmFtZVxyXG4gICAgZ2V0IGludFRpY2tIVE1MKCkge1xyXG4gICAgICAgIGxldCBsaW5lRWxlbXM6IEpRdWVyeTxIVE1MRWxlbWVudD5bXSA9IFtdXHJcblxyXG4gICAgICAgIC8vIGdldCB0aGUgZXhhY3Qgc3RhdGlvbiBuYW1lIHdpZHRoIHNvIHRoYXQgdGhlXHJcbiAgICAgICAgLy8gaW50ZXJjaGFuZ2Ugc3RhdGlvbiBpY29uIGNhbiBiZSByaWdodCBhZnRlciB0aGUgc3RhdGlvbiBuYW1lXHJcbiAgICAgICAgbGV0IHN0bk5hbWVFbGVtID0gJChgI3JtZy1uYW1lX19zaG1ldHJvLS0ke3RoaXMuaWR9YClcclxuICAgICAgICBsZXQgYmNyID0gc3RuTmFtZUVsZW0uZ2V0KDApLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgICAgbGV0IGR4ID0gYmNyLnJpZ2h0IC0gYmNyLmxlZnQgKyA1XHJcblxyXG4gICAgICAgIHRoaXMuX2ludEluZm9zLm1hcCgoc3RuLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBpbnRlcmNoYW5nZSBsaW5lIGljb24gYWZ0ZXIgc3RhdGlvbiBuYW1lXHJcbiAgICAgICAgICAgIHZhciBsaW5lSWNvbkNvbG91ciA9IHN0bltJbnRJbmZvVGFnLmNvbG91cl07XHJcbiAgICAgICAgICAgIHZhciBsaW5lSWNvbkVsZW0gPSAkKCc8dXNlPicsIHtcclxuICAgICAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnRfc2gnLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogbGluZUljb25Db2xvdXIsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtkeCArIGluZGV4ICogMjV9LC0xMilgLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdybWctbGluZV9fc2htZXRybyBybWctbGluZV9fY2hhbmdlJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lSWNvbkVsZW0uYWRkQ2xhc3MoJ3JtZy1saW5lX19wYXNzJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGxpbmUgc3RhcnRzIHdpdGggbnVtYmVycyBvciBsZXR0ZXJzXHJcbiAgICAgICAgICAgIGxldCBsaW5lTnVtYmVyID0gU3RyaW5nKHN0bltJbnRJbmZvVGFnLm5hbWVaSF0pLm1hdGNoKC8oXFxkKilcXHcrLylcclxuICAgICAgICAgICAgaWYgKGxpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lTmFtZSA9IGxpbmVOdW1iZXJbMF1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lTmFtZSA9IFN0cmluZyhzdG5bSW50SW5mb1RhZy5uYW1lWkhdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGludGVyY2hhbmdlIGxpbmUgbmFtZVxyXG4gICAgICAgICAgICB2YXIgbGluZU5hbWVFbGVtID0gJCgnPHRleHQ+Jywge1xyXG4gICAgICAgICAgICAgICAgLy8gVG9kbzogZml4IHRoaXMgaGFyZC1jb2RlZCBjZW50ZXIoMTApIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtkeCArIDEwICsgaW5kZXggKiAyNX0sOClgLFxyXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdybWctbmFtZV9femggcm1nLW5hbWVfX3NobWV0cm8tLWxpbmVfbmFtZScsXHJcbiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiAnbWlkZGxlJyxcclxuICAgICAgICAgICAgICAgIGZpbGw6IHN0bltJbnRJbmZvVGFnLmZnXSxcclxuICAgICAgICAgICAgfSkudGV4dChsaW5lTmFtZSlcclxuXHJcbiAgICAgICAgICAgIGxpbmVFbGVtcy5wdXNoKGxpbmVJY29uRWxlbSwgbGluZU5hbWVFbGVtKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIHJvdGF0ZSB0aGUgc3RhdGlvbiBpbmZvIG5vd1xyXG4gICAgICAgIC8vIG90aGVyIHdpc2UgdGhlIGJjciB3aWxsIGJlIGluYWNjdXJhdGUgZHVlIHRvIHRoZSByb3RhdGlvblxyXG4gICAgICAgIGxldCBzdG5JbmZvRWxlbSA9IHN0bk5hbWVFbGVtLnBhcmVudCgpO1xyXG4gICAgICAgIHN0bkluZm9FbGVtLmF0dHIoJ3RyYW5zZm9ybScsIGAke3N0bkluZm9FbGVtLmF0dHIoJ3RyYW5zZm9ybScpfXJvdGF0ZSgtNTApYClcclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbmVFbGVtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgX25hbWVDbGFzcygpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuc3RhdGUgPT0gLTEpID8gJ1Bhc3MnIDogJ0Z1dHVyZSc7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFJNR1N0YXRpb25TSCwgSW50U3RhdGlvblNILCBzdGF0aW9uX2lkIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=