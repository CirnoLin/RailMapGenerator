(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["LineSH"],{

/***/ "./src/Line/LineSH.ts":
/*!****************************!*\
  !*** ./src/Line/LineSH.ts ***!
  \****************************/
/*! exports provided: RMGLineSH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLineSH", function() { return RMGLineSH; });
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");
/* harmony import */ var _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/StationSH */ "./src/Station/StationSH.ts");


class RMGLineSH extends _Line__WEBPACK_IMPORTED_MODULE_0__["RMGLine"] {
    constructor(param) {
        super(param);
    }
    _initStnInstance(stnId, stnInfo) {
        switch (stnInfo.change_type) {
            case 'int2':
            case 'int3_l':
            case 'int3_r':
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
            case 'osi11_ur':
            case 'osi11_pr':
            case 'osi12_ul':
            case 'osi12_pl':
            case 'osi12_ur':
            case 'osi12_pr':
            case 'osi21_ul':
            case 'osi21_pl':
            case 'osi21_ur':
            case 'osi21_pr':
            case 'osi22_ul':
            case 'osi22_pl':
            case 'osi22_ur':
            case 'osi22_pr':
            default:
                return new _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["RMGStationSH"](stnId, stnInfo);
        }
    }
    // draw the destination
    drawDestInfo() {
        $('#station_info_shmetro > #platform > text').text(this._platformNum);
        var bcr = $('#station_info_shmetro > #dest_text')[0].getBoundingClientRect();
        var flagLength = 160 + 150 + bcr.width + 45 + 50;
        // arrow
        var isLeft = (this._direction == 'l') ? 1 : -1;
        var arrowX = (this._svgDestWidth - isLeft * flagLength) / 20;
        arrowX = (this._direction == 'l') ? arrowX : this._svgDestWidth - 20;
        var arrowRotate = 90 * (1 - isLeft);
        $('#station_info_shmetro > #arrow_left_use').attr('transform', `translate(${arrowX},135)rotate(${arrowRotate})`);
        // not in use now
        var platformNumX = arrowX + isLeft * (160 + 50 + 75);
        $('#station_info_shmetro > #platform').attr('transform', `translate(${platformNumX},130)`);
        // list the destination text
        // Todo: fix svg_dest_width*0.8, this has only been tested on 1000 width
        if (this._direction === 'r') {
            var txtAnchor = 'end';
            var destNameX = this._svgDestWidth * 0.8;
        }
        else {
            var txtAnchor = 'start';
            var destNameX = this._svgDestWidth * 0.2;
        }
        $('#station_info_shmetro > #dest_text').attr({
            transform: `translate(${destNameX},135)`,
            'text-anchor': txtAnchor
        });
        // for each left valid destinations, get the name from id
        var [destinations_zh, destinations_en] = [[], []];
        this[`${this._direction}ValidDests`].forEach(stn => {
            destinations_zh.push(this.stations[stn].name[0]);
            destinations_en.push(this.stations[stn].name[1]);
        });
        $('#station_info_shmetro > #dest_text > text:first-child').text(`往${destinations_zh.join("，")}`);
        $('#station_info_shmetro > #dest_text > text:last-child').text(`To ${destinations_en.join(", ")}`);
        // prepare for the line name
        let lineNameX = this._direction === 'l' ? this._svgDestWidth : 320;
        var [lineNameZH, lineNameEN] = this._lineNames;
        // line starts with numbers or letters
        var lineNumber = lineNameZH.match(/(\d*)\w+/);
        if (lineNumber) {
            lineNameX -= 180;
            lineNameZH = "号线";
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 150},70)`,
            });
            $('#station_info_shmetro > #line_number > text')
                .show().text(lineNumber[0])
                .attr({
                transform: `translate(${lineNameX - 95},170)`,
                style: 'letter-spacing:-10px',
                'text-anchor': 'middle'
            });
            // Chito: If match format X号线, "号线" always black
            // ignore inherit style from g#line_name_text
            $('#station_info_shmetro > #line_name_text text').attr('fill', 'black');
        }
        else {
            lineNameX -= 280;
            $('#station_info_shmetro > #line_number > rect').attr({
                fill: this._themeColour,
                'transform': `translate(${lineNameX - 10},60)`,
                'width': 260,
                'height': 150
            });
            $('#station_info_shmetro > #line_number > text').hide();
            // Chito: If not match format X号线, use inherit style
            $('#station_info_shmetro > #line_name_text text').removeAttr('fill');
            // Todo: set the eng in the middle
            $('#station_info_shmetro > #line_name_text > text:last-child').attr('dx', 10);
        }
        // set the line name
        $('#station_info_shmetro > #line_name_text > text:first-child').text(lineNameZH);
        $('#station_info_shmetro > #line_name_text > text:last-child').text(lineNameEN);
        $('#station_info_shmetro > #line_name_text').attr({
            transform: `translate(${lineNameX},135)`,
            'text-anchor': 'start'
        });
        // the last decoration line
        let path = '';
        if (this._direction == 'l') {
            path = `M30,10 H ${this._svgDestWidth - 20} V 20 H 20 Z`;
        }
        else {
            path = `M20,10 H ${this._svgDestWidth - 30} l 10,10 H 20 Z`;
        }
        $('#line_shmetro_use').attr({
            transform: `translate(0,220)`,
            d: path,
        });
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
        for (let [stnId, stnInstance] of Object.entries(this.stations)
            .filter(stn => stn[1] instanceof _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["IntStationSH"])) {
            $(`#rmg-name__shmetro--${stnId}`).parent().append(stnInstance.ungrpIconHTML);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    // rewrite this to change the y of branch station
    _stnYShare(stnId) {
        if (this.branches[0].includes(stnId))
            return 0;
        else
            return 3;
    }
    _linePath(stnIds, type) {
        var [prevId, prevY, prevX] = [];
        var path = {};
        const e = 30;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path['start'] = [x, y];
                return;
            }
            if (y === 0) {
                // merge back to main line
                if (y != prevY) {
                    path['bifurcate'] = [prevX, prevY];
                }
            }
            else {
                // on the branch line
                if (y != prevY) {
                    path['bifurcate'] = [x, y];
                }
            }
            path['end'] = [x, y];
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // generate path
        if (!path.hasOwnProperty('start')) {
            // no line generated
            // keys in path: none
            return '';
        }
        else if (!path.hasOwnProperty('end')) {
            // litte line (only beyond terminal station)
            // keys in path: start
            let [x, y] = path['start'];
            if (type === 'main') {
                // current at terminal(end) station, draw the litte main line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x - e},${y - 6} l -12,12 L ${x},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                // current at terminal(start) station, draw the litte pass line
                if (this._direction === 'l') {
                    return `M ${x},${y - 6} L ${x + e},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} L ${x},${y - 6} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else if (!path.hasOwnProperty('bifurcate')) {
            // general main line
            // keys in path: start, end
            let [x, y] = path['start'], h = path['end'][0];
            if (type === 'main') {
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h} l 0,12 L ${x - 42},${y + 6} Z`;
                }
                else {
                    return `M ${x},${y - 6} H ${h + e} l 12,12 L ${x},${y + 6} Z`;
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
                else {
                    return `M ${x - e},${y - 6} H ${h + e} l 0,12 L ${x - e},${y + 6} Z`;
                }
            }
        }
        else {
            // main line bifurcate here to become the branch line
            // and path return here are only branch line
            // keys in path: start, bifurcate, end
            // Todo: disable lower branch
            let [x, y] = path['start'], h = path['end'][0];
            let [xb, yb] = path['bifurcate'], [xm, ym] = path['end'];
            if (type === 'main') {
                if (this._direction === 'l') {
                    if (ym > y) {
                        // main line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e - 12},${y + 6} Z`;
                    }
                    else {
                        // main line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm},${ym + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // main line, right direction, upper to center
                        return `M ${x},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                    else {
                        // main line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${xm + e},${ym - 6} H ${xb - e} L ${x},${y - 6} l 0,12 L ${xb - e},${yb + 6} L ${xm + e + 12},${ym + 6} Z`;
                    }
                }
            }
            else {
                // type === 'pass'
                if (this._direction === 'l') {
                    if (ym > y) {
                        // pass line, left direction, center to upper
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, left direction, upper to center
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
                else {
                    if (ym > y) {
                        // pass line, right direction, upper to center
                        return `M ${x - e},${y - 6} H ${xb + e} L ${xm},${ym - 6} l 0,12 L ${xb + e},${yb + 6} L ${x - e},${y + 6} Z`;
                    }
                    else {
                        // pass line, right direction, center to upper
                        // this same as the other, but replace x with xm and xm with x
                        return `M ${x},${y - 6} L ${xb - e},${yb - 6} H ${xm + e} l 0,12 L ${xb - e},${yb + 6} L ${x},${y + 6} Z`;
                    }
                }
            }
        }
    }
    // draw the line in railmap
    drawLine() {
        $('.rmg-line').removeClass('rmg-line__mtr').addClass('rmg-line__shmetro');
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            // rewrite the second parameter to get the path correctly
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns, 'main') }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns, 'pass') }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    fillThemeColour() {
        super.fillThemeColour();
        // this will add the stroke of the station circle
        // however the stroke path is defined in index.html
        // which made changing station style strange
        $('circle#' + _Station_StationSH__WEBPACK_IMPORTED_MODULE_1__["station_id"]).attr('stroke', this._themeColour);
        $('path#int2_sh').attr('stroke', this._themeColour);
        // pass stroke should be added somewhere else
        // but I can't figure it out
        // Chito: path#stn_sh now have stroke attribute #aaa, no need to change. 
        // the railmap line
        $('#line_main').children().attr('fill', this._themeColour);
        $('#line_pass').children().attr('fill', '#aaa');
        // the last decoration line
        $(`#line_shmetro_use`).attr('fill', this._themeColour);
        // if (this._lineNames[0].match(/(\d*)\w+/)) {
        //     // the line starts with number
        //     $('#station_info_shmetro > #line_number > text').attr('fill', '#fff')
        // } else {
        //     // the line starts with letter
        //     $('#station_info_shmetro > #line_name_text').attr('fill', '#fff')
        // }
        // Chito: g#line_name_text's fill always equal to the foreground colour, 
        // while inner text elements may have different fill, see drawDestInfo()
        $('#station_info_shmetro > #line_name_text').attr('fill', this._fgColour);
        // dest info line color (both background and foreground)
        $('#station_info_shmetro > #line_number > rect').attr('fill', this._themeColour);
        $('#station_info_shmetro > #line_number > text').attr('fill', this._fgColour);
    }
    updateStnNameBg() {
        $('#current_bg').hide(); // fix the mysterious black rect
    }
    // rewrite this to make sure the line is draw before color
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        // change the func call here
        line.drawLine();
        line.fillThemeColour();
        // change the func call here
        line.drawStrip();
        line.drawDestInfo();
        line.updateStnNameBg();
    }
    // rewrite this to call fillThemeColour when flip direction
    set direction(val) {
        super.direction = val;
        this.fillThemeColour();
    }
    // rewrite this to call fillThemeColour when set current station
    set currentStnId(val) {
        super.currentStnId = val;
        this.fillThemeColour();
    }
    set lineNames(val) {
        super.lineNames = val;
        this.drawDestInfo();
    }
    // rewrite this to get drawStns and recalled
    updateStnTransfer(stnId, type, info = null) {
        super.updateStnTransfer(stnId, type, info);
        this.fillThemeColour();
        // clear the original stations
        $('#stn_icons').empty();
        this.drawStns();
    }
    // rewrite this to call fillThemeColour when add station
    addStn(prep, stnId, loc, end) {
        let [newId, newInfo] = super.addStn(prep, stnId, loc, end);
        this.fillThemeColour();
        return [newId, newInfo];
    }
    // rewrite this to change the railmap position
    set yPc(val) {
        super.yPc = val;
        let y = val * this._svgHeight / 50;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        super.padding = val;
        this.fillThemeColour();
    }
    set branchSpacing(val) {
        super.branchSpacing = val;
        this.fillThemeColour();
    }
    removeStn(stnId) {
        if (super.removeStn(stnId)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchType(stnId, direction, type) {
        // Chito: This method should be remove when this._stnState() is updated. 
        if (!super.updateBranchType(stnId, direction, type)) {
            return false;
        }
        this.fillThemeColour();
        return true;
    }
    updateBranchFirst(stnId, direction, first) {
        if (super.updateBranchFirst(stnId, direction, first)) {
            this.fillThemeColour();
            return true;
        }
        else {
            return false;
        }
    }
    updateBranchPos(stnId, direction, pos) {
        // Chito: This method should be remove when this._stnState() is updated. 
        if (!super.updateBranchPos(stnId, direction, pos)) {
            return false;
        }
        this.fillThemeColour();
        return true;
    }
}


/***/ }),

/***/ "./src/Station/StationSH.ts":
/*!**********************************!*\
  !*** ./src/Station/StationSH.ts ***!
  \**********************************/
/*! exports provided: RMGStationSH, IntStationSH, station_id */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStationSH", function() { return RMGStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntStationSH", function() { return IntStationSH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "station_id", function() { return station_id; });
/* harmony import */ var _Station__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Station */ "./src/Station/Station.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


const station_id = 'stn_sh';
class RMGStationSH extends _Station__WEBPACK_IMPORTED_MODULE_0__["RMGStation"] {
    constructor(id, data) {
        super(id, data);
        this.stnNum = data.num;
    }
    get _nameShift() { return false; }
    get _tickRotation() { return this.y > 0 ? 180 : 0; }
    get _dxdy() {
        var nameENLn = this.name[1].split('\\').length;
        let dx;
        if (this._nameShift) {
            dx = this._tickRotation === 0 ? -9 : 16 + (nameENLn - 1) * 12 * Math.cos(-45);
        }
        else {
            dx = this._tickRotation === 0 ? (24 + (nameENLn - 1) * 12) * Math.cos(-45) : -6;
        }
        // let dx = this._nameShift ? -8 : (24 + (nameENLn-1)*12) * Math.cos(-45);
        let dy = this._tickRotation === 0 ? (-4 - 21.921875 - (nameENLn - 1) * 12 * Math.cos(-45)) : 17.5;
        // var dy = (-4 - 21.921875 - (nameENLn-1)*12*Math.cos(-45)) * (this._tickRotation === 0 ? 1 : -1);
        return [dx, dy];
    }
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? [station_id + '_pass', 'Pass'] : [station_id, 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn' }));
    }
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        return $('<g>', {
            'transform': `translate(${this.x - dx},${this.y + dy})rotate(-50)`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            // class: `Name ${this.nameClass}`
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1])));
    }
}
class IntStationSH extends RMGStationSH {
    constructor(id, data) {
        super(id, data);
        this._intInfos = data.transfer.info[0];
    }
    // rewrite this to append dom and then getBoundingClientRect
    // to get the exact position where int icon can be fit
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
    // rewrite this to get all drawing function to be called
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get ungrpIconHTML() {
        return [...this.intTickHTML];
    }
    // interchange station icon on main line
    get iconHTML() {
        var [iconType, numClass] = (this.state == -1) ? ['int2_sh_pass', 'Pass'] : ['int2_sh', 'Future'];
        return $('<g>', { transform: `translate(${this.x},${this.y})` })
            .append($('<use>', { 'xlink:href': '#' + iconType, class: 'rmg-stn', stroke: this._intInfos[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour] }));
    }
    // regular station name
    get nameHTML() {
        let [dx, dy] = this._dxdy;
        // wrap the name, decro_line and int_line under g in order to rotate at once
        return $('<g>', {
            transform: `translate(${this.x - dx},${this.y + dy})`,
        }).append(
        // the original name text
        $('<g>', {
            id: `rmg-name__shmetro--${this.id}`,
            'text-anchor': this._tickRotation === 0 ? 'start' : 'end',
            class: `Name Future` // todo: fix this
        }).append($('<text>').addClass('rmg-name__zh rmg-name__shmetro--station').text(this.name[0])).append($('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__shmetro--station'
        }).text(this.name[1].split('\\')[0]).append($('<tspan>', {
            'x': 0, 'dy': 12
        }).text(this.name[1].split('\\')[1]))));
    }
    // interchange station icon after the station name
    get intTickHTML() {
        let lineElems = [];
        // get the exact station name width so that the
        // interchange station icon can be right after the station name
        let stnNameElem = $(`#rmg-name__shmetro--${this.id}`);
        let bcr = stnNameElem.get(0).getBoundingClientRect();
        let dx = bcr.right - bcr.left + 5;
        this._intInfos.map((stn, index) => {
            // interchange line icon after station name
            let lineIconColour = stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].colour];
            let lineIconElem = $('<use>', {
                fill: lineIconColour,
                class: 'rmg-line__shmetro rmg-line__change',
            });
            if (this.state == -1) {
                lineIconElem.addClass('rmg-line__pass');
            }
            // interchange line name
            let lineNameElem = $('<text>', {
                class: 'rmg-name__zh rmg-name__shmetro--line_name',
                'text-anchor': 'middle',
                fill: stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].fg],
            });
            // line starts with numbers or letters
            let lineNumber = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]).match(/(\d*)\w+/);
            if (lineNumber) {
                // number line
                var lineName = lineNumber[0];
                lineIconElem.attr({
                    'xlink:href': '#int_sh_number',
                    transform: `translate(${dx + index * 25},-12)`,
                });
                lineNameElem.attr({
                    // Todo: fix this hard-coded center(10) position
                    transform: `translate(${dx + 10 + index * 25},8)`,
                }).text(lineName);
            }
            else {
                // letter line
                var lineName = String(stn[_utils__WEBPACK_IMPORTED_MODULE_1__["IntInfoTag"].nameZH]);
                lineIconElem.attr({
                    'xlink:href': '#int_sh_letter',
                    transform: `translate(${dx + index * 70},-12)`,
                });
                lineNameElem.attr({
                    // Todo: fix this hard-coded center(30) position
                    transform: `translate(${dx + 30 + index * 70},8)`,
                }).text(lineName);
            }
            lineElems.push(lineIconElem, lineNameElem);
        });
        // rotate the station info now
        // other wise the bcr will be inaccurate due to the rotation
        let stnInfoElem = stnNameElem.parent();
        stnInfoElem.attr('transform', `${stnInfoElem.attr('transform')}rotate(-50)`);
        return lineElems;
    }
    get _nameClass() {
        return (this.state == -1) ? 'Pass' : 'Future';
    }
}



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9MaW5lU0gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvblNILnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFpQztBQUM2QztBQUt2RSxNQUFNLFNBQVUsU0FBUSw2Q0FBTztJQUNsQyxZQUFZLEtBQUs7UUFDYixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELGdCQUFnQixDQUFDLEtBQVMsRUFBRSxPQUFvQjtRQUM1QyxRQUFRLE9BQU8sQ0FBQyxXQUFXLEVBQUU7WUFDekIsS0FBSyxNQUFNLENBQUM7WUFDWixLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssUUFBUTtnQkFDVCxPQUFPLElBQUksK0RBQVksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDNUMsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEIsS0FBSyxVQUFVLENBQUM7WUFDaEI7Z0JBQ0ksT0FBTyxJQUFJLCtEQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQy9DO0lBQ0wsQ0FBQztJQUVELHVCQUF1QjtJQUN2QixZQUFZO1FBQ1IsQ0FBQyxDQUFDLDBDQUEwQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUks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QUM3QyxZQUFZLENBQUMsSUFBSSxDQUFDO29CQUNkLFlBQVksRUFBRSxnQkFBZ0I7b0JBQzlCLFNBQVMsRUFBRSxhQUFhLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxPQUFPO2lCQUNqRCxDQUFDO2dCQUNGLFlBQVksQ0FBQyxJQUFJLENBQUM7b0JBQ2QsZ0RBQWdEO29CQUNoRCxTQUFTLEVBQUUsYUFBYSxFQUFFLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLEtBQUs7aUJBQ3BELENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO2FBQ3BCO1lBRUQsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsWUFBWSxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUVGLDhCQUE4QjtRQUM5Qiw0REFBNEQ7UUFDNUQsSUFBSSxXQUFXLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3ZDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDO1FBRTVFLE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUNsRCxDQUFDO0NBQ0o7QUFFaUQiLCJmaWxlIjoiTGluZVNILm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJNR0xpbmUgfSBmcm9tICcuL0xpbmUnO1xyXG5pbXBvcnQgeyBSTUdTdGF0aW9uU0gsIEludFN0YXRpb25TSCwgc3RhdGlvbl9pZCB9IGZyb20gJy4uL1N0YXRpb24vU3RhdGlvblNIJztcclxuaW1wb3J0IHsgUk1HU3RhdGlvbiB9IGZyb20gJy4uL1N0YXRpb24vU3RhdGlvbic7XHJcblxyXG5pbXBvcnQgeyBJRCwgTmFtZSwgU3RhdGlvbkluZm8sIFJNR1BhcmFtLCBzZXRQYXJhbXMsIERpcmVjdGlvbkxvbmcgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUk1HTGluZVNIIGV4dGVuZHMgUk1HTGluZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBfaW5pdFN0bkluc3RhbmNlKHN0bklkOiBJRCwgc3RuSW5mbzogU3RhdGlvbkluZm8pOiBSTUdTdGF0aW9uIHtcclxuICAgICAgICBzd2l0Y2ggKHN0bkluZm8uY2hhbmdlX3R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnaW50Mic6XHJcbiAgICAgICAgICAgIGNhc2UgJ2ludDNfbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2ludDNfcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludFN0YXRpb25TSChzdG5JZCwgc3RuSW5mbyk7XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTFfcGwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMV91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3ByJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTJfdWwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kxMl9wbCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTEyX3VyJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMTJfcHInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMV91bCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIxX3BsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjFfdXInOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMV9wcic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3VsJzpcclxuICAgICAgICAgICAgY2FzZSAnb3NpMjJfcGwnOlxyXG4gICAgICAgICAgICBjYXNlICdvc2kyMl91cic6XHJcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3ByJzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUk1HU3RhdGlvblNIKHN0bklkLCBzdG5JbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZHJhdyB0aGUgZGVzdGluYXRpb25cclxuICAgIGRyYXdEZXN0SW5mbygpIHtcclxuICAgICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjcGxhdGZvcm0gPiB0ZXh0JykudGV4dCh0aGlzLl9wbGF0Zm9ybU51bSk7XHJcblxyXG4gICAgICAgIHZhciBiY3IgPSAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjZGVzdF90ZXh0JylbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIGZsYWdMZW5ndGggPSAxNjAgKyAxNTAgKyBiY3Iud2lkdGggKyA0NSArIDUwO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIGFycm93XHJcbiAgICAgICAgdmFyIGlzTGVmdCA9ICh0aGlzLl9kaXJlY3Rpb24gPT0gJ2wnKSA/IDEgOiAtMTtcclxuICAgICAgICB2YXIgYXJyb3dYID0gKHRoaXMuX3N2Z0Rlc3RXaWR0aCAtIGlzTGVmdCAqIGZsYWdMZW5ndGgpIC8gMjA7XHJcbiAgICAgICAgYXJyb3dYID0gKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpID8gYXJyb3dYIDogdGhpcy5fc3ZnRGVzdFdpZHRoIC0gMjA7XHJcbiAgICAgICAgdmFyIGFycm93Um90YXRlID0gOTAgKiAoMSAtIGlzTGVmdCk7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2Fycm93X2xlZnRfdXNlJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2Fycm93WH0sMTM1KXJvdGF0ZSgke2Fycm93Um90YXRlfSlgKTtcclxuXHJcbiAgICAgICAgLy8gbm90IGluIHVzZSBub3dcclxuICAgICAgICB2YXIgcGxhdGZvcm1OdW1YID0gYXJyb3dYICsgaXNMZWZ0ICogKDE2MCArIDUwICsgNzUpO1xyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNwbGF0Zm9ybScpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtwbGF0Zm9ybU51bVh9LDEzMClgKTtcclxuXHJcbiAgICAgICAgLy8gbGlzdCB0aGUgZGVzdGluYXRpb24gdGV4dFxyXG4gICAgICAgIC8vIFRvZG86IGZpeCBzdmdfZGVzdF93aWR0aCowLjgsIHRoaXMgaGFzIG9ubHkgYmVlbiB0ZXN0ZWQgb24gMTAwMCB3aWR0aFxyXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdyJykge1xyXG4gICAgICAgICAgICB2YXIgdHh0QW5jaG9yID0gJ2VuZCc7XHJcbiAgICAgICAgICAgIHZhciBkZXN0TmFtZVggPSB0aGlzLl9zdmdEZXN0V2lkdGggKiAwLjg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHR4dEFuY2hvciA9ICdzdGFydCc7XHJcbiAgICAgICAgICAgIHZhciBkZXN0TmFtZVggPSB0aGlzLl9zdmdEZXN0V2lkdGggKiAwLjI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNkZXN0X3RleHQnKS5hdHRyKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZGVzdE5hbWVYfSwxMzUpYCxcclxuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdHh0QW5jaG9yXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGZvciBlYWNoIGxlZnQgdmFsaWQgZGVzdGluYXRpb25zLCBnZXQgdGhlIG5hbWUgZnJvbSBpZFxyXG4gICAgICAgIHZhciBbZGVzdGluYXRpb25zX3poLCBkZXN0aW5hdGlvbnNfZW5dOiBTdHJpbmdbXVtdID0gW1tdLCBbXV1cclxuICAgICAgICB0aGlzW2Ake3RoaXMuX2RpcmVjdGlvbn1WYWxpZERlc3RzYF0uZm9yRWFjaChzdG4gPT4ge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbnNfemgucHVzaCh0aGlzLnN0YXRpb25zW3N0bl0ubmFtZVswXSlcclxuICAgICAgICAgICAgZGVzdGluYXRpb25zX2VuLnB1c2godGhpcy5zdGF0aW9uc1tzdG5dLm5hbWVbMV0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2Rlc3RfdGV4dCA+IHRleHQ6Zmlyc3QtY2hpbGQnKS50ZXh0KGDlvoAke2Rlc3RpbmF0aW9uc196aC5qb2luKFwi77yMXCIpfWApXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2Rlc3RfdGV4dCA+IHRleHQ6bGFzdC1jaGlsZCcpLnRleHQoYFRvICR7ZGVzdGluYXRpb25zX2VuLmpvaW4oXCIsIFwiKX1gKVxyXG5cclxuICAgICAgICAvLyBwcmVwYXJlIGZvciB0aGUgbGluZSBuYW1lXHJcbiAgICAgICAgbGV0IGxpbmVOYW1lWCA9IHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnID8gdGhpcy5fc3ZnRGVzdFdpZHRoIDogMzIwXHJcbiAgICAgICAgdmFyIFtsaW5lTmFtZVpILCBsaW5lTmFtZUVOXSA9IHRoaXMuX2xpbmVOYW1lcztcclxuXHJcbiAgICAgICAgLy8gbGluZSBzdGFydHMgd2l0aCBudW1iZXJzIG9yIGxldHRlcnNcclxuICAgICAgICB2YXIgbGluZU51bWJlciA9IGxpbmVOYW1lWkgubWF0Y2goLyhcXGQqKVxcdysvKVxyXG4gICAgICAgIGlmIChsaW5lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIGxpbmVOYW1lWCAtPSAxODA7XHJcbiAgICAgICAgICAgIGxpbmVOYW1lWkggPSBcIuWPt+e6v1wiXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX251bWJlciA+IHJlY3QnKS5hdHRyKHtcclxuICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMuX3RoZW1lQ29sb3VyLFxyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHtsaW5lTmFtZVggLSAxNTB9LDcwKWAsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX251bWJlciA+IHRleHQnKVxyXG4gICAgICAgICAgICAgICAgLnNob3coKS50ZXh0KGxpbmVOdW1iZXJbMF0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bGluZU5hbWVYIC0gOTV9LDE3MClgLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnbGV0dGVyLXNwYWNpbmc6LTEwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2hpdG86IElmIG1hdGNoIGZvcm1hdCBY5Y+357q/LCBcIuWPt+e6v1wiIGFsd2F5cyBibGFja1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgaW5oZXJpdCBzdHlsZSBmcm9tIGcjbGluZV9uYW1lX3RleHRcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0IHRleHQnKS5hdHRyKCdmaWxsJywgJ2JsYWNrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGluZU5hbWVYIC09IDI4MDtcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gcmVjdCcpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgZmlsbDogdGhpcy5fdGhlbWVDb2xvdXIsIFxyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHtsaW5lTmFtZVggLSAxMH0sNjApYCxcclxuICAgICAgICAgICAgICAgICd3aWR0aCc6IDI2MCxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAxNTBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gdGV4dCcpLmhpZGUoKVxyXG5cclxuICAgICAgICAgICAgLy8gQ2hpdG86IElmIG5vdCBtYXRjaCBmb3JtYXQgWOWPt+e6vywgdXNlIGluaGVyaXQgc3R5bGVcclxuICAgICAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0IHRleHQnKS5yZW1vdmVBdHRyKCdmaWxsJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBUb2RvOiBzZXQgdGhlIGVuZyBpbiB0aGUgbWlkZGxlXHJcbiAgICAgICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCA+IHRleHQ6bGFzdC1jaGlsZCcpLmF0dHIoJ2R4JywgMTApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGxpbmUgbmFtZVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCA+IHRleHQ6Zmlyc3QtY2hpbGQnKS50ZXh0KGxpbmVOYW1lWkgpXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbmFtZV90ZXh0ID4gdGV4dDpsYXN0LWNoaWxkJykudGV4dChsaW5lTmFtZUVOKVxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCcpLmF0dHIoe1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtsaW5lTmFtZVh9LDEzNSlgLFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiAnc3RhcnQnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRoZSBsYXN0IGRlY29yYXRpb24gbGluZVxyXG4gICAgICAgIGxldCBwYXRoID0gJydcclxuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09ICdsJykge1xyXG4gICAgICAgICAgICBwYXRoID0gYE0zMCwxMCBIICR7dGhpcy5fc3ZnRGVzdFdpZHRoIC0gMjB9IFYgMjAgSCAyMCBaYFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBgTTIwLDEwIEggJHt0aGlzLl9zdmdEZXN0V2lkdGggLSAzMH0gbCAxMCwxMCBIIDIwIFpgXHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNsaW5lX3NobWV0cm9fdXNlJykuYXR0cih7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgwLDIyMClgLFxyXG4gICAgICAgICAgICBkOiBwYXRoLFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGFwcGVuZCBkb20gYW5kIHRoZW4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0XHJcbiAgICAvLyB0byBnZXQgdGhlIGV4YWN0IHBvc2l0aW9uIHdoZXJlIGludCBpY29uIGNhbiBiZSBmaXRcclxuICAgIGRyYXdTdG5zKCkge1xyXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQoc3RuSW5zdGFuY2UuaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpOyAvLyBSZWZyZXNoIERPTVxyXG5cclxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKVxyXG4gICAgICAgICAgICAuZmlsdGVyKHN0biA9PiBzdG5bMV0gaW5zdGFuY2VvZiBJbnRTdGF0aW9uU0gpIGFzIFtJRCwgSW50U3RhdGlvblNIXVtdKSB7XHJcbiAgICAgICAgICAgICQoYCNybWctbmFtZV9fc2htZXRyby0tJHtzdG5JZH1gKS5wYXJlbnQoKS5hcHBlbmQoc3RuSW5zdGFuY2UudW5ncnBJY29uSFRNTClcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmh0bWwoJCgnI3N0bl9pY29ucycpLmh0bWwoKSk7IC8vIFJlZnJlc2ggRE9NXHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV3cml0ZSB0aGlzIHRvIGNoYW5nZSB0aGUgeSBvZiBicmFuY2ggc3RhdGlvblxyXG4gICAgX3N0bllTaGFyZShzdG5JZCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKHRoaXMuYnJhbmNoZXNbMF0uaW5jbHVkZXMoc3RuSWQpKSByZXR1cm4gMDtcclxuICAgICAgICBlbHNlIHJldHVybiAzXHJcbiAgICB9XHJcblxyXG4gICAgX2xpbmVQYXRoKHN0bklkczogSURbXSwgdHlwZT86ICdtYWluJyB8ICdwYXNzJyk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIFtwcmV2SWQsIHByZXZZLCBwcmV2WF06IFtzdHJpbmc/LCBudW1iZXI/LCBudW1iZXI/XSA9IFtdXHJcbiAgICAgICAgdmFyIHBhdGg6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9XHJcbiAgICAgICAgY29uc3QgZSA9IDMwXHJcblxyXG4gICAgICAgIHN0bklkcy5mb3JFYWNoKHN0bklkID0+IHtcclxuICAgICAgICAgICAgdmFyIFt4LCB5XSA9IFsnX3N0blJlYWxYJywgJ19zdG5SZWFsWSddLm1hcChmdW4gPT4gdGhpc1tmdW5dKHN0bklkKSlcclxuICAgICAgICAgICAgaWYgKCFwcmV2WSAmJiBwcmV2WSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgW3ByZXZJZCwgcHJldlgsIHByZXZZXSA9IFtzdG5JZCwgeCwgeV07XHJcbiAgICAgICAgICAgICAgICBwYXRoWydzdGFydCddID0gW3gsIHldO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGJhY2sgdG8gbWFpbiBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBwcmV2WSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhbJ2JpZnVyY2F0ZSddID0gW3ByZXZYLCBwcmV2WV1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBicmFuY2ggbGluZVxyXG4gICAgICAgICAgICAgICAgaWYgKHkgIT0gcHJldlkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoWydiaWZ1cmNhdGUnXSA9IFt4LCB5XVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGhbJ2VuZCddID0gW3gsIHldO1xyXG4gICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgcGF0aFxyXG4gICAgICAgIGlmICghcGF0aC5oYXNPd25Qcm9wZXJ0eSgnc3RhcnQnKSkge1xyXG4gICAgICAgICAgICAvLyBubyBsaW5lIGdlbmVyYXRlZFxyXG4gICAgICAgICAgICAvLyBrZXlzIGluIHBhdGg6IG5vbmVcclxuICAgICAgICAgICAgcmV0dXJuICcnXHJcbiAgICAgICAgfSBlbHNlIGlmICghcGF0aC5oYXNPd25Qcm9wZXJ0eSgnZW5kJykpIHtcclxuICAgICAgICAgICAgLy8gbGl0dGUgbGluZSAob25seSBiZXlvbmQgdGVybWluYWwgc3RhdGlvbilcclxuICAgICAgICAgICAgLy8ga2V5cyBpbiBwYXRoOiBzdGFydFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXVxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21haW4nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjdXJyZW50IGF0IHRlcm1pbmFsKGVuZCkgc3RhdGlvbiwgZHJhdyB0aGUgbGl0dGUgbWFpbiBsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBMICR7eCAtIGV9LCR7eSAtIDZ9IGwgLTEyLDEyIEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4fSwke3kgLSA2fSBMICR7eCArIGV9LCR7eSAtIDZ9IGwgMTIsMTIgTCAke3h9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0eXBlID09PSAncGFzcydcclxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgYXQgdGVybWluYWwoc3RhcnQpIHN0YXRpb24sIGRyYXcgdGhlIGxpdHRlIHBhc3MgbGluZVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gTCAke3ggKyBlfSwke3kgLSA2fSBsIDAsMTIgTCAke3ggLSBlfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gTCAke3h9LCR7eSAtIDZ9IGwgMCwxMiBMICR7eCAtIGV9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXBhdGguaGFzT3duUHJvcGVydHkoJ2JpZnVyY2F0ZScpKSB7XHJcbiAgICAgICAgICAgIC8vIGdlbmVyYWwgbWFpbiBsaW5lXHJcbiAgICAgICAgICAgIC8vIGtleXMgaW4gcGF0aDogc3RhcnQsIGVuZFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXSwgaCA9IHBhdGhbJ2VuZCddWzBdXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWFpbicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7aH0gbCAwLDEyIEwgJHt4IC0gNDJ9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAxMiwxMiBMICR7eH0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIHR5cGUgPT09ICdwYXNzJ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2wnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAwLDEyIEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eCAtIGV9LCR7eSAtIDZ9IEggJHtoICsgZX0gbCAwLDEyIEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG1haW4gbGluZSBiaWZ1cmNhdGUgaGVyZSB0byBiZWNvbWUgdGhlIGJyYW5jaCBsaW5lXHJcbiAgICAgICAgICAgIC8vIGFuZCBwYXRoIHJldHVybiBoZXJlIGFyZSBvbmx5IGJyYW5jaCBsaW5lXHJcbiAgICAgICAgICAgIC8vIGtleXMgaW4gcGF0aDogc3RhcnQsIGJpZnVyY2F0ZSwgZW5kXHJcblxyXG4gICAgICAgICAgICAvLyBUb2RvOiBkaXNhYmxlIGxvd2VyIGJyYW5jaFxyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gcGF0aFsnc3RhcnQnXSwgaCA9IHBhdGhbJ2VuZCddWzBdXHJcbiAgICAgICAgICAgIGxldCBbeGIsIHliXSA9IHBhdGhbJ2JpZnVyY2F0ZSddLCBbeG0sIHltXSA9IHBhdGhbJ2VuZCddXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWFpbicpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5bSA+IHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFpbiBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4IC0gZSAtIDEyfSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1haW4gbGluZSwgbGVmdCBkaXJlY3Rpb24sIHVwcGVyIHRvIGNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHNhbWUgYXMgdGhlIG90aGVyLCBidXQgcmVwbGFjZSB4IHdpdGggeG0gYW5kIHhtIHdpdGggeFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4bX0sJHt5bSAtIDZ9IEggJHt4YiAtIGV9IEwgJHt4fSwke3kgLSA2fSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4bX0sJHt5bSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeW0gPiB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1haW4gbGluZSwgcmlnaHQgZGlyZWN0aW9uLCB1cHBlciB0byBjZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBNICR7eH0sJHt5IC0gNn0gSCAke3hiICsgZX0gTCAke3htfSwke3ltIC0gNn0gbCAwLDEyIEwgJHt4YiArIGV9LCR7eWIgKyA2fSBMICR7eH0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWluIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3htICsgZX0sJHt5bSAtIDZ9IEggJHt4YiAtIGV9IEwgJHt4fSwke3kgLSA2fSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4bSArIGUgKyAxMn0sJHt5bSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gdHlwZSA9PT0gJ3Bhc3MnXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSAnbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeW0gPiB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhc3MgbGluZSwgbGVmdCBkaXJlY3Rpb24sIGNlbnRlciB0byB1cHBlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYE0gJHt4IC0gZX0sJHt5IC0gNn0gSCAke3hiICsgZX0gTCAke3htfSwke3ltIC0gNn0gbCAwLDEyIEwgJHt4YiArIGV9LCR7eWIgKyA2fSBMICR7eCAtIGV9LCR7eSArIDZ9IFpgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFzcyBsaW5lLCBsZWZ0IGRpcmVjdGlvbiwgdXBwZXIgdG8gY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4YiAtIGV9LCR7eWIgLSA2fSBIICR7eG0gKyBlfSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHltID4geSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgdXBwZXIgdG8gY2VudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3ggLSBlfSwke3kgLSA2fSBIICR7eGIgKyBlfSBMICR7eG19LCR7eW0gLSA2fSBsIDAsMTIgTCAke3hiICsgZX0sJHt5YiArIDZ9IEwgJHt4IC0gZX0sJHt5ICsgNn0gWmBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIGxpbmUsIHJpZ2h0IGRpcmVjdGlvbiwgY2VudGVyIHRvIHVwcGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2FtZSBhcyB0aGUgb3RoZXIsIGJ1dCByZXBsYWNlIHggd2l0aCB4bSBhbmQgeG0gd2l0aCB4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgTSAke3h9LCR7eSAtIDZ9IEwgJHt4YiAtIGV9LCR7eWIgLSA2fSBIICR7eG0gKyBlfSBsIDAsMTIgTCAke3hiIC0gZX0sJHt5YiArIDZ9IEwgJHt4fSwke3kgKyA2fSBaYFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBkcmF3IHRoZSBsaW5lIGluIHJhaWxtYXBcclxuICAgIGRyYXdMaW5lKCkge1xyXG4gICAgICAgICQoJy5ybWctbGluZScpLnJlbW92ZUNsYXNzKCdybWctbGluZV9fbXRyJykuYWRkQ2xhc3MoJ3JtZy1saW5lX19zaG1ldHJvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYnJhbmNoZXMubWFwKGJyYW5jaCA9PiB7XHJcbiAgICAgICAgICAgIHZhciBsaW5lTWFpblN0bnMgPSBicmFuY2guZmlsdGVyKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlID49IDApO1xyXG4gICAgICAgICAgICB2YXIgbGluZVBhc3NTdG5zID0gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5zdGF0ZSA8PSAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsaW5lTWFpblN0bnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMgPSBicmFuY2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChsaW5lTWFpblN0bnMuZmlsdGVyKHN0bklkID0+IGxpbmVQYXNzU3Rucy5pbmRleE9mKHN0bklkKSAhPT0gLTEpLmxlbmd0aCA9PSAwICYmIGxpbmVNYWluU3Rucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHR3byBzZXQgZGlzam9pbnRcclxuICAgICAgICAgICAgICAgIGlmIChsaW5lUGFzc1N0bnNbMF0gPT09IGJyYW5jaFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0xIC0xIDEgMVxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3Rucy5wdXNoKGxpbmVNYWluU3Ruc1swXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmVNYWluU3Ruc1swXSA9PT0gYnJhbmNoWzBdICYmIGxpbmVNYWluU3Ruc1tsaW5lTWFpblN0bnMubGVuZ3RoLTFdID09PSBicmFuY2hbYnJhbmNoLmxlbmd0aC0xXSAmJiBsaW5lUGFzc1N0bnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVBhc3NTdG5zID0gYnJhbmNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVNYWluU3RucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAxIDEgLTEgLTFcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMudW5zaGlmdChsaW5lTWFpblN0bnNbbGluZU1haW5TdG5zLmxlbmd0aC0xXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gZ2V0IHRoZSBwYXRoIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAkKCcjbGluZV9tYWluJykuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZU1haW5TdG5zLCAnbWFpbicpfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgJCgnI2xpbmVfcGFzcycpLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzxwYXRoPicsIHtkOnRoaXMuX2xpbmVQYXRoKGxpbmVQYXNzU3RucywgJ3Bhc3MnKX0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNsaW5lX21haW4nKS5odG1sKCQoJyNsaW5lX21haW4nKS5odG1sKCkpO1xyXG4gICAgICAgICQoJyNsaW5lX3Bhc3MnKS5odG1sKCQoJyNsaW5lX3Bhc3MnKS5odG1sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGxUaGVtZUNvbG91cigpIHtcclxuICAgICAgICBzdXBlci5maWxsVGhlbWVDb2xvdXIoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcyB3aWxsIGFkZCB0aGUgc3Ryb2tlIG9mIHRoZSBzdGF0aW9uIGNpcmNsZVxyXG4gICAgICAgIC8vIGhvd2V2ZXIgdGhlIHN0cm9rZSBwYXRoIGlzIGRlZmluZWQgaW4gaW5kZXguaHRtbFxyXG4gICAgICAgIC8vIHdoaWNoIG1hZGUgY2hhbmdpbmcgc3RhdGlvbiBzdHlsZSBzdHJhbmdlXHJcbiAgICAgICAgJCgnY2lyY2xlIycgKyBzdGF0aW9uX2lkKS5hdHRyKCdzdHJva2UnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcbiAgICAgICAgJCgncGF0aCNpbnQyX3NoJykuYXR0cignc3Ryb2tlJywgdGhpcy5fdGhlbWVDb2xvdXIpO1xyXG5cclxuICAgICAgICAvLyBwYXNzIHN0cm9rZSBzaG91bGQgYmUgYWRkZWQgc29tZXdoZXJlIGVsc2VcclxuICAgICAgICAvLyBidXQgSSBjYW4ndCBmaWd1cmUgaXQgb3V0XHJcbiAgICAgICAgLy8gQ2hpdG86IHBhdGgjc3RuX3NoIG5vdyBoYXZlIHN0cm9rZSBhdHRyaWJ1dGUgI2FhYSwgbm8gbmVlZCB0byBjaGFuZ2UuIFxyXG5cclxuICAgICAgICAvLyB0aGUgcmFpbG1hcCBsaW5lXHJcbiAgICAgICAgJCgnI2xpbmVfbWFpbicpLmNoaWxkcmVuKCkuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKVxyXG4gICAgICAgICQoJyNsaW5lX3Bhc3MnKS5jaGlsZHJlbigpLmF0dHIoJ2ZpbGwnLCAnI2FhYScpXHJcblxyXG4gICAgICAgIC8vIHRoZSBsYXN0IGRlY29yYXRpb24gbGluZVxyXG4gICAgICAgICQoYCNsaW5lX3NobWV0cm9fdXNlYCkuYXR0cignZmlsbCcsIHRoaXMuX3RoZW1lQ29sb3VyKVxyXG5cclxuICAgICAgICAvLyBpZiAodGhpcy5fbGluZU5hbWVzWzBdLm1hdGNoKC8oXFxkKilcXHcrLykpIHtcclxuICAgICAgICAvLyAgICAgLy8gdGhlIGxpbmUgc3RhcnRzIHdpdGggbnVtYmVyXHJcbiAgICAgICAgLy8gICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX251bWJlciA+IHRleHQnKS5hdHRyKCdmaWxsJywgJyNmZmYnKVxyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgIC8vIHRoZSBsaW5lIHN0YXJ0cyB3aXRoIGxldHRlclxyXG4gICAgICAgIC8vICAgICAkKCcjc3RhdGlvbl9pbmZvX3NobWV0cm8gPiAjbGluZV9uYW1lX3RleHQnKS5hdHRyKCdmaWxsJywgJyNmZmYnKVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBDaGl0bzogZyNsaW5lX25hbWVfdGV4dCdzIGZpbGwgYWx3YXlzIGVxdWFsIHRvIHRoZSBmb3JlZ3JvdW5kIGNvbG91ciwgXHJcbiAgICAgICAgLy8gd2hpbGUgaW5uZXIgdGV4dCBlbGVtZW50cyBtYXkgaGF2ZSBkaWZmZXJlbnQgZmlsbCwgc2VlIGRyYXdEZXN0SW5mbygpXHJcblxyXG4gICAgICAgICQoJyNzdGF0aW9uX2luZm9fc2htZXRybyA+ICNsaW5lX25hbWVfdGV4dCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl9mZ0NvbG91cik7XHJcblxyXG4gICAgICAgIC8vIGRlc3QgaW5mbyBsaW5lIGNvbG9yIChib3RoIGJhY2tncm91bmQgYW5kIGZvcmVncm91bmQpXHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gcmVjdCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XHJcbiAgICAgICAgJCgnI3N0YXRpb25faW5mb19zaG1ldHJvID4gI2xpbmVfbnVtYmVyID4gdGV4dCcpLmF0dHIoJ2ZpbGwnLCB0aGlzLl9mZ0NvbG91cik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU3RuTmFtZUJnKCkge1xyXG4gICAgICAgICQoJyNjdXJyZW50X2JnJykuaGlkZSgpOyAgLy8gZml4IHRoZSBteXN0ZXJpb3VzIGJsYWNrIHJlY3RcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gbWFrZSBzdXJlIHRoZSBsaW5lIGlzIGRyYXcgYmVmb3JlIGNvbG9yXHJcbiAgICBzdGF0aWMgaW5pdFNWRyhsaW5lKSB7XHJcbiAgICAgICAgbGluZS5kcmF3U1ZHRnJhbWUoKTtcclxuICAgICAgICBsaW5lLnNob3dGcmFtZU91dGVyKCk7XHJcbiAgICAgICAgbGluZS5kcmF3U3RucygpO1xyXG5cclxuICAgICAgICAvLyBjaGFuZ2UgdGhlIGZ1bmMgY2FsbCBoZXJlXHJcbiAgICAgICAgbGluZS5kcmF3TGluZSgpO1xyXG4gICAgICAgIGxpbmUuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICAgICAgLy8gY2hhbmdlIHRoZSBmdW5jIGNhbGwgaGVyZVxyXG5cclxuICAgICAgICBsaW5lLmRyYXdTdHJpcCgpO1xyXG4gICAgICAgIGxpbmUuZHJhd0Rlc3RJbmZvKCk7XHJcbiAgICAgICAgbGluZS51cGRhdGVTdG5OYW1lQmcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2FsbCBmaWxsVGhlbWVDb2xvdXIgd2hlbiBmbGlwIGRpcmVjdGlvblxyXG4gICAgc2V0IGRpcmVjdGlvbih2YWwpIHtcclxuICAgICAgICBzdXBlci5kaXJlY3Rpb24gPSB2YWxcclxuXHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBjYWxsIGZpbGxUaGVtZUNvbG91ciB3aGVuIHNldCBjdXJyZW50IHN0YXRpb25cclxuICAgIHNldCBjdXJyZW50U3RuSWQodmFsKSB7XHJcbiAgICAgICAgc3VwZXIuY3VycmVudFN0bklkID0gdmFsXHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbGluZU5hbWVzKHZhbDogTmFtZSkge1xyXG4gICAgICAgIHN1cGVyLmxpbmVOYW1lcyA9IHZhbDtcclxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBnZXQgZHJhd1N0bnMgYW5kIHJlY2FsbGVkXHJcbiAgICB1cGRhdGVTdG5UcmFuc2ZlcihzdG5JZDogSUQsIHR5cGUsIGluZm8gPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUsIGluZm8pXHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuXHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIG9yaWdpbmFsIHN0YXRpb25zXHJcbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmVtcHR5KClcclxuICAgICAgICB0aGlzLmRyYXdTdG5zKClcclxuICAgIH1cclxuXHJcbiAgICAvLyByZXdyaXRlIHRoaXMgdG8gY2FsbCBmaWxsVGhlbWVDb2xvdXIgd2hlbiBhZGQgc3RhdGlvblxyXG4gICAgYWRkU3RuKHByZXA6ICdiZWZvcmUnIHwgJ2FmdGVyJywgc3RuSWQ6IElELCBsb2MsIGVuZDogSUQpOiBbSUQsIFN0YXRpb25JbmZvXSB7XHJcbiAgICAgICAgbGV0IFtuZXdJZCwgbmV3SW5mb10gPSBzdXBlci5hZGRTdG4ocHJlcCwgc3RuSWQsIGxvYywgZW5kKVxyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKClcclxuICAgICAgICByZXR1cm4gW25ld0lkLCBuZXdJbmZvXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBjaGFuZ2UgdGhlIHJhaWxtYXAgcG9zaXRpb25cclxuICAgIHNldCB5UGModmFsKSB7XHJcbiAgICAgICAgc3VwZXIueVBjID0gdmFsXHJcblxyXG4gICAgICAgIGxldCB5ID0gdmFsICogdGhpcy5fc3ZnSGVpZ2h0IC8gNTA7XHJcbiAgICAgICAgJCgnZyNtYWluJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCR7eX0pYCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHBhZGRpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5wYWRkaW5nID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGJyYW5jaFNwYWNpbmcodmFsOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlci5icmFuY2hTcGFjaW5nID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlU3RuKHN0bklkOiBJRCkge1xyXG4gICAgICAgIGlmIChzdXBlci5yZW1vdmVTdG4oc3RuSWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQnJhbmNoVHlwZShzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgdHlwZTogJ3Rocm91Z2gnIHwgJ25vbnRocm91Z2gnKSB7XHJcbiAgICAgICAgLy8gQ2hpdG86IFRoaXMgbWV0aG9kIHNob3VsZCBiZSByZW1vdmUgd2hlbiB0aGlzLl9zdG5TdGF0ZSgpIGlzIHVwZGF0ZWQuIFxyXG4gICAgICAgIGlmICghc3VwZXIudXBkYXRlQnJhbmNoVHlwZShzdG5JZCwgZGlyZWN0aW9uLCB0eXBlKSkge3JldHVybiBmYWxzZTt9XHJcbiAgICAgICAgdGhpcy5maWxsVGhlbWVDb2xvdXIoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVCcmFuY2hGaXJzdChzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgZmlyc3Q6IElEKSB7XHJcbiAgICAgICAgaWYgKHN1cGVyLnVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkLCBkaXJlY3Rpb24sIGZpcnN0KSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUJyYW5jaFBvcyhzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgcG9zOiAwIHwgMSkge1xyXG4gICAgICAgIC8vIENoaXRvOiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgcmVtb3ZlIHdoZW4gdGhpcy5fc3RuU3RhdGUoKSBpcyB1cGRhdGVkLiBcclxuICAgICAgICBpZiAoIXN1cGVyLnVwZGF0ZUJyYW5jaFBvcyhzdG5JZCwgZGlyZWN0aW9uLCBwb3MpKSB7cmV0dXJuIGZhbHNlO31cclxuICAgICAgICB0aGlzLmZpbGxUaGVtZUNvbG91cigpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJNR1N0YXRpb24gfSBmcm9tICcuL1N0YXRpb24nO1xyXG5pbXBvcnQgeyBJRCwgTmFtZSwgQnJhbmNoSW5mbywgU3RhdGlvbkluZm8sIEludEluZm9UYWcsIEludGVyY2hhbmdlSW5mbyB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IHN0YXRpb25faWQgPSAnc3RuX3NoJ1xyXG5cclxuY2xhc3MgUk1HU3RhdGlvblNIIGV4dGVuZHMgUk1HU3RhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuc3RuTnVtID0gZGF0YS5udW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IF9uYW1lU2hpZnQoKSB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7IHJldHVybiB0aGlzLnkgPiAwID8gMTgwIDogMDsgfVxyXG4gICAgZ2V0IF9keGR5KCkge1xyXG4gICAgICAgIHZhciBuYW1lRU5MbiA9IHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpLmxlbmd0aDtcclxuICAgICAgICBsZXQgZHg6IG51bWJlcjtcclxuICAgICAgICBpZiAodGhpcy5fbmFtZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gLTkgOiAxNiArIChuYW1lRU5MbiAtIDEpICogMTIgKiBNYXRoLmNvcygtNDUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGR4ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKDI0ICsgKG5hbWVFTkxuIC0gMSkgKiAxMikgKiBNYXRoLmNvcygtNDUpIDogLTY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGxldCBkeCA9IHRoaXMuX25hbWVTaGlmdCA/IC04IDogKDI0ICsgKG5hbWVFTkxuLTEpKjEyKSAqIE1hdGguY29zKC00NSk7XHJcbiAgICAgICAgbGV0IGR5ID0gdGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gKC00IC0gMjEuOTIxODc1IC0gKG5hbWVFTkxuIC0gMSkgKiAxMiAqIE1hdGguY29zKC00NSkpIDogMTcuNTtcclxuICAgICAgICAvLyB2YXIgZHkgPSAoLTQgLSAyMS45MjE4NzUgLSAobmFtZUVOTG4tMSkqMTIqTWF0aC5jb3MoLTQ1KSkgKiAodGhpcy5fdGlja1JvdGF0aW9uID09PSAwID8gMSA6IC0xKTtcclxuICAgICAgICByZXR1cm4gW2R4LCBkeV1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWNvbkhUTUwoKSB7XHJcbiAgICAgICAgdmFyIFtpY29uVHlwZSwgbnVtQ2xhc3NdID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gW3N0YXRpb25faWQgKyAnX3Bhc3MnLCAnUGFzcyddIDogW3N0YXRpb25faWQsICdGdXR1cmUnXTtcclxuICAgICAgICByZXR1cm4gJCgnPGc+JywgeyB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlgIH0pXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJCgnPHVzZT4nLCB7ICd4bGluazpocmVmJzogJyMnICsgaWNvblR5cGUsIGNsYXNzOiAncm1nLXN0bicgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICBsZXQgW2R4LCBkeV0gPSB0aGlzLl9keGR5XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLnggLSBkeH0sJHt0aGlzLnkgKyBkeX0pcm90YXRlKC01MClgLFxyXG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAnc3RhcnQnIDogJ2VuZCcsXHJcbiAgICAgICAgICAgIC8vIGNsYXNzOiBgTmFtZSAke3RoaXMubmFtZUNsYXNzfWBcclxuICAgICAgICAgICAgY2xhc3M6IGBOYW1lIEZ1dHVyZWAgIC8vIHRvZG86IGZpeCB0aGlzXHJcbiAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19zaG1ldHJvLS1zdGF0aW9uJykudGV4dCh0aGlzLm5hbWVbMF0pXHJcbiAgICAgICAgKS5hcHBlbmQoXHJcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcclxuICAgICAgICAgICAgICAgIGR5OiAxNSwgY2xhc3M6ICdybWctbmFtZV9fZW4gcm1nLW5hbWVfX3NobWV0cm8tLXN0YXRpb24nXHJcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5uYW1lWzFdLnNwbGl0KCdcXFxcJylbMF0pLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3gnOiAwLCAnZHknOiAxMlxyXG4gICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVsxXSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEludFN0YXRpb25TSCBleHRlbmRzIFJNR1N0YXRpb25TSCB7XHJcbiAgICBwcm90ZWN0ZWQgX2ludEluZm9zOiBJbnRlcmNoYW5nZUluZm9bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XHJcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS50cmFuc2Zlci5pbmZvWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBhcHBlbmQgZG9tIGFuZCB0aGVuIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxyXG4gICAgLy8gdG8gZ2V0IHRoZSBleGFjdCBwb3NpdGlvbiB3aGVyZSBpbnQgaWNvbiBjYW4gYmUgZml0XHJcbiAgICBnZXQgaHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gJCgnPGc+JywgeyBpZDogdGhpcy5pZCB9KS5hcHBlbmQoLi4udGhpcy51bmdycEhUTUwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJld3JpdGUgdGhpcyB0byBnZXQgYWxsIGRyYXdpbmcgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXHJcbiAgICBnZXQgdW5ncnBIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5pY29uSFRNTCwgdGhpcy5uYW1lSFRNTF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuZ3JwSWNvbkhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLmludFRpY2tIVE1MXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGludGVyY2hhbmdlIHN0YXRpb24gaWNvbiBvbiBtYWluIGxpbmVcclxuICAgIGdldCBpY29uSFRNTCgpIHtcclxuICAgICAgICB2YXIgW2ljb25UeXBlLCBudW1DbGFzc10gPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyBbJ2ludDJfc2hfcGFzcycsICdQYXNzJ10gOiBbJ2ludDJfc2gnLCAnRnV0dXJlJ107XHJcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHsgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pYCB9KVxyXG4gICAgICAgICAgICAuYXBwZW5kKCQoJzx1c2U+JywgeyAneGxpbms6aHJlZic6ICcjJyArIGljb25UeXBlLCBjbGFzczogJ3JtZy1zdG4nLCBzdHJva2U6IHRoaXMuX2ludEluZm9zW0ludEluZm9UYWcuY29sb3VyXSB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVndWxhciBzdGF0aW9uIG5hbWVcclxuICAgIGdldCBuYW1lSFRNTCgpIHtcclxuICAgICAgICBsZXQgW2R4LCBkeV0gPSB0aGlzLl9keGR5O1xyXG4gICAgICAgIC8vIHdyYXAgdGhlIG5hbWUsIGRlY3JvX2xpbmUgYW5kIGludF9saW5lIHVuZGVyIGcgaW4gb3JkZXIgdG8gcm90YXRlIGF0IG9uY2VcclxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggLSBkeH0sJHt0aGlzLnkgKyBkeX0pYCwgIC8vcm90YXRlKC02MClcclxuICAgICAgICB9KS5hcHBlbmQoXHJcbiAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBuYW1lIHRleHRcclxuICAgICAgICAgICAgJCgnPGc+Jywge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGBybWctbmFtZV9fc2htZXRyby0tJHt0aGlzLmlkfWAsXHJcbiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl90aWNrUm90YXRpb24gPT09IDAgPyAnc3RhcnQnIDogJ2VuZCcsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogYE5hbWUgRnV0dXJlYCAgLy8gdG9kbzogZml4IHRoaXNcclxuICAgICAgICAgICAgfSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fc2htZXRyby0tc3RhdGlvbicpLnRleHQodGhpcy5uYW1lWzBdKVxyXG4gICAgICAgICAgICApLmFwcGVuZChcclxuICAgICAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcclxuICAgICAgICAgICAgICAgICAgICBkeTogMTUsIGNsYXNzOiAncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19zaG1ldHJvLS1zdGF0aW9uJ1xyXG4gICAgICAgICAgICAgICAgfSkudGV4dCh0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKVswXSkuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogMCwgJ2R5JzogMTJcclxuICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KHRoaXMubmFtZVsxXS5zcGxpdCgnXFxcXCcpWzFdKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGludGVyY2hhbmdlIHN0YXRpb24gaWNvbiBhZnRlciB0aGUgc3RhdGlvbiBuYW1lXHJcbiAgICBnZXQgaW50VGlja0hUTUwoKSB7XHJcbiAgICAgICAgbGV0IGxpbmVFbGVtczogSlF1ZXJ5PEhUTUxFbGVtZW50PltdID0gW11cclxuXHJcbiAgICAgICAgLy8gZ2V0IHRoZSBleGFjdCBzdGF0aW9uIG5hbWUgd2lkdGggc28gdGhhdCB0aGVcclxuICAgICAgICAvLyBpbnRlcmNoYW5nZSBzdGF0aW9uIGljb24gY2FuIGJlIHJpZ2h0IGFmdGVyIHRoZSBzdGF0aW9uIG5hbWVcclxuICAgICAgICBsZXQgc3RuTmFtZUVsZW0gPSAkKGAjcm1nLW5hbWVfX3NobWV0cm8tLSR7dGhpcy5pZH1gKVxyXG4gICAgICAgIGxldCBiY3IgPSBzdG5OYW1lRWxlbS5nZXQoMCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICBsZXQgZHggPSBiY3IucmlnaHQgLSBiY3IubGVmdCArIDVcclxuXHJcbiAgICAgICAgdGhpcy5faW50SW5mb3MubWFwKChzdG4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGludGVyY2hhbmdlIGxpbmUgaWNvbiBhZnRlciBzdGF0aW9uIG5hbWVcclxuICAgICAgICAgICAgbGV0IGxpbmVJY29uQ29sb3VyID0gc3RuW0ludEluZm9UYWcuY29sb3VyXTtcclxuICAgICAgICAgICAgbGV0IGxpbmVJY29uRWxlbSA9ICQoJzx1c2U+Jywge1xyXG4gICAgICAgICAgICAgICAgZmlsbDogbGluZUljb25Db2xvdXIsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3JtZy1saW5lX19zaG1ldHJvIHJtZy1saW5lX19jaGFuZ2UnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVJY29uRWxlbS5hZGRDbGFzcygncm1nLWxpbmVfX3Bhc3MnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaW50ZXJjaGFuZ2UgbGluZSBuYW1lXHJcbiAgICAgICAgICAgIGxldCBsaW5lTmFtZUVsZW0gPSAkKCc8dGV4dD4nLCB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogJ3JtZy1uYW1lX196aCBybWctbmFtZV9fc2htZXRyby0tbGluZV9uYW1lJyxcclxuICAgICAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLFxyXG4gICAgICAgICAgICAgICAgZmlsbDogc3RuW0ludEluZm9UYWcuZmddLFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gbGluZSBzdGFydHMgd2l0aCBudW1iZXJzIG9yIGxldHRlcnNcclxuICAgICAgICAgICAgbGV0IGxpbmVOdW1iZXIgPSBTdHJpbmcoc3RuW0ludEluZm9UYWcubmFtZVpIXSkubWF0Y2goLyhcXGQqKVxcdysvKVxyXG4gICAgICAgICAgICBpZiAobGluZU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gbnVtYmVyIGxpbmVcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lTmFtZSA9IGxpbmVOdW1iZXJbMF1cclxuICAgICAgICAgICAgICAgIGxpbmVJY29uRWxlbS5hdHRyKHtcclxuICAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50X3NoX251bWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZHggKyBpbmRleCAqIDI1fSwtMTIpYCxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBsaW5lTmFtZUVsZW0uYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9kbzogZml4IHRoaXMgaGFyZC1jb2RlZCBjZW50ZXIoMTApIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7ZHggKyAxMCArIGluZGV4ICogMjV9LDgpYCxcclxuICAgICAgICAgICAgICAgIH0pLnRleHQobGluZU5hbWUpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBsZXR0ZXIgbGluZVxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVOYW1lID0gU3RyaW5nKHN0bltJbnRJbmZvVGFnLm5hbWVaSF0pXHJcbiAgICAgICAgICAgICAgICBsaW5lSWNvbkVsZW0uYXR0cih7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI2ludF9zaF9sZXR0ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2R4ICsgaW5kZXggKiA3MH0sLTEyKWAsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgbGluZU5hbWVFbGVtLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRvZG86IGZpeCB0aGlzIGhhcmQtY29kZWQgY2VudGVyKDMwKSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2R4ICsgMzAgKyBpbmRleCAqIDcwfSw4KWAsXHJcbiAgICAgICAgICAgICAgICB9KS50ZXh0KGxpbmVOYW1lKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaW5lRWxlbXMucHVzaChsaW5lSWNvbkVsZW0sIGxpbmVOYW1lRWxlbSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyByb3RhdGUgdGhlIHN0YXRpb24gaW5mbyBub3dcclxuICAgICAgICAvLyBvdGhlciB3aXNlIHRoZSBiY3Igd2lsbCBiZSBpbmFjY3VyYXRlIGR1ZSB0byB0aGUgcm90YXRpb25cclxuICAgICAgICBsZXQgc3RuSW5mb0VsZW0gPSBzdG5OYW1lRWxlbS5wYXJlbnQoKTtcclxuICAgICAgICBzdG5JbmZvRWxlbS5hdHRyKCd0cmFuc2Zvcm0nLCBgJHtzdG5JbmZvRWxlbS5hdHRyKCd0cmFuc2Zvcm0nKX1yb3RhdGUoLTUwKWApXHJcblxyXG4gICAgICAgIHJldHVybiBsaW5lRWxlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IF9uYW1lQ2xhc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBSTUdTdGF0aW9uU0gsIEludFN0YXRpb25TSCwgc3RhdGlvbl9pZCB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9